/*!For license information please see 1468-8e87438c4be0d30c5158.js.LICENSE.txt*/(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1468],{5651:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(2599);function n(t,e,r){return void 0===e&&(e=new Uint8Array(2)),void 0===r&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}function s(t,e,r){return void 0===e&&(e=new Uint8Array(2)),void 0===r&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}function o(t,e){return void 0===e&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function a(t,e){return void 0===e&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}function h(t,e){return void 0===e&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}function u(t,e){return void 0===e&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}function f(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}function c(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}function l(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),f(t/4294967296>>>0,e,r),f(t>>>0,e,r+4),e}function d(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),c(t>>>0,e,r),c(t/4294967296>>>0,e,r+4),e}e.readInt16BE=function(t,e){return void 0===e&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16},e.readUint16BE=function(t,e){return void 0===e&&(e=0),(t[e+0]<<8|t[e+1])>>>0},e.readInt16LE=function(t,e){return void 0===e&&(e=0),(t[e+1]<<8|t[e])<<16>>16},e.readUint16LE=function(t,e){return void 0===e&&(e=0),(t[e+1]<<8|t[e])>>>0},e.writeUint16BE=n,e.writeInt16BE=n,e.writeUint16LE=s,e.writeInt16LE=s,e.readInt32BE=o,e.readUint32BE=a,e.readInt32LE=h,e.readUint32LE=u,e.writeUint32BE=f,e.writeInt32BE=f,e.writeUint32LE=c,e.writeInt32LE=c,e.readInt64BE=function(t,e){void 0===e&&(e=0);var r=o(t,e),i=o(t,e+4);return 4294967296*r+i-4294967296*(i>>31)},e.readUint64BE=function(t,e){return void 0===e&&(e=0),4294967296*a(t,e)+a(t,e+4)},e.readInt64LE=function(t,e){void 0===e&&(e=0);var r=h(t,e);return 4294967296*h(t,e+4)+r-4294967296*(r>>31)},e.readUint64LE=function(t,e){void 0===e&&(e=0);var r=u(t,e);return 4294967296*u(t,e+4)+r},e.writeUint64BE=l,e.writeInt64BE=l,e.writeUint64LE=d,e.writeInt64LE=d,e.readUintBE=function(t,e,r){if(void 0===r&&(r=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var i=0,n=1,s=t/8+r-1;s>=r;s--)i+=e[s]*n,n*=256;return i},e.readUintLE=function(t,e,r){if(void 0===r&&(r=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var i=0,n=1,s=r;s<r+t/8;s++)i+=e[s]*n,n*=256;return i},e.writeUintBE=function(t,e,r,n){if(void 0===r&&(r=new Uint8Array(t/8)),void 0===n&&(n=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!i.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var s=1,o=t/8+n-1;o>=n;o--)r[o]=e/s&255,s*=256;return r},e.writeUintLE=function(t,e,r,n){if(void 0===r&&(r=new Uint8Array(t/8)),void 0===n&&(n=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!i.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var s=1,o=n;o<n+t/8;o++)r[o]=e/s&255,s*=256;return r},e.readFloat32BE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(e)},e.readFloat32LE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(e,!0)},e.readFloat64BE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(e)},e.readFloat64LE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(e,!0)},e.writeFloat32BE=function(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(r,t),e},e.writeFloat32LE=function(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(r,t,!0),e},e.writeFloat64BE=function(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(r,t),e},e.writeFloat64LE=function(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(r,t,!0),e}},9253:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(5651),n=r(7691),s=20;function o(t,e,r){for(var n=1634760805,o=857760878,a=2036477234,h=1797285236,u=r[3]<<24|r[2]<<16|r[1]<<8|r[0],f=r[7]<<24|r[6]<<16|r[5]<<8|r[4],c=r[11]<<24|r[10]<<16|r[9]<<8|r[8],l=r[15]<<24|r[14]<<16|r[13]<<8|r[12],d=r[19]<<24|r[18]<<16|r[17]<<8|r[16],p=r[23]<<24|r[22]<<16|r[21]<<8|r[20],g=r[27]<<24|r[26]<<16|r[25]<<8|r[24],m=r[31]<<24|r[30]<<16|r[29]<<8|r[28],v=e[3]<<24|e[2]<<16|e[1]<<8|e[0],y=e[7]<<24|e[6]<<16|e[5]<<8|e[4],w=e[11]<<24|e[10]<<16|e[9]<<8|e[8],b=e[15]<<24|e[14]<<16|e[13]<<8|e[12],A=n,E=o,M=a,_=h,S=u,I=f,N=c,x=l,C=d,O=p,B=g,P=m,R=v,T=y,k=w,U=b,D=0;D<s;D+=2)S=(S^=C=C+(R=(R^=A=A+S|0)>>>16|R<<16)|0)>>>20|S<<12,I=(I^=O=O+(T=(T^=E=E+I|0)>>>16|T<<16)|0)>>>20|I<<12,N=(N^=B=B+(k=(k^=M=M+N|0)>>>16|k<<16)|0)>>>20|N<<12,x=(x^=P=P+(U=(U^=_=_+x|0)>>>16|U<<16)|0)>>>20|x<<12,N=(N^=B=B+(k=(k^=M=M+N|0)>>>24|k<<8)|0)>>>25|N<<7,x=(x^=P=P+(U=(U^=_=_+x|0)>>>24|U<<8)|0)>>>25|x<<7,I=(I^=O=O+(T=(T^=E=E+I|0)>>>24|T<<8)|0)>>>25|I<<7,S=(S^=C=C+(R=(R^=A=A+S|0)>>>24|R<<8)|0)>>>25|S<<7,I=(I^=B=B+(U=(U^=A=A+I|0)>>>16|U<<16)|0)>>>20|I<<12,N=(N^=P=P+(R=(R^=E=E+N|0)>>>16|R<<16)|0)>>>20|N<<12,x=(x^=C=C+(T=(T^=M=M+x|0)>>>16|T<<16)|0)>>>20|x<<12,S=(S^=O=O+(k=(k^=_=_+S|0)>>>16|k<<16)|0)>>>20|S<<12,x=(x^=C=C+(T=(T^=M=M+x|0)>>>24|T<<8)|0)>>>25|x<<7,S=(S^=O=O+(k=(k^=_=_+S|0)>>>24|k<<8)|0)>>>25|S<<7,N=(N^=P=P+(R=(R^=E=E+N|0)>>>24|R<<8)|0)>>>25|N<<7,I=(I^=B=B+(U=(U^=A=A+I|0)>>>24|U<<8)|0)>>>25|I<<7;i.writeUint32LE(A+n|0,t,0),i.writeUint32LE(E+o|0,t,4),i.writeUint32LE(M+a|0,t,8),i.writeUint32LE(_+h|0,t,12),i.writeUint32LE(S+u|0,t,16),i.writeUint32LE(I+f|0,t,20),i.writeUint32LE(N+c|0,t,24),i.writeUint32LE(x+l|0,t,28),i.writeUint32LE(C+d|0,t,32),i.writeUint32LE(O+p|0,t,36),i.writeUint32LE(B+g|0,t,40),i.writeUint32LE(P+m|0,t,44),i.writeUint32LE(R+v|0,t,48),i.writeUint32LE(T+y|0,t,52),i.writeUint32LE(k+w|0,t,56),i.writeUint32LE(U+b|0,t,60)}function a(t,e,r,i,s){if(void 0===s&&(s=0),32!==t.length)throw new Error("ChaCha: key size must be 32 bytes");if(i.length<r.length)throw new Error("ChaCha: destination is shorter than source");var a,u;if(0===s){if(8!==e.length&&12!==e.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");u=(a=new Uint8Array(16)).length-e.length,a.set(e,u)}else{if(16!==e.length)throw new Error("ChaCha nonce with counter must be 16 bytes");a=e,u=s}for(var f=new Uint8Array(64),c=0;c<r.length;c+=64){o(f,a,t);for(var l=c;l<c+64&&l<r.length;l++)i[l]=r[l]^f[l-c];h(a,0,u)}return n.wipe(f),0===s&&n.wipe(a),i}function h(t,e,r){for(var i=1;r--;)i=i+(255&t[e])|0,t[e]=255&i,i>>>=8,e++;if(i>0)throw new Error("ChaCha: counter overflow")}e.streamXOR=a,e.stream=function(t,e,r,i){return void 0===i&&(i=0),n.wipe(r),a(t,e,r,r,i)}},8571:function(t,e,r){"use strict";var i=r(9253),n=r(3875),s=r(7691),o=r(5651),a=r(2059);e.J4=32,e.PX=12,e.iW=16;var h=new Uint8Array(16),u=function(){function t(t){if(this.nonceLength=e.PX,this.tagLength=e.iW,t.length!==e.J4)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(t)}return t.prototype.seal=function(t,e,r,n){if(t.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var o=new Uint8Array(16);o.set(t,o.length-t.length);var a=new Uint8Array(32);i.stream(this._key,o,a,4);var h,u=e.length+this.tagLength;if(n){if(n.length!==u)throw new Error("ChaCha20Poly1305: incorrect destination length");h=n}else h=new Uint8Array(u);return i.streamXOR(this._key,o,e,h,4),this._authenticate(h.subarray(h.length-this.tagLength,h.length),a,h.subarray(0,h.length-this.tagLength),r),s.wipe(o),h},t.prototype.open=function(t,e,r,n){if(t.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(e.length<this.tagLength)return null;var o=new Uint8Array(16);o.set(t,o.length-t.length);var h=new Uint8Array(32);i.stream(this._key,o,h,4);var u=new Uint8Array(this.tagLength);if(this._authenticate(u,h,e.subarray(0,e.length-this.tagLength),r),!a.equal(u,e.subarray(e.length-this.tagLength,e.length)))return null;var f,c=e.length-this.tagLength;if(n){if(n.length!==c)throw new Error("ChaCha20Poly1305: incorrect destination length");f=n}else f=new Uint8Array(c);return i.streamXOR(this._key,o,e.subarray(0,e.length-this.tagLength),f,4),s.wipe(o),f},t.prototype.clean=function(){return s.wipe(this._key),this},t.prototype._authenticate=function(t,e,r,i){var a=new n.Poly1305(e);i&&(a.update(i),i.length%16>0&&a.update(h.subarray(i.length%16))),a.update(r),r.length%16>0&&a.update(h.subarray(r.length%16));var u=new Uint8Array(8);i&&o.writeUint64LE(i.length,u),a.update(u),o.writeUint64LE(r.length,u),a.update(u);for(var f=a.digest(),c=0;c<f.length;c++)t[c]=f[c];a.clean(),s.wipe(f),s.wipe(u)},t}();e.g6=u},2059:function(t,e){"use strict";function r(t,e){if(t.length!==e.length)return 0;for(var r=0,i=0;i<t.length;i++)r|=t[i]^e[i];return 1&r-1>>>8}Object.defineProperty(e,"__esModule",{value:!0}),e.select=function(t,e,r){return~(t-1)&e|t-1&r},e.lessOrEqual=function(t,e){return(0|t)-(0|e)-1>>>31&1},e.compare=r,e.equal=function(t,e){return 0!==t.length&&0!==e.length&&0!==r(t,e)}},5007:function(t,e,r){"use strict";e._S=e.K=e.TP=e.wE=e.Ee=void 0;const i=r(3603),n=r(7837),s=r(7691);function o(t){const e=new Float64Array(16);if(t)for(let r=0;r<t.length;r++)e[r]=t[r];return e}e.Ee=64,e.wE=64,e.TP=32;new Uint8Array(32)[0]=9;const a=o(),h=o([1]),u=o([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=o([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),c=o([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=o([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=o([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(t,e){for(let r=0;r<16;r++)t[r]=0|e[r]}function g(t){let e=1;for(let r=0;r<16;r++){let i=t[r]+e+65535;e=Math.floor(i/65536),t[r]=i-65536*e}t[0]+=e-1+37*(e-1)}function m(t,e,r){const i=~(r-1);for(let n=0;n<16;n++){const r=i&(t[n]^e[n]);t[n]^=r,e[n]^=r}}function v(t,e){const r=o(),i=o();for(let n=0;n<16;n++)i[n]=e[n];g(i),g(i),g(i);for(let n=0;n<2;n++){r[0]=i[0]-65517;for(let e=1;e<15;e++)r[e]=i[e]-65535-(r[e-1]>>16&1),r[e-1]&=65535;r[15]=i[15]-32767-(r[14]>>16&1);const t=r[15]>>16&1;r[14]&=65535,m(i,r,1-t)}for(let n=0;n<16;n++)t[2*n]=255&i[n],t[2*n+1]=i[n]>>8}function y(t,e){let r=0;for(let i=0;i<32;i++)r|=t[i]^e[i];return(1&r-1>>>8)-1}function w(t,e){const r=new Uint8Array(32),i=new Uint8Array(32);return v(r,t),v(i,e),y(r,i)}function b(t){const e=new Uint8Array(32);return v(e,t),1&e[0]}function A(t,e,r){for(let i=0;i<16;i++)t[i]=e[i]+r[i]}function E(t,e,r){for(let i=0;i<16;i++)t[i]=e[i]-r[i]}function M(t,e,r){let i,n,s=0,o=0,a=0,h=0,u=0,f=0,c=0,l=0,d=0,p=0,g=0,m=0,v=0,y=0,w=0,b=0,A=0,E=0,M=0,_=0,S=0,I=0,N=0,x=0,C=0,O=0,B=0,P=0,R=0,T=0,k=0,U=r[0],D=r[1],F=r[2],L=r[3],q=r[4],j=r[5],z=r[6],H=r[7],K=r[8],Q=r[9],G=r[10],Y=r[11],J=r[12],W=r[13],V=r[14],X=r[15];i=e[0],s+=i*U,o+=i*D,a+=i*F,h+=i*L,u+=i*q,f+=i*j,c+=i*z,l+=i*H,d+=i*K,p+=i*Q,g+=i*G,m+=i*Y,v+=i*J,y+=i*W,w+=i*V,b+=i*X,i=e[1],o+=i*U,a+=i*D,h+=i*F,u+=i*L,f+=i*q,c+=i*j,l+=i*z,d+=i*H,p+=i*K,g+=i*Q,m+=i*G,v+=i*Y,y+=i*J,w+=i*W,b+=i*V,A+=i*X,i=e[2],a+=i*U,h+=i*D,u+=i*F,f+=i*L,c+=i*q,l+=i*j,d+=i*z,p+=i*H,g+=i*K,m+=i*Q,v+=i*G,y+=i*Y,w+=i*J,b+=i*W,A+=i*V,E+=i*X,i=e[3],h+=i*U,u+=i*D,f+=i*F,c+=i*L,l+=i*q,d+=i*j,p+=i*z,g+=i*H,m+=i*K,v+=i*Q,y+=i*G,w+=i*Y,b+=i*J,A+=i*W,E+=i*V,M+=i*X,i=e[4],u+=i*U,f+=i*D,c+=i*F,l+=i*L,d+=i*q,p+=i*j,g+=i*z,m+=i*H,v+=i*K,y+=i*Q,w+=i*G,b+=i*Y,A+=i*J,E+=i*W,M+=i*V,_+=i*X,i=e[5],f+=i*U,c+=i*D,l+=i*F,d+=i*L,p+=i*q,g+=i*j,m+=i*z,v+=i*H,y+=i*K,w+=i*Q,b+=i*G,A+=i*Y,E+=i*J,M+=i*W,_+=i*V,S+=i*X,i=e[6],c+=i*U,l+=i*D,d+=i*F,p+=i*L,g+=i*q,m+=i*j,v+=i*z,y+=i*H,w+=i*K,b+=i*Q,A+=i*G,E+=i*Y,M+=i*J,_+=i*W,S+=i*V,I+=i*X,i=e[7],l+=i*U,d+=i*D,p+=i*F,g+=i*L,m+=i*q,v+=i*j,y+=i*z,w+=i*H,b+=i*K,A+=i*Q,E+=i*G,M+=i*Y,_+=i*J,S+=i*W,I+=i*V,N+=i*X,i=e[8],d+=i*U,p+=i*D,g+=i*F,m+=i*L,v+=i*q,y+=i*j,w+=i*z,b+=i*H,A+=i*K,E+=i*Q,M+=i*G,_+=i*Y,S+=i*J,I+=i*W,N+=i*V,x+=i*X,i=e[9],p+=i*U,g+=i*D,m+=i*F,v+=i*L,y+=i*q,w+=i*j,b+=i*z,A+=i*H,E+=i*K,M+=i*Q,_+=i*G,S+=i*Y,I+=i*J,N+=i*W,x+=i*V,C+=i*X,i=e[10],g+=i*U,m+=i*D,v+=i*F,y+=i*L,w+=i*q,b+=i*j,A+=i*z,E+=i*H,M+=i*K,_+=i*Q,S+=i*G,I+=i*Y,N+=i*J,x+=i*W,C+=i*V,O+=i*X,i=e[11],m+=i*U,v+=i*D,y+=i*F,w+=i*L,b+=i*q,A+=i*j,E+=i*z,M+=i*H,_+=i*K,S+=i*Q,I+=i*G,N+=i*Y,x+=i*J,C+=i*W,O+=i*V,B+=i*X,i=e[12],v+=i*U,y+=i*D,w+=i*F,b+=i*L,A+=i*q,E+=i*j,M+=i*z,_+=i*H,S+=i*K,I+=i*Q,N+=i*G,x+=i*Y,C+=i*J,O+=i*W,B+=i*V,P+=i*X,i=e[13],y+=i*U,w+=i*D,b+=i*F,A+=i*L,E+=i*q,M+=i*j,_+=i*z,S+=i*H,I+=i*K,N+=i*Q,x+=i*G,C+=i*Y,O+=i*J,B+=i*W,P+=i*V,R+=i*X,i=e[14],w+=i*U,b+=i*D,A+=i*F,E+=i*L,M+=i*q,_+=i*j,S+=i*z,I+=i*H,N+=i*K,x+=i*Q,C+=i*G,O+=i*Y,B+=i*J,P+=i*W,R+=i*V,T+=i*X,i=e[15],b+=i*U,A+=i*D,E+=i*F,M+=i*L,_+=i*q,S+=i*j,I+=i*z,N+=i*H,x+=i*K,C+=i*Q,O+=i*G,B+=i*Y,P+=i*J,R+=i*W,T+=i*V,k+=i*X,s+=38*A,o+=38*E,a+=38*M,h+=38*_,u+=38*S,f+=38*I,c+=38*N,l+=38*x,d+=38*C,p+=38*O,g+=38*B,m+=38*P,v+=38*R,y+=38*T,w+=38*k,n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-65536*n,i=o+n+65535,n=Math.floor(i/65536),o=i-65536*n,i=a+n+65535,n=Math.floor(i/65536),a=i-65536*n,i=h+n+65535,n=Math.floor(i/65536),h=i-65536*n,i=u+n+65535,n=Math.floor(i/65536),u=i-65536*n,i=f+n+65535,n=Math.floor(i/65536),f=i-65536*n,i=c+n+65535,n=Math.floor(i/65536),c=i-65536*n,i=l+n+65535,n=Math.floor(i/65536),l=i-65536*n,i=d+n+65535,n=Math.floor(i/65536),d=i-65536*n,i=p+n+65535,n=Math.floor(i/65536),p=i-65536*n,i=g+n+65535,n=Math.floor(i/65536),g=i-65536*n,i=m+n+65535,n=Math.floor(i/65536),m=i-65536*n,i=v+n+65535,n=Math.floor(i/65536),v=i-65536*n,i=y+n+65535,n=Math.floor(i/65536),y=i-65536*n,i=w+n+65535,n=Math.floor(i/65536),w=i-65536*n,i=b+n+65535,n=Math.floor(i/65536),b=i-65536*n,s+=n-1+37*(n-1),n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-65536*n,i=o+n+65535,n=Math.floor(i/65536),o=i-65536*n,i=a+n+65535,n=Math.floor(i/65536),a=i-65536*n,i=h+n+65535,n=Math.floor(i/65536),h=i-65536*n,i=u+n+65535,n=Math.floor(i/65536),u=i-65536*n,i=f+n+65535,n=Math.floor(i/65536),f=i-65536*n,i=c+n+65535,n=Math.floor(i/65536),c=i-65536*n,i=l+n+65535,n=Math.floor(i/65536),l=i-65536*n,i=d+n+65535,n=Math.floor(i/65536),d=i-65536*n,i=p+n+65535,n=Math.floor(i/65536),p=i-65536*n,i=g+n+65535,n=Math.floor(i/65536),g=i-65536*n,i=m+n+65535,n=Math.floor(i/65536),m=i-65536*n,i=v+n+65535,n=Math.floor(i/65536),v=i-65536*n,i=y+n+65535,n=Math.floor(i/65536),y=i-65536*n,i=w+n+65535,n=Math.floor(i/65536),w=i-65536*n,i=b+n+65535,n=Math.floor(i/65536),b=i-65536*n,s+=n-1+37*(n-1),t[0]=s,t[1]=o,t[2]=a,t[3]=h,t[4]=u,t[5]=f,t[6]=c,t[7]=l,t[8]=d,t[9]=p,t[10]=g,t[11]=m,t[12]=v,t[13]=y,t[14]=w,t[15]=b}function _(t,e){M(t,e,e)}function S(t,e){const r=o();let i;for(i=0;i<16;i++)r[i]=e[i];for(i=253;i>=0;i--)_(r,r),2!==i&&4!==i&&M(r,r,e);for(i=0;i<16;i++)t[i]=r[i]}function I(t,e){const r=o(),i=o(),n=o(),s=o(),a=o(),h=o(),u=o(),c=o(),l=o();E(r,t[1],t[0]),E(l,e[1],e[0]),M(r,r,l),A(i,t[0],t[1]),A(l,e[0],e[1]),M(i,i,l),M(n,t[3],e[3]),M(n,n,f),M(s,t[2],e[2]),A(s,s,s),E(a,i,r),E(h,s,n),A(u,s,n),A(c,i,r),M(t[0],a,h),M(t[1],c,u),M(t[2],u,h),M(t[3],a,c)}function N(t,e,r){for(let i=0;i<4;i++)m(t[i],e[i],r)}function x(t,e){const r=o(),i=o(),n=o();S(n,e[2]),M(r,e[0],n),M(i,e[1],n),v(t,i),t[31]^=b(r)<<7}function C(t,e,r){p(t[0],a),p(t[1],h),p(t[2],h),p(t[3],a);for(let i=255;i>=0;--i){const n=r[i/8|0]>>(7&i)&1;N(t,e,n),I(e,t),I(t,t),N(t,e,n)}}function O(t,e){const r=[o(),o(),o(),o()];p(r[0],c),p(r[1],l),p(r[2],h),M(r[3],c,l),C(t,r,e)}function B(t){if(t.length!==e.TP)throw new Error(`ed25519: seed must be ${e.TP} bytes`);const r=(0,n.hash)(t);r[0]&=248,r[31]&=127,r[31]|=64;const i=new Uint8Array(32),s=[o(),o(),o(),o()];O(s,r),x(i,s);const a=new Uint8Array(64);return a.set(t),a.set(i,32),{publicKey:i,secretKey:a}}e.K=B;const P=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function R(t,e){let r,i,n,s;for(i=63;i>=32;--i){for(r=0,n=i-32,s=i-12;n<s;++n)e[n]+=r-16*e[i]*P[n-(i-32)],r=Math.floor((e[n]+128)/256),e[n]-=256*r;e[n]+=r,e[i]=0}for(r=0,n=0;n<32;n++)e[n]+=r-(e[31]>>4)*P[n],r=e[n]>>8,e[n]&=255;for(n=0;n<32;n++)e[n]-=r*P[n];for(i=0;i<32;i++)e[i+1]+=e[i]>>8,t[i]=255&e[i]}function T(t){const e=new Float64Array(64);for(let r=0;r<64;r++)e[r]=t[r];for(let r=0;r<64;r++)t[r]=0;R(t,e)}function k(t,e){const r=o(),i=o(),n=o(),s=o(),f=o(),c=o(),l=o();return p(t[2],h),function(t,e){for(let r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}(t[1],e),_(n,t[1]),M(s,n,u),E(n,n,t[2]),A(s,t[2],s),_(f,s),_(c,f),M(l,c,f),M(r,l,n),M(r,r,s),function(t,e){const r=o();let i;for(i=0;i<16;i++)r[i]=e[i];for(i=250;i>=0;i--)_(r,r),1!==i&&M(r,r,e);for(i=0;i<16;i++)t[i]=r[i]}(r,r),M(r,r,n),M(r,r,s),M(r,r,s),M(t[0],r,s),_(i,t[0]),M(i,i,s),w(i,n)&&M(t[0],t[0],d),_(i,t[0]),M(i,i,s),w(i,n)?-1:(b(t[0])===e[31]>>7&&E(t[0],a,t[0]),M(t[3],t[0],t[1]),0)}e._S=function(t,e){const r=new Float64Array(64),i=[o(),o(),o(),o()],s=(0,n.hash)(t.subarray(0,32));s[0]&=248,s[31]&=127,s[31]|=64;const a=new Uint8Array(64);a.set(s.subarray(32),32);const h=new n.SHA512;h.update(a.subarray(32)),h.update(e);const u=h.digest();h.clean(),T(u),O(i,u),x(a,i),h.reset(),h.update(a.subarray(0,32)),h.update(t.subarray(32)),h.update(e);const f=h.digest();T(f);for(let n=0;n<32;n++)r[n]=u[n];for(let n=0;n<32;n++)for(let t=0;t<32;t++)r[n+t]+=f[n]*s[t];return R(a.subarray(32),r),a}},169:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSerializableHash=function(t){return"undefined"!==typeof t.saveState&&"undefined"!==typeof t.restoreState&&"undefined"!==typeof t.cleanSavedState}},79:function(t,e,r){"use strict";var i=r(5611),n=r(7691),s=function(){function t(t,e,r,n){void 0===r&&(r=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=t,this._info=n;var s=i.hmac(this._hash,r,e);this._hmac=new i.HMAC(t,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var t=this._counter[0];if(0===t)throw new Error("hkdf: cannot expand more");this._hmac.reset(),t>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(t){for(var e=new Uint8Array(t),r=0;r<e.length;r++)this._bufpos===this._buffer.length&&this._fillBuffer(),e[r]=this._buffer[this._bufpos++];return e},t.prototype.clean=function(){this._hmac.clean(),n.wipe(this._buffer),n.wipe(this._counter),this._bufpos=0},t}();e.i=s},5611:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(169),n=r(2059),s=r(7691),o=function(){function t(t,e){this._finished=!1,this._inner=new t,this._outer=new t,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var r=new Uint8Array(this.blockSize);e.length>this.blockSize?this._inner.update(e).finish(r).clean():r.set(e);for(var n=0;n<r.length;n++)r[n]^=54;this._inner.update(r);for(n=0;n<r.length;n++)r[n]^=106;this._outer.update(r),i.isSerializableHash(this._inner)&&i.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),s.wipe(r)}return t.prototype.reset=function(){if(!i.isSerializableHash(this._inner)||!i.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){i.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),i.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(t){return this._inner.update(t),this},t.prototype.finish=function(t){return this._finished?(this._outer.finish(t),this):(this._inner.finish(t),this._outer.update(t.subarray(0,this.digestLength)).finish(t),this._finished=!0,this)},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t.prototype.saveState=function(){if(!i.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(t){if(!i.isSerializableHash(this._inner)||!i.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(t),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(t){if(!i.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(t)},t}();e.HMAC=o,e.hmac=function(t,e,r){var i=new o(t,e);i.update(r);var n=i.digest();return i.clean(),n},e.equal=n.equal},2599:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mul=Math.imul||function(t,e){var r=65535&t,i=65535&e;return r*i+((t>>>16&65535)*i+r*(e>>>16&65535)<<16>>>0)|0},e.add=function(t,e){return t+e|0},e.sub=function(t,e){return t-e|0},e.rotl=function(t,e){return t<<e|t>>>32-e},e.rotr=function(t,e){return t<<32-e|t>>>e},e.isInteger=Number.isInteger||function(t){return"number"===typeof t&&isFinite(t)&&Math.floor(t)===t},e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(t){return e.isInteger(t)&&t>=-e.MAX_SAFE_INTEGER&&t<=e.MAX_SAFE_INTEGER}},3875:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(2059),n=r(7691);e.DIGEST_LENGTH=16;var s=function(){function t(t){this.digestLength=e.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var r=t[0]|t[1]<<8;this._r[0]=8191&r;var i=t[2]|t[3]<<8;this._r[1]=8191&(r>>>13|i<<3);var n=t[4]|t[5]<<8;this._r[2]=7939&(i>>>10|n<<6);var s=t[6]|t[7]<<8;this._r[3]=8191&(n>>>7|s<<9);var o=t[8]|t[9]<<8;this._r[4]=255&(s>>>4|o<<12),this._r[5]=o>>>1&8190;var a=t[10]|t[11]<<8;this._r[6]=8191&(o>>>14|a<<2);var h=t[12]|t[13]<<8;this._r[7]=8065&(a>>>11|h<<5);var u=t[14]|t[15]<<8;this._r[8]=8191&(h>>>8|u<<8),this._r[9]=u>>>5&127,this._pad[0]=t[16]|t[17]<<8,this._pad[1]=t[18]|t[19]<<8,this._pad[2]=t[20]|t[21]<<8,this._pad[3]=t[22]|t[23]<<8,this._pad[4]=t[24]|t[25]<<8,this._pad[5]=t[26]|t[27]<<8,this._pad[6]=t[28]|t[29]<<8,this._pad[7]=t[30]|t[31]<<8}return t.prototype._blocks=function(t,e,r){for(var i=this._fin?0:2048,n=this._h[0],s=this._h[1],o=this._h[2],a=this._h[3],h=this._h[4],u=this._h[5],f=this._h[6],c=this._h[7],l=this._h[8],d=this._h[9],p=this._r[0],g=this._r[1],m=this._r[2],v=this._r[3],y=this._r[4],w=this._r[5],b=this._r[6],A=this._r[7],E=this._r[8],M=this._r[9];r>=16;){var _=t[e+0]|t[e+1]<<8;n+=8191&_;var S=t[e+2]|t[e+3]<<8;s+=8191&(_>>>13|S<<3);var I=t[e+4]|t[e+5]<<8;o+=8191&(S>>>10|I<<6);var N=t[e+6]|t[e+7]<<8;a+=8191&(I>>>7|N<<9);var x=t[e+8]|t[e+9]<<8;h+=8191&(N>>>4|x<<12),u+=x>>>1&8191;var C=t[e+10]|t[e+11]<<8;f+=8191&(x>>>14|C<<2);var O=t[e+12]|t[e+13]<<8;c+=8191&(C>>>11|O<<5);var B=t[e+14]|t[e+15]<<8,P=0,R=P;R+=n*p,R+=s*(5*M),R+=o*(5*E),R+=a*(5*A),P=(R+=h*(5*b))>>>13,R&=8191,R+=u*(5*w),R+=f*(5*y),R+=c*(5*v),R+=(l+=8191&(O>>>8|B<<8))*(5*m);var T=P+=(R+=(d+=B>>>5|i)*(5*g))>>>13;T+=n*g,T+=s*p,T+=o*(5*M),T+=a*(5*E),P=(T+=h*(5*A))>>>13,T&=8191,T+=u*(5*b),T+=f*(5*w),T+=c*(5*y),T+=l*(5*v),P+=(T+=d*(5*m))>>>13,T&=8191;var k=P;k+=n*m,k+=s*g,k+=o*p,k+=a*(5*M),P=(k+=h*(5*E))>>>13,k&=8191,k+=u*(5*A),k+=f*(5*b),k+=c*(5*w),k+=l*(5*y);var U=P+=(k+=d*(5*v))>>>13;U+=n*v,U+=s*m,U+=o*g,U+=a*p,P=(U+=h*(5*M))>>>13,U&=8191,U+=u*(5*E),U+=f*(5*A),U+=c*(5*b),U+=l*(5*w);var D=P+=(U+=d*(5*y))>>>13;D+=n*y,D+=s*v,D+=o*m,D+=a*g,P=(D+=h*p)>>>13,D&=8191,D+=u*(5*M),D+=f*(5*E),D+=c*(5*A),D+=l*(5*b);var F=P+=(D+=d*(5*w))>>>13;F+=n*w,F+=s*y,F+=o*v,F+=a*m,P=(F+=h*g)>>>13,F&=8191,F+=u*p,F+=f*(5*M),F+=c*(5*E),F+=l*(5*A);var L=P+=(F+=d*(5*b))>>>13;L+=n*b,L+=s*w,L+=o*y,L+=a*v,P=(L+=h*m)>>>13,L&=8191,L+=u*g,L+=f*p,L+=c*(5*M),L+=l*(5*E);var q=P+=(L+=d*(5*A))>>>13;q+=n*A,q+=s*b,q+=o*w,q+=a*y,P=(q+=h*v)>>>13,q&=8191,q+=u*m,q+=f*g,q+=c*p,q+=l*(5*M);var j=P+=(q+=d*(5*E))>>>13;j+=n*E,j+=s*A,j+=o*b,j+=a*w,P=(j+=h*y)>>>13,j&=8191,j+=u*v,j+=f*m,j+=c*g,j+=l*p;var z=P+=(j+=d*(5*M))>>>13;z+=n*M,z+=s*E,z+=o*A,z+=a*b,P=(z+=h*w)>>>13,z&=8191,z+=u*y,z+=f*v,z+=c*m,z+=l*g,n=R=8191&(P=(P=((P+=(z+=d*p)>>>13)<<2)+P|0)+(R&=8191)|0),s=T+=P>>>=13,o=k&=8191,a=U&=8191,h=D&=8191,u=F&=8191,f=L&=8191,c=q&=8191,l=j&=8191,d=z&=8191,e+=16,r-=16}this._h[0]=n,this._h[1]=s,this._h[2]=o,this._h[3]=a,this._h[4]=h,this._h[5]=u,this._h[6]=f,this._h[7]=c,this._h[8]=l,this._h[9]=d},t.prototype.finish=function(t,e){void 0===e&&(e=0);var r,i,n,s,o=new Uint16Array(10);if(this._leftover){for(s=this._leftover,this._buffer[s++]=1;s<16;s++)this._buffer[s]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(r=this._h[1]>>>13,this._h[1]&=8191,s=2;s<10;s++)this._h[s]+=r,r=this._h[s]>>>13,this._h[s]&=8191;for(this._h[0]+=5*r,r=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=r,r=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=r,o[0]=this._h[0]+5,r=o[0]>>>13,o[0]&=8191,s=1;s<10;s++)o[s]=this._h[s]+r,r=o[s]>>>13,o[s]&=8191;for(o[9]-=8192,i=(1^r)-1,s=0;s<10;s++)o[s]&=i;for(i=~i,s=0;s<10;s++)this._h[s]=this._h[s]&i|o[s];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),n=this._h[0]+this._pad[0],this._h[0]=65535&n,s=1;s<8;s++)n=(this._h[s]+this._pad[s]|0)+(n>>>16)|0,this._h[s]=65535&n;return t[e+0]=this._h[0]>>>0,t[e+1]=this._h[0]>>>8,t[e+2]=this._h[1]>>>0,t[e+3]=this._h[1]>>>8,t[e+4]=this._h[2]>>>0,t[e+5]=this._h[2]>>>8,t[e+6]=this._h[3]>>>0,t[e+7]=this._h[3]>>>8,t[e+8]=this._h[4]>>>0,t[e+9]=this._h[4]>>>8,t[e+10]=this._h[5]>>>0,t[e+11]=this._h[5]>>>8,t[e+12]=this._h[6]>>>0,t[e+13]=this._h[6]>>>8,t[e+14]=this._h[7]>>>0,t[e+15]=this._h[7]>>>8,this._finished=!0,this},t.prototype.update=function(t){var e,r=0,i=t.length;if(this._leftover){(e=16-this._leftover)>i&&(e=i);for(var n=0;n<e;n++)this._buffer[this._leftover+n]=t[r+n];if(i-=e,r+=e,this._leftover+=e,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(i>=16&&(e=i-i%16,this._blocks(t,r,e),r+=e,i-=e),i){for(n=0;n<i;n++)this._buffer[this._leftover+n]=t[r+n];this._leftover+=i}return this},t.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var t=new Uint8Array(16);return this.finish(t),t},t.prototype.clean=function(){return n.wipe(this._buffer),n.wipe(this._r),n.wipe(this._h),n.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},t}();e.Poly1305=s,e.oneTimeAuth=function(t,e){var r=new s(t);r.update(e);var i=r.digest();return r.clean(),i},e.equal=function(t,r){return t.length===e.DIGEST_LENGTH&&r.length===e.DIGEST_LENGTH&&i.equal(t,r)}},3603:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;const i=r(2637),n=r(5651),s=r(7691);function o(t,r=e.defaultRandomSource){return r.randomBytes(t)}e.defaultRandomSource=new i.SystemRandomSource,e.randomBytes=o,e.randomUint32=function(t=e.defaultRandomSource){const r=o(4,t),i=(0,n.readUint32LE)(r);return(0,s.wipe)(r),i};const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function h(t,r=a,i=e.defaultRandomSource){if(r.length<2)throw new Error("randomString charset is too short");if(r.length>256)throw new Error("randomString charset is too long");let n="";const h=r.length,u=256-256%h;for(;t>0;){const e=o(Math.ceil(256*t/u),i);for(let i=0;i<e.length&&t>0;i++){const s=e[i];s<u&&(n+=r.charAt(s%h),t--)}(0,s.wipe)(e)}return n}e.randomString=h,e.randomStringForEntropy=function(t,r=a,i=e.defaultRandomSource){return h(Math.ceil(t/(Math.log(r.length)/Math.LN2)),r,i)}},9354:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserRandomSource=void 0;e.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const t="undefined"!==typeof self?self.crypto||self.msCrypto:null;t&&void 0!==t.getRandomValues&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const e=new Uint8Array(t);for(let r=0;r<e.length;r+=65536)this._crypto.getRandomValues(e.subarray(r,r+Math.min(e.length-r,65536)));return e}}},1552:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeRandomSource=void 0;const i=r(7691);e.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const t=r(3923);t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let e=this._crypto.randomBytes(t);if(e.length!==t)throw new Error("NodeRandomSource: got fewer bytes than requested");const r=new Uint8Array(t);for(let i=0;i<r.length;i++)r[i]=e[i];return(0,i.wipe)(e),r}}},2637:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SystemRandomSource=void 0;const i=r(9354),n=r(1552);e.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new i.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new n.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(t){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(t)}}},7131:function(t,e,r){"use strict";var i=r(5651),n=r(7691);e.On=32,e.cS=64;var s=function(){function t(){this.digestLength=e.On,this.blockSize=e.cS,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){n.wipe(this._buffer),n.wipe(this._temp),this.reset()},t.prototype.update=function(t,e){if(void 0===e&&(e=t.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var r=0;if(this._bytesHashed+=e,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&e>0;)this._buffer[this._bufferLength++]=t[r++],e--;this._bufferLength===this.blockSize&&(a(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(e>=this.blockSize&&(r=a(this._temp,this._state,t,r,e),e%=this.blockSize);e>0;)this._buffer[this._bufferLength++]=t[r++],e--;return this},t.prototype.finish=function(t){if(!this._finished){var e=this._bytesHashed,r=this._bufferLength,n=e/536870912|0,s=e<<3,o=e%64<56?64:128;this._buffer[r]=128;for(var h=r+1;h<o-8;h++)this._buffer[h]=0;i.writeUint32BE(n,this._buffer,o-8),i.writeUint32BE(s,this._buffer,o-4),a(this._temp,this._state,this._buffer,0,o),this._finished=!0}for(h=0;h<this.digestLength/4;h++)i.writeUint32BE(this._state[h],t,4*h);return this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(t){return this._state.set(t.state),this._bufferLength=t.bufferLength,t.buffer&&this._buffer.set(t.buffer),this._bytesHashed=t.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(t){n.wipe(t.state),t.buffer&&n.wipe(t.buffer),t.bufferLength=0,t.bytesHashed=0},t}();e.aD=s;var o=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function a(t,e,r,n,s){for(;s>=64;){for(var a=e[0],h=e[1],u=e[2],f=e[3],c=e[4],l=e[5],d=e[6],p=e[7],g=0;g<16;g++){var m=n+4*g;t[g]=i.readUint32BE(r,m)}for(g=16;g<64;g++){var v=t[g-2],y=(v>>>17|v<<15)^(v>>>19|v<<13)^v>>>10,w=((v=t[g-15])>>>7|v<<25)^(v>>>18|v<<14)^v>>>3;t[g]=(y+t[g-7]|0)+(w+t[g-16]|0)}for(g=0;g<64;g++){y=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&l^~c&d)|0)+(p+(o[g]+t[g]|0)|0)|0,w=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&h^a&u^h&u)|0;p=d,d=l,l=c,c=f+y|0,f=u,u=h,h=a,a=y+w|0}e[0]+=a,e[1]+=h,e[2]+=u,e[3]+=f,e[4]+=c,e[5]+=l,e[6]+=d,e[7]+=p,n+=64,s-=64}return n}e.tW=function(t){var e=new s;e.update(t);var r=e.digest();return e.clean(),r}},7837:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(5651),n=r(7691);e.DIGEST_LENGTH=64,e.BLOCK_SIZE=128;var s=function(){function t(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){n.wipe(this._buffer),n.wipe(this._tempHi),n.wipe(this._tempLo),this.reset()},t.prototype.update=function(t,r){if(void 0===r&&(r=t.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var i=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<e.BLOCK_SIZE&&r>0;)this._buffer[this._bufferLength++]=t[i++],r--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(i=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,t,i,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=t[i++],r--;return this},t.prototype.finish=function(t){if(!this._finished){var e=this._bytesHashed,r=this._bufferLength,n=e/536870912|0,s=e<<3,o=e%128<112?128:256;this._buffer[r]=128;for(var h=r+1;h<o-8;h++)this._buffer[h]=0;i.writeUint32BE(n,this._buffer,o-8),i.writeUint32BE(s,this._buffer,o-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,o),this._finished=!0}for(h=0;h<this.digestLength/8;h++)i.writeUint32BE(this._stateHi[h],t,8*h),i.writeUint32BE(this._stateLo[h],t,8*h+4);return this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(t){return this._stateHi.set(t.stateHi),this._stateLo.set(t.stateLo),this._bufferLength=t.bufferLength,t.buffer&&this._buffer.set(t.buffer),this._bytesHashed=t.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(t){n.wipe(t.stateHi),n.wipe(t.stateLo),t.buffer&&n.wipe(t.buffer),t.bufferLength=0,t.bytesHashed=0},t}();e.SHA512=s;var o=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(t,e,r,n,s,a,h){for(var u,f,c,l,d,p,g,m,v=r[0],y=r[1],w=r[2],b=r[3],A=r[4],E=r[5],M=r[6],_=r[7],S=n[0],I=n[1],N=n[2],x=n[3],C=n[4],O=n[5],B=n[6],P=n[7];h>=128;){for(var R=0;R<16;R++){var T=8*R+a;t[R]=i.readUint32BE(s,T),e[R]=i.readUint32BE(s,T+4)}for(R=0;R<80;R++){var k,U,D=v,F=y,L=w,q=b,j=A,z=E,H=M,K=S,Q=I,G=N,Y=x,J=C,W=O,V=B;if(d=65535&(f=P),p=f>>>16,g=65535&(u=_),m=u>>>16,d+=65535&(f=(C>>>14|A<<18)^(C>>>18|A<<14)^(A>>>9|C<<23)),p+=f>>>16,g+=65535&(u=(A>>>14|C<<18)^(A>>>18|C<<14)^(C>>>9|A<<23)),m+=u>>>16,d+=65535&(f=C&O^~C&B),p+=f>>>16,g+=65535&(u=A&E^~A&M),m+=u>>>16,u=o[2*R],d+=65535&(f=o[2*R+1]),p+=f>>>16,g+=65535&u,m+=u>>>16,u=t[R%16],p+=(f=e[R%16])>>>16,g+=65535&u,m+=u>>>16,g+=(p+=(d+=65535&f)>>>16)>>>16,d=65535&(f=l=65535&d|p<<16),p=f>>>16,g=65535&(u=c=65535&g|(m+=g>>>16)<<16),m=u>>>16,d+=65535&(f=(S>>>28|v<<4)^(v>>>2|S<<30)^(v>>>7|S<<25)),p+=f>>>16,g+=65535&(u=(v>>>28|S<<4)^(S>>>2|v<<30)^(S>>>7|v<<25)),m+=u>>>16,p+=(f=S&I^S&N^I&N)>>>16,g+=65535&(u=v&y^v&w^y&w),m+=u>>>16,k=65535&(g+=(p+=(d+=65535&f)>>>16)>>>16)|(m+=g>>>16)<<16,U=65535&d|p<<16,d=65535&(f=Y),p=f>>>16,g=65535&(u=q),m=u>>>16,p+=(f=l)>>>16,g+=65535&(u=c),m+=u>>>16,y=D,w=F,b=L,A=q=65535&(g+=(p+=(d+=65535&f)>>>16)>>>16)|(m+=g>>>16)<<16,E=j,M=z,_=H,v=k,I=K,N=Q,x=G,C=Y=65535&d|p<<16,O=J,B=W,P=V,S=U,R%16===15)for(T=0;T<16;T++)u=t[T],d=65535&(f=e[T]),p=f>>>16,g=65535&u,m=u>>>16,u=t[(T+9)%16],d+=65535&(f=e[(T+9)%16]),p+=f>>>16,g+=65535&u,m+=u>>>16,c=t[(T+1)%16],d+=65535&(f=((l=e[(T+1)%16])>>>1|c<<31)^(l>>>8|c<<24)^(l>>>7|c<<25)),p+=f>>>16,g+=65535&(u=(c>>>1|l<<31)^(c>>>8|l<<24)^c>>>7),m+=u>>>16,c=t[(T+14)%16],p+=(f=((l=e[(T+14)%16])>>>19|c<<13)^(c>>>29|l<<3)^(l>>>6|c<<26))>>>16,g+=65535&(u=(c>>>19|l<<13)^(l>>>29|c<<3)^c>>>6),m+=u>>>16,m+=(g+=(p+=(d+=65535&f)>>>16)>>>16)>>>16,t[T]=65535&g|m<<16,e[T]=65535&d|p<<16}d=65535&(f=S),p=f>>>16,g=65535&(u=v),m=u>>>16,u=r[0],p+=(f=n[0])>>>16,g+=65535&u,m+=u>>>16,m+=(g+=(p+=(d+=65535&f)>>>16)>>>16)>>>16,r[0]=v=65535&g|m<<16,n[0]=S=65535&d|p<<16,d=65535&(f=I),p=f>>>16,g=65535&(u=y),m=u>>>16,u=r[1],p+=(f=n[1])>>>16,g+=65535&u,m+=u>>>16,m+=(g+=(p+=(d+=65535&f)>>>16)>>>16)>>>16,r[1]=y=65535&g|m<<16,n[1]=I=65535&d|p<<16,d=65535&(f=N),p=f>>>16,g=65535&(u=w),m=u>>>16,u=r[2],p+=(f=n[2])>>>16,g+=65535&u,m+=u>>>16,m+=(g+=(p+=(d+=65535&f)>>>16)>>>16)>>>16,r[2]=w=65535&g|m<<16,n[2]=N=65535&d|p<<16,d=65535&(f=x),p=f>>>16,g=65535&(u=b),m=u>>>16,u=r[3],p+=(f=n[3])>>>16,g+=65535&u,m+=u>>>16,m+=(g+=(p+=(d+=65535&f)>>>16)>>>16)>>>16,r[3]=b=65535&g|m<<16,n[3]=x=65535&d|p<<16,d=65535&(f=C),p=f>>>16,g=65535&(u=A),m=u>>>16,u=r[4],p+=(f=n[4])>>>16,g+=65535&u,m+=u>>>16,m+=(g+=(p+=(d+=65535&f)>>>16)>>>16)>>>16,r[4]=A=65535&g|m<<16,n[4]=C=65535&d|p<<16,d=65535&(f=O),p=f>>>16,g=65535&(u=E),m=u>>>16,u=r[5],p+=(f=n[5])>>>16,g+=65535&u,m+=u>>>16,m+=(g+=(p+=(d+=65535&f)>>>16)>>>16)>>>16,r[5]=E=65535&g|m<<16,n[5]=O=65535&d|p<<16,d=65535&(f=B),p=f>>>16,g=65535&(u=M),m=u>>>16,u=r[6],p+=(f=n[6])>>>16,g+=65535&u,m+=u>>>16,m+=(g+=(p+=(d+=65535&f)>>>16)>>>16)>>>16,r[6]=M=65535&g|m<<16,n[6]=B=65535&d|p<<16,d=65535&(f=P),p=f>>>16,g=65535&(u=_),m=u>>>16,u=r[7],p+=(f=n[7])>>>16,g+=65535&u,m+=u>>>16,m+=(g+=(p+=(d+=65535&f)>>>16)>>>16)>>>16,r[7]=_=65535&g|m<<16,n[7]=P=65535&d|p<<16,a+=128,h-=128}return a}e.hash=function(t){var e=new s;e.update(t);var r=e.digest();return e.clean(),r}},7691:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wipe=function(t){for(var e=0;e<t.length;e++)t[e]=0;return t}},3001:function(t,e,r){"use strict";e.Tc=e.TZ=e.wE=e.Xx=void 0;const i=r(3603),n=r(7691);function s(t){const e=new Float64Array(16);if(t)for(let r=0;r<t.length;r++)e[r]=t[r];return e}e.Xx=32,e.wE=32;const o=new Uint8Array(32);o[0]=9;const a=s([56129,1]);function h(t){let e=1;for(let r=0;r<16;r++){let i=t[r]+e+65535;e=Math.floor(i/65536),t[r]=i-65536*e}t[0]+=e-1+37*(e-1)}function u(t,e,r){const i=~(r-1);for(let n=0;n<16;n++){const r=i&(t[n]^e[n]);t[n]^=r,e[n]^=r}}function f(t,e,r){for(let i=0;i<16;i++)t[i]=e[i]+r[i]}function c(t,e,r){for(let i=0;i<16;i++)t[i]=e[i]-r[i]}function l(t,e,r){let i,n,s=0,o=0,a=0,h=0,u=0,f=0,c=0,l=0,d=0,p=0,g=0,m=0,v=0,y=0,w=0,b=0,A=0,E=0,M=0,_=0,S=0,I=0,N=0,x=0,C=0,O=0,B=0,P=0,R=0,T=0,k=0,U=r[0],D=r[1],F=r[2],L=r[3],q=r[4],j=r[5],z=r[6],H=r[7],K=r[8],Q=r[9],G=r[10],Y=r[11],J=r[12],W=r[13],V=r[14],X=r[15];i=e[0],s+=i*U,o+=i*D,a+=i*F,h+=i*L,u+=i*q,f+=i*j,c+=i*z,l+=i*H,d+=i*K,p+=i*Q,g+=i*G,m+=i*Y,v+=i*J,y+=i*W,w+=i*V,b+=i*X,i=e[1],o+=i*U,a+=i*D,h+=i*F,u+=i*L,f+=i*q,c+=i*j,l+=i*z,d+=i*H,p+=i*K,g+=i*Q,m+=i*G,v+=i*Y,y+=i*J,w+=i*W,b+=i*V,A+=i*X,i=e[2],a+=i*U,h+=i*D,u+=i*F,f+=i*L,c+=i*q,l+=i*j,d+=i*z,p+=i*H,g+=i*K,m+=i*Q,v+=i*G,y+=i*Y,w+=i*J,b+=i*W,A+=i*V,E+=i*X,i=e[3],h+=i*U,u+=i*D,f+=i*F,c+=i*L,l+=i*q,d+=i*j,p+=i*z,g+=i*H,m+=i*K,v+=i*Q,y+=i*G,w+=i*Y,b+=i*J,A+=i*W,E+=i*V,M+=i*X,i=e[4],u+=i*U,f+=i*D,c+=i*F,l+=i*L,d+=i*q,p+=i*j,g+=i*z,m+=i*H,v+=i*K,y+=i*Q,w+=i*G,b+=i*Y,A+=i*J,E+=i*W,M+=i*V,_+=i*X,i=e[5],f+=i*U,c+=i*D,l+=i*F,d+=i*L,p+=i*q,g+=i*j,m+=i*z,v+=i*H,y+=i*K,w+=i*Q,b+=i*G,A+=i*Y,E+=i*J,M+=i*W,_+=i*V,S+=i*X,i=e[6],c+=i*U,l+=i*D,d+=i*F,p+=i*L,g+=i*q,m+=i*j,v+=i*z,y+=i*H,w+=i*K,b+=i*Q,A+=i*G,E+=i*Y,M+=i*J,_+=i*W,S+=i*V,I+=i*X,i=e[7],l+=i*U,d+=i*D,p+=i*F,g+=i*L,m+=i*q,v+=i*j,y+=i*z,w+=i*H,b+=i*K,A+=i*Q,E+=i*G,M+=i*Y,_+=i*J,S+=i*W,I+=i*V,N+=i*X,i=e[8],d+=i*U,p+=i*D,g+=i*F,m+=i*L,v+=i*q,y+=i*j,w+=i*z,b+=i*H,A+=i*K,E+=i*Q,M+=i*G,_+=i*Y,S+=i*J,I+=i*W,N+=i*V,x+=i*X,i=e[9],p+=i*U,g+=i*D,m+=i*F,v+=i*L,y+=i*q,w+=i*j,b+=i*z,A+=i*H,E+=i*K,M+=i*Q,_+=i*G,S+=i*Y,I+=i*J,N+=i*W,x+=i*V,C+=i*X,i=e[10],g+=i*U,m+=i*D,v+=i*F,y+=i*L,w+=i*q,b+=i*j,A+=i*z,E+=i*H,M+=i*K,_+=i*Q,S+=i*G,I+=i*Y,N+=i*J,x+=i*W,C+=i*V,O+=i*X,i=e[11],m+=i*U,v+=i*D,y+=i*F,w+=i*L,b+=i*q,A+=i*j,E+=i*z,M+=i*H,_+=i*K,S+=i*Q,I+=i*G,N+=i*Y,x+=i*J,C+=i*W,O+=i*V,B+=i*X,i=e[12],v+=i*U,y+=i*D,w+=i*F,b+=i*L,A+=i*q,E+=i*j,M+=i*z,_+=i*H,S+=i*K,I+=i*Q,N+=i*G,x+=i*Y,C+=i*J,O+=i*W,B+=i*V,P+=i*X,i=e[13],y+=i*U,w+=i*D,b+=i*F,A+=i*L,E+=i*q,M+=i*j,_+=i*z,S+=i*H,I+=i*K,N+=i*Q,x+=i*G,C+=i*Y,O+=i*J,B+=i*W,P+=i*V,R+=i*X,i=e[14],w+=i*U,b+=i*D,A+=i*F,E+=i*L,M+=i*q,_+=i*j,S+=i*z,I+=i*H,N+=i*K,x+=i*Q,C+=i*G,O+=i*Y,B+=i*J,P+=i*W,R+=i*V,T+=i*X,i=e[15],b+=i*U,A+=i*D,E+=i*F,M+=i*L,_+=i*q,S+=i*j,I+=i*z,N+=i*H,x+=i*K,C+=i*Q,O+=i*G,B+=i*Y,P+=i*J,R+=i*W,T+=i*V,k+=i*X,s+=38*A,o+=38*E,a+=38*M,h+=38*_,u+=38*S,f+=38*I,c+=38*N,l+=38*x,d+=38*C,p+=38*O,g+=38*B,m+=38*P,v+=38*R,y+=38*T,w+=38*k,n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-65536*n,i=o+n+65535,n=Math.floor(i/65536),o=i-65536*n,i=a+n+65535,n=Math.floor(i/65536),a=i-65536*n,i=h+n+65535,n=Math.floor(i/65536),h=i-65536*n,i=u+n+65535,n=Math.floor(i/65536),u=i-65536*n,i=f+n+65535,n=Math.floor(i/65536),f=i-65536*n,i=c+n+65535,n=Math.floor(i/65536),c=i-65536*n,i=l+n+65535,n=Math.floor(i/65536),l=i-65536*n,i=d+n+65535,n=Math.floor(i/65536),d=i-65536*n,i=p+n+65535,n=Math.floor(i/65536),p=i-65536*n,i=g+n+65535,n=Math.floor(i/65536),g=i-65536*n,i=m+n+65535,n=Math.floor(i/65536),m=i-65536*n,i=v+n+65535,n=Math.floor(i/65536),v=i-65536*n,i=y+n+65535,n=Math.floor(i/65536),y=i-65536*n,i=w+n+65535,n=Math.floor(i/65536),w=i-65536*n,i=b+n+65535,n=Math.floor(i/65536),b=i-65536*n,s+=n-1+37*(n-1),n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-65536*n,i=o+n+65535,n=Math.floor(i/65536),o=i-65536*n,i=a+n+65535,n=Math.floor(i/65536),a=i-65536*n,i=h+n+65535,n=Math.floor(i/65536),h=i-65536*n,i=u+n+65535,n=Math.floor(i/65536),u=i-65536*n,i=f+n+65535,n=Math.floor(i/65536),f=i-65536*n,i=c+n+65535,n=Math.floor(i/65536),c=i-65536*n,i=l+n+65535,n=Math.floor(i/65536),l=i-65536*n,i=d+n+65535,n=Math.floor(i/65536),d=i-65536*n,i=p+n+65535,n=Math.floor(i/65536),p=i-65536*n,i=g+n+65535,n=Math.floor(i/65536),g=i-65536*n,i=m+n+65535,n=Math.floor(i/65536),m=i-65536*n,i=v+n+65535,n=Math.floor(i/65536),v=i-65536*n,i=y+n+65535,n=Math.floor(i/65536),y=i-65536*n,i=w+n+65535,n=Math.floor(i/65536),w=i-65536*n,i=b+n+65535,n=Math.floor(i/65536),b=i-65536*n,s+=n-1+37*(n-1),t[0]=s,t[1]=o,t[2]=a,t[3]=h,t[4]=u,t[5]=f,t[6]=c,t[7]=l,t[8]=d,t[9]=p,t[10]=g,t[11]=m,t[12]=v,t[13]=y,t[14]=w,t[15]=b}function d(t,e){l(t,e,e)}function p(t,e){const r=new Uint8Array(32),i=new Float64Array(80),n=s(),o=s(),p=s(),g=s(),m=s(),v=s();for(let s=0;s<31;s++)r[s]=t[s];r[31]=127&t[31]|64,r[0]&=248,function(t,e){for(let r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}(i,e);for(let s=0;s<16;s++)o[s]=i[s];n[0]=g[0]=1;for(let s=254;s>=0;--s){const t=r[s>>>3]>>>(7&s)&1;u(n,o,t),u(p,g,t),f(m,n,p),c(n,n,p),f(p,o,g),c(o,o,g),d(g,m),d(v,n),l(n,p,n),l(p,o,m),f(m,n,p),c(n,n,p),d(o,n),c(p,g,v),l(n,p,a),f(n,n,g),l(p,p,n),l(n,g,v),l(g,o,i),d(o,m),u(n,o,t),u(p,g,t)}for(let s=0;s<16;s++)i[s+16]=n[s],i[s+32]=p[s],i[s+48]=o[s],i[s+64]=g[s];const y=i.subarray(32),w=i.subarray(16);!function(t,e){const r=s();for(let i=0;i<16;i++)r[i]=e[i];for(let i=253;i>=0;i--)d(r,r),2!==i&&4!==i&&l(r,r,e);for(let i=0;i<16;i++)t[i]=r[i]}(y,y),l(w,w,y);const b=new Uint8Array(32);return function(t,e){const r=s(),i=s();for(let n=0;n<16;n++)i[n]=e[n];h(i),h(i),h(i);for(let n=0;n<2;n++){r[0]=i[0]-65517;for(let e=1;e<15;e++)r[e]=i[e]-65535-(r[e-1]>>16&1),r[e-1]&=65535;r[15]=i[15]-32767-(r[14]>>16&1);const t=r[15]>>16&1;r[14]&=65535,u(i,r,1-t)}for(let n=0;n<16;n++)t[2*n]=255&i[n],t[2*n+1]=i[n]>>8}(b,w),b}function g(t){return p(t,o)}function m(t){if(t.length!==e.wE)throw new Error(`x25519: seed must be ${e.wE} bytes`);const r=new Uint8Array(t);return{publicKey:g(r),secretKey:r}}e.TZ=function(t){const e=(0,i.randomBytes)(32,t),r=m(e);return(0,n.wipe)(e),r},e.Tc=function(t,r,i=!1){if(t.length!==e.Xx)throw new Error("X25519: incorrect secret key length");if(r.length!==e.Xx)throw new Error("X25519: incorrect public key length");const n=p(t,r);if(i){let t=0;for(let e=0;e<n.length;e++)t|=n[e];if(0===t)throw new Error("X25519: invalid shared key")}return n}},8697:function(t,e,r){"use strict";const i=r(6873),n=r(6081),s=r(4031),o=r(2200),a=Symbol("encodeFragmentIdentifier");function h(t){if("string"!==typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(t,e){return e.encode?e.strict?i(t):encodeURIComponent(t):t}function f(t,e){return e.decode?n(t):t}function c(t){return Array.isArray(t)?t.sort():"object"===typeof t?c(Object.keys(t)).sort(((t,e)=>Number(t)-Number(e))).map((e=>t[e])):t}function l(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function d(t){const e=(t=l(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function p(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"===typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function g(t,e){h((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const r=function(t){let e;switch(t.arrayFormat){case"index":return(t,r,i)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===i[t]&&(i[t]={}),i[t][e[1]]=r):i[t]=r};case"bracket":return(t,r,i)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==i[t]?i[t]=[].concat(i[t],r):i[t]=[r]:i[t]=r};case"colon-list-separator":return(t,r,i)=>{e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),e?void 0!==i[t]?i[t]=[].concat(i[t],r):i[t]=[r]:i[t]=r};case"comma":case"separator":return(e,r,i)=>{const n="string"===typeof r&&r.includes(t.arrayFormatSeparator),s="string"===typeof r&&!n&&f(r,t).includes(t.arrayFormatSeparator);r=s?f(r,t):r;const o=n||s?r.split(t.arrayFormatSeparator).map((e=>f(e,t))):null===r?r:f(r,t);i[e]=o};case"bracket-separator":return(e,r,i)=>{const n=/(\[\])$/.test(e);if(e=e.replace(/\[\]$/,""),!n)return void(i[e]=r?f(r,t):r);const s=null===r?[]:r.split(t.arrayFormatSeparator).map((e=>f(e,t)));void 0!==i[e]?i[e]=[].concat(i[e],s):i[e]=s};default:return(t,e,r)=>{void 0!==r[t]?r[t]=[].concat(r[t],e):r[t]=e}}}(e),i=Object.create(null);if("string"!==typeof t)return i;if(!(t=t.trim().replace(/^[?#&]/,"")))return i;for(const n of t.split("&")){if(""===n)continue;let[t,o]=s(e.decode?n.replace(/\+/g," "):n,"=");o=void 0===o?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?o:f(o,e),r(f(t,e),o,i)}for(const n of Object.keys(i)){const t=i[n];if("object"===typeof t&&null!==t)for(const r of Object.keys(t))t[r]=p(t[r],e);else i[n]=p(t,e)}return!1===e.sort?i:(!0===e.sort?Object.keys(i).sort():Object.keys(i).sort(e.sort)).reduce(((t,e)=>{const r=i[e];return Boolean(r)&&"object"===typeof r&&!Array.isArray(r)?t[e]=c(r):t[e]=r,t}),Object.create(null))}e.extract=d,e.parse=g,e.stringify=(t,e)=>{if(!t)return"";h((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const r=r=>{return e.skipNull&&(null===(i=t[r])||void 0===i)||e.skipEmptyString&&""===t[r];var i},i=function(t){switch(t.arrayFormat){case"index":return e=>(r,i)=>{const n=r.length;return void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?r:null===i?[...r,[u(e,t),"[",n,"]"].join("")]:[...r,[u(e,t),"[",u(n,t),"]=",u(i,t)].join("")]};case"bracket":return e=>(r,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?r:null===i?[...r,[u(e,t),"[]"].join("")]:[...r,[u(e,t),"[]=",u(i,t)].join("")];case"colon-list-separator":return e=>(r,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?r:null===i?[...r,[u(e,t),":list="].join("")]:[...r,[u(e,t),":list=",u(i,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e="bracket-separator"===t.arrayFormat?"[]=":"=";return r=>(i,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?i:(n=null===n?"":n,0===i.length?[[u(r,t),e,u(n,t)].join("")]:[[i,u(n,t)].join(t.arrayFormatSeparator)])}default:return e=>(r,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?r:null===i?[...r,u(e,t)]:[...r,[u(e,t),"=",u(i,t)].join("")]}}(e),n={};for(const o of Object.keys(t))r(o)||(n[o]=t[o]);const s=Object.keys(n);return!1!==e.sort&&s.sort(e.sort),s.map((r=>{const n=t[r];return void 0===n?"":null===n?u(r,e):Array.isArray(n)?0===n.length&&"bracket-separator"===e.arrayFormat?u(r,e)+"[]":n.reduce(i(r),[]).join("&"):u(r,e)+"="+u(n,e)})).filter((t=>t.length>0)).join("&")},e.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);const[r,i]=s(t,"#");return Object.assign({url:r.split("?")[0]||"",query:g(d(t),e)},e&&e.parseFragmentIdentifier&&i?{fragmentIdentifier:f(i,e)}:{})},e.stringifyUrl=(t,r)=>{r=Object.assign({encode:!0,strict:!0,[a]:!0},r);const i=l(t.url).split("?")[0]||"",n=e.extract(t.url),s=e.parse(n,{sort:!1}),o=Object.assign(s,t.query);let h=e.stringify(o,r);h&&(h=`?${h}`);let f=function(t){let e="";const r=t.indexOf("#");return-1!==r&&(e=t.slice(r)),e}(t.url);return t.fragmentIdentifier&&(f=`#${r[a]?u(t.fragmentIdentifier,r):t.fragmentIdentifier}`),`${i}${h}${f}`},e.pick=(t,r,i)=>{i=Object.assign({parseFragmentIdentifier:!0,[a]:!1},i);const{url:n,query:s,fragmentIdentifier:h}=e.parseUrl(t,i);return e.stringifyUrl({url:n,query:o(s,r),fragmentIdentifier:h},i)},e.exclude=(t,r,i)=>{const n=Array.isArray(r)?t=>!r.includes(t):(t,e)=>!r(t,e);return e.pick(t,n,i)}},9278:function(t,e,r){"use strict";function i(){return(null===r.g||void 0===r.g?void 0:r.g.crypto)||(null===r.g||void 0===r.g?void 0:r.g.msCrypto)||{}}function n(){const t=i();return t.subtle||t.webkitSubtle}Object.defineProperty(e,"__esModule",{value:!0}),e.isBrowserCryptoAvailable=e.getSubtleCrypto=e.getBrowerCrypto=void 0,e.getBrowerCrypto=i,e.getSubtleCrypto=n,e.isBrowserCryptoAvailable=function(){return!!i()&&!!n()}},752:function(t,e){"use strict";function r(){return"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product}function i(){return"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node}Object.defineProperty(e,"__esModule",{value:!0}),e.isBrowser=e.isNode=e.isReactNative=void 0,e.isReactNative=r,e.isNode=i,e.isBrowser=function(){return!r()&&!i()}},6295:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(815);i.__exportStar(r(9278),e),i.__exportStar(r(752),e)},815:function(t,e,r){"use strict";r.r(e),r.d(e,{__assign:function(){return s},__asyncDelegator:function(){return b},__asyncGenerator:function(){return w},__asyncValues:function(){return A},__await:function(){return y},__awaiter:function(){return f},__classPrivateFieldGet:function(){return S},__classPrivateFieldSet:function(){return I},__createBinding:function(){return l},__decorate:function(){return a},__exportStar:function(){return d},__extends:function(){return n},__generator:function(){return c},__importDefault:function(){return _},__importStar:function(){return M},__makeTemplateObject:function(){return E},__metadata:function(){return u},__param:function(){return h},__read:function(){return g},__rest:function(){return o},__spread:function(){return m},__spreadArrays:function(){return v},__values:function(){return p}});var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},i(t,e)};function n(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var s=function(){return s=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},s.apply(this,arguments)};function o(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]])}return r}function a(t,e,r,i){var n,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,r,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(o=(s<3?n(o):s>3?n(e,r,o):n(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function h(t,e){return function(r,i){e(r,i,t)}}function u(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function f(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{h(i.next(t))}catch(e){s(e)}}function a(t){try{h(i.throw(t))}catch(e){s(e)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}h((i=i.apply(t,e||[])).next())}))}function c(t,e){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function l(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}function d(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||(e[r]=t[r])}function p(t){var e="function"===typeof Symbol&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var r="function"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,n,s=r.call(t),o=[];try{for(;(void 0===e||e-->0)&&!(i=s.next()).done;)o.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function v(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)i[n]=s[o];return i}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function w(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(t){n[t]&&(i[t]=function(e){return new Promise((function(r,i){s.push([t,e,r,i])>1||a(t,e)}))})}function a(t,e){try{(r=n[t](e)).value instanceof y?Promise.resolve(r.value.v).then(h,u):f(s[0][2],r)}catch(i){f(s[0][3],i)}var r}function h(t){a("next",t)}function u(t){a("throw",t)}function f(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function b(t){var e,r;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,n){e[i]=t[i]?function(e){return(r=!r)?{value:y(t[i](e)),done:"return"===i}:n?n(e):e}:n}}function A(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=p(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(r){e[r]=t[r]&&function(e){return new Promise((function(i,n){(function(t,e,r,i){Promise.resolve(i).then((function(e){t({value:e,done:r})}),e)})(i,n,(e=t[r](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function M(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function _(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function I(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}},3783:function(t,e,r){"use strict";r.d(e,{vd:function(){return lx}});var i={};r.r(i),r.d(i,{identity:function(){return F}});var n={};r.r(n),r.d(n,{base2:function(){return L}});var s={};r.r(s),r.d(s,{base8:function(){return q}});var o={};r.r(o),r.d(o,{base10:function(){return j}});var a={};r.r(a),r.d(a,{base16:function(){return z},base16upper:function(){return H}});var h={};r.r(h),r.d(h,{base32:function(){return K},base32hex:function(){return J},base32hexpad:function(){return V},base32hexpadupper:function(){return X},base32hexupper:function(){return W},base32pad:function(){return G},base32padupper:function(){return Y},base32upper:function(){return Q},base32z:function(){return Z}});var u={};r.r(u),r.d(u,{base36:function(){return $},base36upper:function(){return tt}});var f={};r.r(f),r.d(f,{base58btc:function(){return et},base58flickr:function(){return rt}});var c={};r.r(c),r.d(c,{base64:function(){return it},base64pad:function(){return nt},base64url:function(){return st},base64urlpad:function(){return ot}});var l={};r.r(l),r.d(l,{base256emoji:function(){return ft}});var d={};r.r(d),r.d(d,{sha256:function(){return kt},sha512:function(){return Ut}});var p={};r.r(p),r.d(p,{identity:function(){return Ft}});var g={};r.r(g),r.d(g,{code:function(){return qt},decode:function(){return zt},encode:function(){return jt},name:function(){return Lt}});var m={};r.r(m),r.d(m,{code:function(){return Gt},decode:function(){return Jt},encode:function(){return Yt},name:function(){return Qt}});var v=r(1450),y=r.n(v),w=r(6671),b=r(6183),A=r(2818),E=(r(3671),r(8571)),M=r(79),_=r(3603),S=r(7131),I=r(3001);var N=function(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),o=s.charCodeAt(0);if(255!==r[o])throw new TypeError(s+" is ambiguous");r[o]=n}var a=t.length,h=t.charAt(0),u=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function c(t){if("string"!==typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;var e=0;if(" "!==t[e]){for(var i=0,n=0;t[e]===h;)i++,e++;for(var s=(t.length-e)*u+1>>>0,o=new Uint8Array(s);t[e];){var f=r[t.charCodeAt(e)];if(255===f)return;for(var c=0,l=s-1;(0!==f||c<n)&&-1!==l;l--,c++)f+=a*o[l]>>>0,o[l]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");n=c,e++}if(" "!==t[e]){for(var d=s-n;d!==s&&0===o[d];)d++;for(var p=new Uint8Array(i+(s-d)),g=i;d!==s;)p[g++]=o[d++];return p}}}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,i=0,n=0,s=e.length;n!==s&&0===e[n];)n++,r++;for(var o=(s-n)*f+1>>>0,u=new Uint8Array(o);n!==s;){for(var c=e[n],l=0,d=o-1;(0!==c||l<i)&&-1!==d;d--,l++)c+=256*u[d]>>>0,u[d]=c%a>>>0,c=c/a>>>0;if(0!==c)throw new Error("Non-zero carry");i=l,n++}for(var p=o-i;p!==o&&0===u[p];)p++;for(var g=h.repeat(r);p<o;++p)g+=t.charAt(u[p]);return g},decodeUnsafe:c,decode:function(t){var r=c(t);if(r)return r;throw new Error(`Non-${e} character`)}}},x=N;new Uint8Array(0);const C=t=>{if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};class O{constructor(t,e,r){this.name=t,this.prefix=e,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class B{constructor(t,e,r){if(this.name=t,this.prefix=e,void 0===e.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=r}decode(t){if("string"===typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return R(this,t)}}class P{constructor(t){this.decoders=t}or(t){return R(this,t)}decode(t){const e=t[0],r=this.decoders[e];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const R=(t,e)=>new P({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class T{constructor(t,e,r,i){this.name=t,this.prefix=e,this.baseEncode=r,this.baseDecode=i,this.encoder=new O(t,e,r),this.decoder=new B(t,e,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const k=({name:t,prefix:e,encode:r,decode:i})=>new T(t,e,r,i),U=({prefix:t,name:e,alphabet:r})=>{const{encode:i,decode:n}=x(r,e);return k({prefix:t,name:e,encode:i,decode:t=>C(n(t))})},D=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>k({prefix:e,name:t,encode(t){return((t,e,r)=>{const i="="===e[e.length-1],n=(1<<r)-1;let s="",o=0,a=0;for(let h=0;h<t.length;++h)for(a=a<<8|t[h],o+=8;o>r;)o-=r,s+=e[n&a>>o];if(o&&(s+=e[n&a<<r-o]),i)for(;s.length*r&7;)s+="=";return s})(t,i,r)},decode(e){return((t,e,r,i)=>{const n={};for(let f=0;f<e.length;++f)n[e[f]]=f;let s=t.length;for(;"="===t[s-1];)--s;const o=new Uint8Array(s*r/8|0);let a=0,h=0,u=0;for(let f=0;f<s;++f){const e=n[t[f]];if(void 0===e)throw new SyntaxError(`Non-${i} character`);h=h<<r|e,a+=r,a>=8&&(a-=8,o[u++]=255&h>>a)}if(a>=r||255&h<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,i,r,t)}}),F=k({prefix:"\0",name:"identity",encode:t=>(t=>(new TextDecoder).decode(t))(t),decode:t=>(t=>(new TextEncoder).encode(t))(t)}),L=D({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),q=D({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),j=U({prefix:"9",name:"base10",alphabet:"0123456789"}),z=D({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),H=D({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),K=D({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Q=D({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),G=D({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Y=D({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),J=D({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),W=D({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),V=D({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),X=D({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Z=D({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),$=U({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),tt=U({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),et=U({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),rt=U({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),it=D({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),nt=D({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),st=D({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ot=D({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),at=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),ht=at.reduce(((t,e,r)=>(t[r]=e,t)),[]),ut=at.reduce(((t,e,r)=>(t[e.codePointAt(0)]=r,t)),[]);const ft=k({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(t){return t.reduce(((t,e)=>t+=ht[e]),"")},decode:function(t){const e=[];for(const r of t){const t=ut[r.codePointAt(0)];if(void 0===t)throw new Error(`Non-base256emoji character: ${r}`);e.push(t)}return new Uint8Array(e)}});var ct=function t(e,r,i){r=r||[];var n=i=i||0;for(;e>=pt;)r[i++]=255&e|lt,e/=128;for(;e&dt;)r[i++]=255&e|lt,e>>>=7;return r[i]=0|e,t.bytes=i-n+1,r},lt=128,dt=-128,pt=Math.pow(2,31);var gt=function t(e,r){var i,n=0,s=0,o=r=r||0,a=e.length;do{if(o>=a)throw t.bytes=0,new RangeError("Could not decode varint");i=e[o++],n+=s<28?(i&vt)<<s:(i&vt)*Math.pow(2,s),s+=7}while(i>=mt);return t.bytes=o-r,n},mt=128,vt=127;var yt=Math.pow(2,7),wt=Math.pow(2,14),bt=Math.pow(2,21),At=Math.pow(2,28),Et=Math.pow(2,35),Mt=Math.pow(2,42),_t=Math.pow(2,49),St=Math.pow(2,56),It=Math.pow(2,63),Nt={encode:ct,decode:gt,encodingLength:function(t){return t<yt?1:t<wt?2:t<bt?3:t<At?4:t<Et?5:t<Mt?6:t<_t?7:t<St?8:t<It?9:10}};const xt=(t,e,r=0)=>(Nt.encode(t,e,r),e),Ct=t=>Nt.encodingLength(t),Ot=(t,e)=>{const r=e.byteLength,i=Ct(t),n=i+Ct(r),s=new Uint8Array(n+r);return xt(t,s,0),xt(r,s,i),s.set(e,n),new Bt(t,r,e,s)};class Bt{constructor(t,e,r,i){this.code=t,this.size=e,this.digest=r,this.bytes=i}}const Pt=({name:t,code:e,encode:r})=>new Rt(t,e,r);class Rt{constructor(t,e,r){this.name=t,this.code=e,this.encode=r}digest(t){if(t instanceof Uint8Array){const e=this.encode(t);return e instanceof Uint8Array?Ot(this.code,e):e.then((t=>Ot(this.code,t)))}throw Error("Unknown type, must be binary type")}}const Tt=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),kt=Pt({name:"sha2-256",code:18,encode:Tt("SHA-256")}),Ut=Pt({name:"sha2-512",code:19,encode:Tt("SHA-512")}),Dt=C,Ft={code:0,name:"identity",encode:Dt,digest:t=>Ot(0,Dt(t))},Lt="raw",qt=85,jt=t=>C(t),zt=t=>C(t),Ht=new TextEncoder,Kt=new TextDecoder,Qt="json",Gt=512,Yt=t=>Ht.encode(JSON.stringify(t)),Jt=t=>JSON.parse(Kt.decode(t));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom");Symbol.for("@ipld/js-cid/CID");const Wt={...i,...n,...s,...o,...a,...h,...u,...f,...c,...l};function Vt(t,e,r,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:i}}}const Xt=Vt("utf8","u",(t=>"u"+new TextDecoder("utf8").decode(t)),(t=>(new TextEncoder).encode(t.substring(1)))),Zt=Vt("ascii","a",(t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}),(t=>{const e=function(t=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}((t=t.substring(1)).length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}));const $t={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};function te(t,e=[]){const r=[];return Object.keys(t).forEach((i=>{if(e.length&&!e.includes(i))return;const n=t[i];r.push(...n.accounts)})),r}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var ee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof r.g<"u"?r.g:typeof self<"u"?self:{};var re={exports:{}};!function(t){!function(){var e="input is invalid type",r="object"==typeof window,i=r?window:{};i.JS_SHA3_NO_WINDOW&&(r=!1);var n=!r&&"object"==typeof self;!i.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?i=ee:n&&(i=self);var s=!i.JS_SHA3_NO_COMMON_JS&&t.exports,o=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",a="0123456789abcdef".split(""),h=[4,1024,262144,67108864],u=[0,8,16,24],f=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],c=[224,256,384,512],l=[128,256],d=["hex","buffer","arrayBuffer","array","digest"],p={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),o&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var g=function(t,e,r){return function(i){return new O(t,e,t).update(i)[r]()}},m=function(t,e,r){return function(i,n){return new O(t,e,n).update(i)[r]()}},v=function(t,e,r){return function(e,i,n,s){return E["cshake"+t].update(e,i,n,s)[r]()}},y=function(t,e,r){return function(e,i,n,s){return E["kmac"+t].update(e,i,n,s)[r]()}},w=function(t,e,r,i){for(var n=0;n<d.length;++n){var s=d[n];t[s]=e(r,i,s)}return t},b=function(t,e){var r=g(t,e,"hex");return r.create=function(){return new O(t,e,t)},r.update=function(t){return r.create().update(t)},w(r,g,t,e)},A=[{name:"keccak",padding:[1,256,65536,16777216],bits:c,createMethod:b},{name:"sha3",padding:[6,1536,393216,100663296],bits:c,createMethod:b},{name:"shake",padding:[31,7936,2031616,520093696],bits:l,createMethod:function(t,e){var r=m(t,e,"hex");return r.create=function(r){return new O(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},w(r,m,t,e)}},{name:"cshake",padding:h,bits:l,createMethod:function(t,e){var r=p[t],i=v(t,0,"hex");return i.create=function(i,n,s){return n||s?new O(t,e,i).bytepad([n,s],r):E["shake"+t].create(i)},i.update=function(t,e,r,n){return i.create(e,r,n).update(t)},w(i,v,t,e)}},{name:"kmac",padding:h,bits:l,createMethod:function(t,e){var r=p[t],i=y(t,0,"hex");return i.create=function(i,n,s){return new B(t,e,n).bytepad(["KMAC",s],r).bytepad([i],r)},i.update=function(t,e,r,n){return i.create(t,r,n).update(e)},w(i,y,t,e)}}],E={},M=[],_=0;_<A.length;++_)for(var S=A[_],I=S.bits,N=0;N<I.length;++N){var x=S.name+"_"+I[N];if(M.push(x),E[x]=S.createMethod(I[N],S.padding),"sha3"!==S.name){var C=S.name+I[N];M.push(C),E[C]=E[x]}}function O(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var i=0;i<50;++i)this.s[i]=0}function B(t,e,r){O.call(this,t,e,r)}O.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var r,i=typeof t;if("string"!==i){if("object"!==i)throw new Error(e);if(null===t)throw new Error(e);if(o&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!o||!ArrayBuffer.isView(t)))throw new Error(e);r=!0}for(var n,s,a=this.blocks,h=this.byteCount,f=t.length,c=this.blockCount,l=0,d=this.s;l<f;){if(this.reset)for(this.reset=!1,a[0]=this.block,n=1;n<c+1;++n)a[n]=0;if(r)for(n=this.start;l<f&&n<h;++l)a[n>>2]|=t[l]<<u[3&n++];else for(n=this.start;l<f&&n<h;++l)(s=t.charCodeAt(l))<128?a[n>>2]|=s<<u[3&n++]:s<2048?(a[n>>2]|=(192|s>>6)<<u[3&n++],a[n>>2]|=(128|63&s)<<u[3&n++]):s<55296||s>=57344?(a[n>>2]|=(224|s>>12)<<u[3&n++],a[n>>2]|=(128|s>>6&63)<<u[3&n++],a[n>>2]|=(128|63&s)<<u[3&n++]):(s=65536+((1023&s)<<10|1023&t.charCodeAt(++l)),a[n>>2]|=(240|s>>18)<<u[3&n++],a[n>>2]|=(128|s>>12&63)<<u[3&n++],a[n>>2]|=(128|s>>6&63)<<u[3&n++],a[n>>2]|=(128|63&s)<<u[3&n++]);if(this.lastByteIndex=n,n>=h){for(this.start=n-h,this.block=a[c],n=0;n<c;++n)d[n]^=a[n];P(d),this.reset=!0}else this.start=n}return this},O.prototype.encode=function(t,e){var r=255&t,i=1,n=[r];for(r=255&(t>>=8);r>0;)n.unshift(r),r=255&(t>>=8),++i;return e?n.push(i):n.unshift(i),this.update(n),n.length},O.prototype.encodeString=function(t){var r,i=typeof t;if("string"!==i){if("object"!==i)throw new Error(e);if(null===t)throw new Error(e);if(o&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!o||!ArrayBuffer.isView(t)))throw new Error(e);r=!0}var n=0,s=t.length;if(r)n=s;else for(var a=0;a<t.length;++a){var h=t.charCodeAt(a);h<128?n+=1:h<2048?n+=2:h<55296||h>=57344?n+=3:(h=65536+((1023&h)<<10|1023&t.charCodeAt(++a)),n+=4)}return n+=this.encode(8*n),this.update(t),n},O.prototype.bytepad=function(t,e){for(var r=this.encode(e),i=0;i<t.length;++i)r+=this.encodeString(t[i]);var n=e-r%e,s=[];return s.length=n,this.update(s),this},O.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,i=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)i[e]^=t[e];P(i)}},O.prototype.toString=O.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,i=this.outputBlocks,n=this.extraBytes,s=0,o=0,h="";o<i;){for(s=0;s<e&&o<i;++s,++o)t=r[s],h+=a[t>>4&15]+a[15&t]+a[t>>12&15]+a[t>>8&15]+a[t>>20&15]+a[t>>16&15]+a[t>>28&15]+a[t>>24&15];o%e===0&&(P(r),s=0)}return n&&(t=r[s],h+=a[t>>4&15]+a[15&t],n>1&&(h+=a[t>>12&15]+a[t>>8&15]),n>2&&(h+=a[t>>20&15]+a[t>>16&15])),h},O.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,i=this.outputBlocks,n=this.extraBytes,s=0,o=0,a=this.outputBits>>3;t=n?new ArrayBuffer(i+1<<2):new ArrayBuffer(a);for(var h=new Uint32Array(t);o<i;){for(s=0;s<e&&o<i;++s,++o)h[o]=r[s];o%e===0&&P(r)}return n&&(h[s]=r[s],t=t.slice(0,a)),t},O.prototype.buffer=O.prototype.arrayBuffer,O.prototype.digest=O.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,i=this.s,n=this.outputBlocks,s=this.extraBytes,o=0,a=0,h=[];a<n;){for(o=0;o<r&&a<n;++o,++a)t=a<<2,e=i[o],h[t]=255&e,h[t+1]=e>>8&255,h[t+2]=e>>16&255,h[t+3]=e>>24&255;a%r===0&&P(i)}return s&&(t=a<<2,e=i[o],h[t]=255&e,s>1&&(h[t+1]=e>>8&255),s>2&&(h[t+2]=e>>16&255)),h},B.prototype=new O,B.prototype.finalize=function(){return this.encode(this.outputBits,!0),O.prototype.finalize.call(this)};var P=function(t){var e,r,i,n,s,o,a,h,u,c,l,d,p,g,m,v,y,w,b,A,E,M,_,S,I,N,x,C,O,B,P,R,T,k,U,D,F,L,q,j,z,H,K,Q,G,Y,J,W,V,X,Z,$,tt,et,rt,it,nt,st,ot,at,ht,ut,ft;for(i=0;i<48;i+=2)n=t[0]^t[10]^t[20]^t[30]^t[40],s=t[1]^t[11]^t[21]^t[31]^t[41],o=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],h=t[4]^t[14]^t[24]^t[34]^t[44],u=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],e=(d=t[8]^t[18]^t[28]^t[38]^t[48])^(o<<1|a>>>31),r=(p=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|o>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=n^(h<<1|u>>>31),r=s^(u<<1|h>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=o^(c<<1|l>>>31),r=a^(l<<1|c>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=h^(d<<1|p>>>31),r=u^(p<<1|d>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=c^(n<<1|s>>>31),r=l^(s<<1|n>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,g=t[0],m=t[1],Y=t[11]<<4|t[10]>>>28,J=t[10]<<4|t[11]>>>28,C=t[20]<<3|t[21]>>>29,O=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ht=t[30]<<9|t[31]>>>23,H=t[40]<<18|t[41]>>>14,K=t[41]<<18|t[40]>>>14,k=t[2]<<1|t[3]>>>31,U=t[3]<<1|t[2]>>>31,v=t[13]<<12|t[12]>>>20,y=t[12]<<12|t[13]>>>20,W=t[22]<<10|t[23]>>>22,V=t[23]<<10|t[22]>>>22,B=t[33]<<13|t[32]>>>19,P=t[32]<<13|t[33]>>>19,ut=t[42]<<2|t[43]>>>30,ft=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,D=t[14]<<6|t[15]>>>26,F=t[15]<<6|t[14]>>>26,w=t[25]<<11|t[24]>>>21,b=t[24]<<11|t[25]>>>21,X=t[34]<<15|t[35]>>>17,Z=t[35]<<15|t[34]>>>17,R=t[45]<<29|t[44]>>>3,T=t[44]<<29|t[45]>>>3,S=t[6]<<28|t[7]>>>4,I=t[7]<<28|t[6]>>>4,it=t[17]<<23|t[16]>>>9,nt=t[16]<<23|t[17]>>>9,L=t[26]<<25|t[27]>>>7,q=t[27]<<25|t[26]>>>7,A=t[36]<<21|t[37]>>>11,E=t[37]<<21|t[36]>>>11,$=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,Q=t[8]<<27|t[9]>>>5,G=t[9]<<27|t[8]>>>5,N=t[18]<<20|t[19]>>>12,x=t[19]<<20|t[18]>>>12,st=t[29]<<7|t[28]>>>25,ot=t[28]<<7|t[29]>>>25,j=t[38]<<8|t[39]>>>24,z=t[39]<<8|t[38]>>>24,M=t[48]<<14|t[49]>>>18,_=t[49]<<14|t[48]>>>18,t[0]=g^~v&w,t[1]=m^~y&b,t[10]=S^~N&C,t[11]=I^~x&O,t[20]=k^~D&L,t[21]=U^~F&q,t[30]=Q^~Y&W,t[31]=G^~J&V,t[40]=et^~it&st,t[41]=rt^~nt&ot,t[2]=v^~w&A,t[3]=y^~b&E,t[12]=N^~C&B,t[13]=x^~O&P,t[22]=D^~L&j,t[23]=F^~q&z,t[32]=Y^~W&X,t[33]=J^~V&Z,t[42]=it^~st&at,t[43]=nt^~ot&ht,t[4]=w^~A&M,t[5]=b^~E&_,t[14]=C^~B&R,t[15]=O^~P&T,t[24]=L^~j&H,t[25]=q^~z&K,t[34]=W^~X&$,t[35]=V^~Z&tt,t[44]=st^~at&ut,t[45]=ot^~ht&ft,t[6]=A^~M&g,t[7]=E^~_&m,t[16]=B^~R&S,t[17]=P^~T&I,t[26]=j^~H&k,t[27]=z^~K&U,t[36]=X^~$&Q,t[37]=Z^~tt&G,t[46]=at^~ut&et,t[47]=ht^~ft&rt,t[8]=M^~g&v,t[9]=_^~m&y,t[18]=R^~S&N,t[19]=T^~I&x,t[28]=H^~k&D,t[29]=K^~U&F,t[38]=$^~Q&Y,t[39]=tt^~G&J,t[48]=ut^~et&it,t[49]=ft^~rt&nt,t[0]^=f[i],t[1]^=f[i+1]};if(s)t.exports=E;else for(_=0;_<M.length;++_)i[M[_]]=E[M[_]]}()}(re);let ie=!1,ne=!1;const se={debug:1,default:2,info:2,warning:3,error:4,off:5};let oe=se.default,ae=null;const he=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch{t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var ue,fe;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(ue||(ue={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(fe||(fe={}));const ce="0123456789abcdef";class le{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==se[r]&&this.throwArgumentError("invalid log level name","logLevel",t),!(oe>se[r])&&console.log.apply(console,e)}debug(...t){this._log(le.levels.DEBUG,t)}info(...t){this._log(le.levels.INFO,t)}warn(...t){this._log(le.levels.WARNING,t)}makeError(t,e,r){if(ne)return this.makeError("censored error",e,{});e||(e=le.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=ce[e[t]>>4],r+=ce[15&e[t]];i.push(t+"=Uint8Array(0x"+r+")")}else i.push(t+"="+JSON.stringify(e))}catch{i.push(t+"="+JSON.stringify(r[t].toString()))}})),i.push(`code=${e}`),i.push(`version=${this.version}`);const n=t;let s="";switch(e){case fe.NUMERIC_FAULT:{s="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":s+="-"+e;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case fe.CALL_EXCEPTION:case fe.INSUFFICIENT_FUNDS:case fe.MISSING_NEW:case fe.NONCE_EXPIRED:case fe.REPLACEMENT_UNDERPRICED:case fe.TRANSACTION_REPLACED:case fe.UNPREDICTABLE_GAS_LIMIT:s=e}s&&(t+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(t+=" ("+i.join(", ")+")");const o=new Error(t);return o.reason=n,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,le.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,i){t||this.throwError(e,r,i)}assertArgument(t,e,r,i){t||this.throwArgumentError(e,r,i)}checkNormalize(t){he&&this.throwError("platform missing String.prototype.normalize",le.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:he})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,le.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,le.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,le.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,le.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){(t===Object||null==t)&&this.throwError("missing new",le.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",le.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||null==t)&&this.throwError("missing new",le.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return ae||(ae=new le("logger/5.7.0")),ae}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",le.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),ie){if(!t)return;this.globalLogger().throwError("error censorship permanent",le.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}ne=!!t,ie=!!e}static setLogLevel(t){const e=se[t.toLowerCase()];null!=e?oe=e:le.globalLogger().warn("invalid log level - "+t)}static from(t){return new le(t)}}le.errors=fe,le.levels=ue;const de=new le("bytes/5.7.0");function pe(t){return!!t.toHexString}function ge(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return ge(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function me(t){return"number"==typeof t&&t==t&&t%1===0}function ve(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t||!me(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!me(r)||r<0||r>=256)return!1}return!0}function ye(t,e){if(e||(e={}),"number"==typeof t){de.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),ge(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),pe(t)&&(t=t.toHexString()),we(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":de.throwArgumentError("hex data is odd-length","value",t));const i=[];for(let t=0;t<r.length;t+=2)i.push(parseInt(r.substring(t,t+2),16));return ge(new Uint8Array(i))}return ve(t)?ge(new Uint8Array(t)):de.throwArgumentError("invalid arrayify value","value",t)}function we(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const be="0123456789abcdef";function Ae(t,e){if(e||(e={}),"number"==typeof t){de.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=be[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),pe(t))return t.toHexString();if(we(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":de.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(ve(t)){let e="0x";for(let r=0;r<t.length;r++){let i=t[r];e+=be[(240&i)>>4]+be[15&i]}return e}return de.throwArgumentError("invalid hexlify value","value",t)}function Ee(t,e){for("string"!=typeof t?t=Ae(t):we(t)||de.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&de.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}var Me={exports:{}},_e=function(t){var e=t.default;if("function"==typeof e){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var i=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,i.get?i:{enumerable:!0,get:function(){return t[e]}})})),r}(Object.freeze({__proto__:null,default:{}}));!function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function n(t,e,r){if(n.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(("le"===e||"be"===e)&&(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;try{s=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:_e.Buffer}catch{}function o(t,e){var i=t.charCodeAt(e);return i>=48&&i<=57?i-48:i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:void r(!1,"Invalid character in "+t)}function a(t,e,r){var i=o(t,r);return r-1>=e&&(i|=o(t,r-1)<<4),i}function h(t,e,i,n){for(var s=0,o=0,a=Math.min(t.length,i),h=e;h<a;h++){var u=t.charCodeAt(h)-48;s*=n,o=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&o<n,"Invalid character"),s+=o}return s}function u(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(n.isBN=function(t){return t instanceof n||null!==t&&"object"==typeof t&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,e){return t.cmp(e)>0?t:e},n.min=function(t,e){return t.cmp(e)<0?t:e},n.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,i):(this._parseBase(t,e,n),"le"===i&&this._initArray(this.toArray(),e,i)))},n.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},n.prototype._initArray=function(t,e,i){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var s,o,a=0;if("be"===i)for(n=t.length-1,s=0;n>=0;n-=3)o=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===i)for(n=0,s=0;n<t.length;n+=3)o=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},n.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,s=0,o=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=a(t,e,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;else for(i=(t.length-e)%2===0?e+1:e;i<t.length;i+=2)n=a(t,e,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;this._strip()},n.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var s=t.length-r,o=s%i,a=Math.min(s,s-o)+r,u=0,f=r;f<a;f+=i)u=h(t,f,f+i,e),this.imuln(n),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var c=1;for(u=h(t,f,t.length,e),f=0;f<o;f++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},n.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},n.prototype._move=function(t){u(t,this)},n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{n.prototype.inspect=f}else n.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var n=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<n|s)).toString(16);s=a>>>24-n&16777215,(n+=2)>=26&&(n-=26,o--),i=0!==s||o!==this.length-1?c[6-h.length]+h+i:h+i}for(0!==s&&(i=s.toString(16)+i);i.length%e!==0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var u=l[t],f=d[t];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modrn(f).toString(t);i=(p=p.idivn(f)).isZero()?g+i:c[u-g.length]+g+i}for(this.isZero()&&(i="0"+i);i.length%e!==0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},n.prototype.toJSON=function(){return this.toString(16,2)},s&&(n.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),n.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function p(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],s=0|e.words[0],o=n*s,a=67108863&o,h=o/67108864|0;r.words[0]=a;for(var u=1;u<i;u++){for(var f=h>>>26,c=67108863&h,l=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=l;d++){var p=u-d|0;f+=(o=(n=0|t.words[p])*(s=0|e.words[d])+c)/67108864|0,c=67108863&o}r.words[u]=0|c,h=0|f}return 0!==h?r.words[u]=0|h:r.length--,r._strip()}n.prototype.toArrayLike=function(t,e,i){this._strip();var n=this.byteLength(),s=i||Math.max(1,n);r(n<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,n),o},n.prototype._toArrayLikeLE=function(t,e){for(var r=0,i=0,n=0,s=0;n<this.length;n++){var o=this.words[n]<<s|i;t[r++]=255&o,r<t.length&&(t[r++]=o>>8&255),r<t.length&&(t[r++]=o>>16&255),6===s?(r<t.length&&(t[r++]=o>>24&255),i=0,s=0):(i=o>>>24,s+=2)}if(r<t.length)for(t[r++]=i;r<t.length;)t[r++]=0},n.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,i=0,n=0,s=0;n<this.length;n++){var o=this.words[n]<<s|i;t[r--]=255&o,r>=0&&(t[r--]=o>>8&255),r>=0&&(t[r--]=o>>16&255),6===s?(r>=0&&(t[r--]=o>>24&255),i=0,s=0):(i=o>>>24,s+=2)}if(r>=0)for(t[r--]=i;r>=0;)t[r--]=0},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},n.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 8191&e||(r+=13,e>>>=13),127&e||(r+=7,e>>>=7),15&e||(r+=4,e>>>=4),3&e||(r+=2,e>>>=2),1&e||r++,r},n.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},n.prototype.ior=function(t){return r(0===(this.negative|t.negative)),this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},n.prototype.iand=function(t){return r(0===(this.negative|t.negative)),this.iuand(t)},n.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this._strip()},n.prototype.ixor=function(t){return r(0===(this.negative|t.negative)),this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this._strip()},n.prototype.notn=function(t){return this.clone().inotn(t)},n.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<n:this.words[i]&~(1<<n),this._strip()},n.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,s=0;s<i.length;s++)e=(0|r.words[s])+(0|i.words[s])+n,this.words[s]=67108863&e,n=e>>>26;for(;0!==n&&s<r.length;s++)e=(0|r.words[s])+n,this.words[s]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},n.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var s=0,o=0;o<i.length;o++)s=(e=(0|r.words[o])-(0|i.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var i,n,s,o=t.words,a=e.words,h=r.words,u=0,f=0|o[0],c=8191&f,l=f>>>13,d=0|o[1],p=8191&d,g=d>>>13,m=0|o[2],v=8191&m,y=m>>>13,w=0|o[3],b=8191&w,A=w>>>13,E=0|o[4],M=8191&E,_=E>>>13,S=0|o[5],I=8191&S,N=S>>>13,x=0|o[6],C=8191&x,O=x>>>13,B=0|o[7],P=8191&B,R=B>>>13,T=0|o[8],k=8191&T,U=T>>>13,D=0|o[9],F=8191&D,L=D>>>13,q=0|a[0],j=8191&q,z=q>>>13,H=0|a[1],K=8191&H,Q=H>>>13,G=0|a[2],Y=8191&G,J=G>>>13,W=0|a[3],V=8191&W,X=W>>>13,Z=0|a[4],$=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,it=et>>>13,nt=0|a[6],st=8191&nt,ot=nt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,ft=0|a[8],ct=8191&ft,lt=ft>>>13,dt=0|a[9],pt=8191&dt,gt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(u+(i=Math.imul(c,j))|0)+((8191&(n=(n=Math.imul(c,z))+Math.imul(l,j)|0))<<13)|0;u=((s=Math.imul(l,z))+(n>>>13)|0)+(mt>>>26)|0,mt&=67108863,i=Math.imul(p,j),n=(n=Math.imul(p,z))+Math.imul(g,j)|0,s=Math.imul(g,z);var vt=(u+(i=i+Math.imul(c,K)|0)|0)+((8191&(n=(n=n+Math.imul(c,Q)|0)+Math.imul(l,K)|0))<<13)|0;u=((s=s+Math.imul(l,Q)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(v,j),n=(n=Math.imul(v,z))+Math.imul(y,j)|0,s=Math.imul(y,z),i=i+Math.imul(p,K)|0,n=(n=n+Math.imul(p,Q)|0)+Math.imul(g,K)|0,s=s+Math.imul(g,Q)|0;var yt=(u+(i=i+Math.imul(c,Y)|0)|0)+((8191&(n=(n=n+Math.imul(c,J)|0)+Math.imul(l,Y)|0))<<13)|0;u=((s=s+Math.imul(l,J)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(b,j),n=(n=Math.imul(b,z))+Math.imul(A,j)|0,s=Math.imul(A,z),i=i+Math.imul(v,K)|0,n=(n=n+Math.imul(v,Q)|0)+Math.imul(y,K)|0,s=s+Math.imul(y,Q)|0,i=i+Math.imul(p,Y)|0,n=(n=n+Math.imul(p,J)|0)+Math.imul(g,Y)|0,s=s+Math.imul(g,J)|0;var wt=(u+(i=i+Math.imul(c,V)|0)|0)+((8191&(n=(n=n+Math.imul(c,X)|0)+Math.imul(l,V)|0))<<13)|0;u=((s=s+Math.imul(l,X)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(M,j),n=(n=Math.imul(M,z))+Math.imul(_,j)|0,s=Math.imul(_,z),i=i+Math.imul(b,K)|0,n=(n=n+Math.imul(b,Q)|0)+Math.imul(A,K)|0,s=s+Math.imul(A,Q)|0,i=i+Math.imul(v,Y)|0,n=(n=n+Math.imul(v,J)|0)+Math.imul(y,Y)|0,s=s+Math.imul(y,J)|0,i=i+Math.imul(p,V)|0,n=(n=n+Math.imul(p,X)|0)+Math.imul(g,V)|0,s=s+Math.imul(g,X)|0;var bt=(u+(i=i+Math.imul(c,$)|0)|0)+((8191&(n=(n=n+Math.imul(c,tt)|0)+Math.imul(l,$)|0))<<13)|0;u=((s=s+Math.imul(l,tt)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(I,j),n=(n=Math.imul(I,z))+Math.imul(N,j)|0,s=Math.imul(N,z),i=i+Math.imul(M,K)|0,n=(n=n+Math.imul(M,Q)|0)+Math.imul(_,K)|0,s=s+Math.imul(_,Q)|0,i=i+Math.imul(b,Y)|0,n=(n=n+Math.imul(b,J)|0)+Math.imul(A,Y)|0,s=s+Math.imul(A,J)|0,i=i+Math.imul(v,V)|0,n=(n=n+Math.imul(v,X)|0)+Math.imul(y,V)|0,s=s+Math.imul(y,X)|0,i=i+Math.imul(p,$)|0,n=(n=n+Math.imul(p,tt)|0)+Math.imul(g,$)|0,s=s+Math.imul(g,tt)|0;var At=(u+(i=i+Math.imul(c,rt)|0)|0)+((8191&(n=(n=n+Math.imul(c,it)|0)+Math.imul(l,rt)|0))<<13)|0;u=((s=s+Math.imul(l,it)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(C,j),n=(n=Math.imul(C,z))+Math.imul(O,j)|0,s=Math.imul(O,z),i=i+Math.imul(I,K)|0,n=(n=n+Math.imul(I,Q)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,Q)|0,i=i+Math.imul(M,Y)|0,n=(n=n+Math.imul(M,J)|0)+Math.imul(_,Y)|0,s=s+Math.imul(_,J)|0,i=i+Math.imul(b,V)|0,n=(n=n+Math.imul(b,X)|0)+Math.imul(A,V)|0,s=s+Math.imul(A,X)|0,i=i+Math.imul(v,$)|0,n=(n=n+Math.imul(v,tt)|0)+Math.imul(y,$)|0,s=s+Math.imul(y,tt)|0,i=i+Math.imul(p,rt)|0,n=(n=n+Math.imul(p,it)|0)+Math.imul(g,rt)|0,s=s+Math.imul(g,it)|0;var Et=(u+(i=i+Math.imul(c,st)|0)|0)+((8191&(n=(n=n+Math.imul(c,ot)|0)+Math.imul(l,st)|0))<<13)|0;u=((s=s+Math.imul(l,ot)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(P,j),n=(n=Math.imul(P,z))+Math.imul(R,j)|0,s=Math.imul(R,z),i=i+Math.imul(C,K)|0,n=(n=n+Math.imul(C,Q)|0)+Math.imul(O,K)|0,s=s+Math.imul(O,Q)|0,i=i+Math.imul(I,Y)|0,n=(n=n+Math.imul(I,J)|0)+Math.imul(N,Y)|0,s=s+Math.imul(N,J)|0,i=i+Math.imul(M,V)|0,n=(n=n+Math.imul(M,X)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,X)|0,i=i+Math.imul(b,$)|0,n=(n=n+Math.imul(b,tt)|0)+Math.imul(A,$)|0,s=s+Math.imul(A,tt)|0,i=i+Math.imul(v,rt)|0,n=(n=n+Math.imul(v,it)|0)+Math.imul(y,rt)|0,s=s+Math.imul(y,it)|0,i=i+Math.imul(p,st)|0,n=(n=n+Math.imul(p,ot)|0)+Math.imul(g,st)|0,s=s+Math.imul(g,ot)|0;var Mt=(u+(i=i+Math.imul(c,ht)|0)|0)+((8191&(n=(n=n+Math.imul(c,ut)|0)+Math.imul(l,ht)|0))<<13)|0;u=((s=s+Math.imul(l,ut)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(k,j),n=(n=Math.imul(k,z))+Math.imul(U,j)|0,s=Math.imul(U,z),i=i+Math.imul(P,K)|0,n=(n=n+Math.imul(P,Q)|0)+Math.imul(R,K)|0,s=s+Math.imul(R,Q)|0,i=i+Math.imul(C,Y)|0,n=(n=n+Math.imul(C,J)|0)+Math.imul(O,Y)|0,s=s+Math.imul(O,J)|0,i=i+Math.imul(I,V)|0,n=(n=n+Math.imul(I,X)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,X)|0,i=i+Math.imul(M,$)|0,n=(n=n+Math.imul(M,tt)|0)+Math.imul(_,$)|0,s=s+Math.imul(_,tt)|0,i=i+Math.imul(b,rt)|0,n=(n=n+Math.imul(b,it)|0)+Math.imul(A,rt)|0,s=s+Math.imul(A,it)|0,i=i+Math.imul(v,st)|0,n=(n=n+Math.imul(v,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,i=i+Math.imul(p,ht)|0,n=(n=n+Math.imul(p,ut)|0)+Math.imul(g,ht)|0,s=s+Math.imul(g,ut)|0;var _t=(u+(i=i+Math.imul(c,ct)|0)|0)+((8191&(n=(n=n+Math.imul(c,lt)|0)+Math.imul(l,ct)|0))<<13)|0;u=((s=s+Math.imul(l,lt)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(F,j),n=(n=Math.imul(F,z))+Math.imul(L,j)|0,s=Math.imul(L,z),i=i+Math.imul(k,K)|0,n=(n=n+Math.imul(k,Q)|0)+Math.imul(U,K)|0,s=s+Math.imul(U,Q)|0,i=i+Math.imul(P,Y)|0,n=(n=n+Math.imul(P,J)|0)+Math.imul(R,Y)|0,s=s+Math.imul(R,J)|0,i=i+Math.imul(C,V)|0,n=(n=n+Math.imul(C,X)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,X)|0,i=i+Math.imul(I,$)|0,n=(n=n+Math.imul(I,tt)|0)+Math.imul(N,$)|0,s=s+Math.imul(N,tt)|0,i=i+Math.imul(M,rt)|0,n=(n=n+Math.imul(M,it)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,it)|0,i=i+Math.imul(b,st)|0,n=(n=n+Math.imul(b,ot)|0)+Math.imul(A,st)|0,s=s+Math.imul(A,ot)|0,i=i+Math.imul(v,ht)|0,n=(n=n+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,s=s+Math.imul(y,ut)|0,i=i+Math.imul(p,ct)|0,n=(n=n+Math.imul(p,lt)|0)+Math.imul(g,ct)|0,s=s+Math.imul(g,lt)|0;var St=(u+(i=i+Math.imul(c,pt)|0)|0)+((8191&(n=(n=n+Math.imul(c,gt)|0)+Math.imul(l,pt)|0))<<13)|0;u=((s=s+Math.imul(l,gt)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(F,K),n=(n=Math.imul(F,Q))+Math.imul(L,K)|0,s=Math.imul(L,Q),i=i+Math.imul(k,Y)|0,n=(n=n+Math.imul(k,J)|0)+Math.imul(U,Y)|0,s=s+Math.imul(U,J)|0,i=i+Math.imul(P,V)|0,n=(n=n+Math.imul(P,X)|0)+Math.imul(R,V)|0,s=s+Math.imul(R,X)|0,i=i+Math.imul(C,$)|0,n=(n=n+Math.imul(C,tt)|0)+Math.imul(O,$)|0,s=s+Math.imul(O,tt)|0,i=i+Math.imul(I,rt)|0,n=(n=n+Math.imul(I,it)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,it)|0,i=i+Math.imul(M,st)|0,n=(n=n+Math.imul(M,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,i=i+Math.imul(b,ht)|0,n=(n=n+Math.imul(b,ut)|0)+Math.imul(A,ht)|0,s=s+Math.imul(A,ut)|0,i=i+Math.imul(v,ct)|0,n=(n=n+Math.imul(v,lt)|0)+Math.imul(y,ct)|0,s=s+Math.imul(y,lt)|0;var It=(u+(i=i+Math.imul(p,pt)|0)|0)+((8191&(n=(n=n+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;u=((s=s+Math.imul(g,gt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(F,Y),n=(n=Math.imul(F,J))+Math.imul(L,Y)|0,s=Math.imul(L,J),i=i+Math.imul(k,V)|0,n=(n=n+Math.imul(k,X)|0)+Math.imul(U,V)|0,s=s+Math.imul(U,X)|0,i=i+Math.imul(P,$)|0,n=(n=n+Math.imul(P,tt)|0)+Math.imul(R,$)|0,s=s+Math.imul(R,tt)|0,i=i+Math.imul(C,rt)|0,n=(n=n+Math.imul(C,it)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,it)|0,i=i+Math.imul(I,st)|0,n=(n=n+Math.imul(I,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,i=i+Math.imul(M,ht)|0,n=(n=n+Math.imul(M,ut)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,ut)|0,i=i+Math.imul(b,ct)|0,n=(n=n+Math.imul(b,lt)|0)+Math.imul(A,ct)|0,s=s+Math.imul(A,lt)|0;var Nt=(u+(i=i+Math.imul(v,pt)|0)|0)+((8191&(n=(n=n+Math.imul(v,gt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((s=s+Math.imul(y,gt)|0)+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,i=Math.imul(F,V),n=(n=Math.imul(F,X))+Math.imul(L,V)|0,s=Math.imul(L,X),i=i+Math.imul(k,$)|0,n=(n=n+Math.imul(k,tt)|0)+Math.imul(U,$)|0,s=s+Math.imul(U,tt)|0,i=i+Math.imul(P,rt)|0,n=(n=n+Math.imul(P,it)|0)+Math.imul(R,rt)|0,s=s+Math.imul(R,it)|0,i=i+Math.imul(C,st)|0,n=(n=n+Math.imul(C,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,i=i+Math.imul(I,ht)|0,n=(n=n+Math.imul(I,ut)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ut)|0,i=i+Math.imul(M,ct)|0,n=(n=n+Math.imul(M,lt)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,lt)|0;var xt=(u+(i=i+Math.imul(b,pt)|0)|0)+((8191&(n=(n=n+Math.imul(b,gt)|0)+Math.imul(A,pt)|0))<<13)|0;u=((s=s+Math.imul(A,gt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(F,$),n=(n=Math.imul(F,tt))+Math.imul(L,$)|0,s=Math.imul(L,tt),i=i+Math.imul(k,rt)|0,n=(n=n+Math.imul(k,it)|0)+Math.imul(U,rt)|0,s=s+Math.imul(U,it)|0,i=i+Math.imul(P,st)|0,n=(n=n+Math.imul(P,ot)|0)+Math.imul(R,st)|0,s=s+Math.imul(R,ot)|0,i=i+Math.imul(C,ht)|0,n=(n=n+Math.imul(C,ut)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ut)|0,i=i+Math.imul(I,ct)|0,n=(n=n+Math.imul(I,lt)|0)+Math.imul(N,ct)|0,s=s+Math.imul(N,lt)|0;var Ct=(u+(i=i+Math.imul(M,pt)|0)|0)+((8191&(n=(n=n+Math.imul(M,gt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((s=s+Math.imul(_,gt)|0)+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,i=Math.imul(F,rt),n=(n=Math.imul(F,it))+Math.imul(L,rt)|0,s=Math.imul(L,it),i=i+Math.imul(k,st)|0,n=(n=n+Math.imul(k,ot)|0)+Math.imul(U,st)|0,s=s+Math.imul(U,ot)|0,i=i+Math.imul(P,ht)|0,n=(n=n+Math.imul(P,ut)|0)+Math.imul(R,ht)|0,s=s+Math.imul(R,ut)|0,i=i+Math.imul(C,ct)|0,n=(n=n+Math.imul(C,lt)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,lt)|0;var Ot=(u+(i=i+Math.imul(I,pt)|0)|0)+((8191&(n=(n=n+Math.imul(I,gt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((s=s+Math.imul(N,gt)|0)+(n>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,i=Math.imul(F,st),n=(n=Math.imul(F,ot))+Math.imul(L,st)|0,s=Math.imul(L,ot),i=i+Math.imul(k,ht)|0,n=(n=n+Math.imul(k,ut)|0)+Math.imul(U,ht)|0,s=s+Math.imul(U,ut)|0,i=i+Math.imul(P,ct)|0,n=(n=n+Math.imul(P,lt)|0)+Math.imul(R,ct)|0,s=s+Math.imul(R,lt)|0;var Bt=(u+(i=i+Math.imul(C,pt)|0)|0)+((8191&(n=(n=n+Math.imul(C,gt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((s=s+Math.imul(O,gt)|0)+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,i=Math.imul(F,ht),n=(n=Math.imul(F,ut))+Math.imul(L,ht)|0,s=Math.imul(L,ut),i=i+Math.imul(k,ct)|0,n=(n=n+Math.imul(k,lt)|0)+Math.imul(U,ct)|0,s=s+Math.imul(U,lt)|0;var Pt=(u+(i=i+Math.imul(P,pt)|0)|0)+((8191&(n=(n=n+Math.imul(P,gt)|0)+Math.imul(R,pt)|0))<<13)|0;u=((s=s+Math.imul(R,gt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,i=Math.imul(F,ct),n=(n=Math.imul(F,lt))+Math.imul(L,ct)|0,s=Math.imul(L,lt);var Rt=(u+(i=i+Math.imul(k,pt)|0)|0)+((8191&(n=(n=n+Math.imul(k,gt)|0)+Math.imul(U,pt)|0))<<13)|0;u=((s=s+Math.imul(U,gt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863;var Tt=(u+(i=Math.imul(F,pt))|0)+((8191&(n=(n=Math.imul(F,gt))+Math.imul(L,pt)|0))<<13)|0;return u=((s=Math.imul(L,gt))+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,h[0]=mt,h[1]=vt,h[2]=yt,h[3]=wt,h[4]=bt,h[5]=At,h[6]=Et,h[7]=Mt,h[8]=_t,h[9]=St,h[10]=It,h[11]=Nt,h[12]=xt,h[13]=Ct,h[14]=Ot,h[15]=Bt,h[16]=Pt,h[17]=Rt,h[18]=Tt,0!==u&&(h[19]=u,r.length++),r};function m(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,s=0;s<r.length-1;s++){var o=n;n=0;for(var a=67108863&i,h=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=h;u++){var f=s-u,c=(0|t.words[f])*(0|e.words[u]),l=67108863&c;a=67108863&(l=l+a|0),n+=(o=(o=o+(c/67108864|0)|0)+(l>>>26)|0)>>>26,o&=67108863}r.words[s]=a,i=o,o=n}return 0!==i?r.words[s]=i:r.length--,r._strip()}function v(t,e,r){return m(t,e,r)}Math.imul||(g=p),n.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?p(this,t,e):r<1024?m(this,t,e):v(this,t,e)},n.prototype.mul=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},n.prototype.mulf=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),v(this,t,e)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"==typeof t),r(t<67108864);for(var i=0,n=0;n<this.length;n++){var s=(0|this.words[n])*t,o=(67108863&s)+(67108863&i);i>>=26,i+=s/67108864|0,i+=o>>>26,this.words[n]=67108863&o}return 0!==i&&(this.words[n]=i,this.length++),e?this.ineg():this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=t.words[i]>>>n&1}return e}(t);if(0===e.length)return new n(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var s=r.sqr();i<e.length;i++,s=s.sqr())0!==e[i]&&(r=r.mul(s));return r},n.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,i=t%26,n=(t-i)/26,s=67108863>>>26-i<<26-i;if(0!==i){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<i;this.words[e]=h|o,o=a>>>26-i}o&&(this.words[e]=o,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this._strip()},n.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,e,i){var n;r("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=i;if(n-=o,n=Math.max(0,n),h){for(var u=0;u<o;u++)h.words[u]=this.words[u];h.length=o}if(0!==o)if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var f=0;for(u=this.length-1;u>=0&&(0!==f||u>=n);u--){var c=0|this.words[u];this.words[u]=f<<26-s|c>>>s,f=c&a}return h&&0!==f&&(h.words[h.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(t,e,i){return r(0===this.negative),this.iushrn(t,e,i)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,n=1<<e;return!(this.length<=i)&&!!(this.words[i]&n)},n.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this._strip()},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},n.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,e,i){var n,s=t.length+i;this._expand(s);var o,a=0;for(n=0;n<t.length;n++){o=(0|this.words[n+i])+a;var h=(0|t.words[n])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[n+i]=67108863&o}for(;n<this.length-i;n++)a=(o=(0|this.words[n+i])+a)>>26,this.words[n+i]=67108863&o;if(0===a)return this._strip();for(r(-1===a),a=0,n=0;n<this.length;n++)a=(o=-(0|this.words[n])+a)>>26,this.words[n]=67108863&o;return this.negative=1,this._strip()},n.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),s=t,o=0|s.words[s.length-1];0!==(r=26-this._countBits(o))&&(s=s.ushln(r),i.iushln(r),o=0|s.words[s.length-1]);var a,h=i.length-s.length;if("mod"!==e){(a=new n(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var f=i.clone()._ishlnsubmul(s,1,h);0===f.negative&&(i=f,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var l=67108864*(0|i.words[s.length+c])+(0|i.words[s.length+c-1]);for(l=Math.min(l/o|0,67108863),i._ishlnsubmul(s,l,c);0!==i.negative;)l--,i.negative=0,i._ishlnsubmul(s,1,c),i.isZero()||(i.negative^=1);a&&(a.words[c]=l)}return a&&a._strip(),i._strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},n.prototype.divmod=function(t,e,i){return r(!t.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(s=a.div.neg()),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.iadd(t)),{div:s,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(s=a.div.neg()),{div:s,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new n(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new n(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modrn(t.words[0]))}:this._wordDiv(t,e);var s,o,a},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),s=r.cmp(i);return s<0||1===n&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},n.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var i=(1<<26)%t,n=0,s=this.length-1;s>=0;s--)n=(i*n+(0|this.words[s]))%t;return e?-n:n},n.prototype.modn=function(t){return this.modrn(t)},n.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var i=0,n=this.length-1;n>=0;n--){var s=(0|this.words[n])+67108864*i;this.words[n]=s/t|0,i=s%t}return this._strip(),e?this.ineg():this},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var s=new n(1),o=new n(0),a=new n(0),h=new n(1),u=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++u;for(var f=i.clone(),c=e.clone();!e.isZero();){for(var l=0,d=1;!(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-->0;)(s.isOdd()||o.isOdd())&&(s.iadd(f),o.isub(c)),s.iushrn(1),o.iushrn(1);for(var p=0,g=1;!(i.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(i.iushrn(p);p-->0;)(a.isOdd()||h.isOdd())&&(a.iadd(f),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(i)>=0?(e.isub(i),s.isub(a),o.isub(h)):(i.isub(e),a.isub(s),h.isub(o))}return{a:a,b:h,gcd:i.iushln(u)}},n.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e,i=this,s=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var o=new n(1),a=new n(0),h=s.clone();i.cmpn(1)>0&&s.cmpn(1)>0;){for(var u=0,f=1;!(i.words[0]&f)&&u<26;++u,f<<=1);if(u>0)for(i.iushrn(u);u-->0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var c=0,l=1;!(s.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(s.iushrn(c);c-->0;)a.isOdd()&&a.iadd(h),a.iushrn(1);i.cmp(s)>=0?(i.isub(s),o.isub(a)):(s.isub(i),a.isub(o))}return(e=0===i.cmpn(1)?o:a).cmpn(0)<0&&e.iadd(t),e},n.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var s=e;e=r,r=s}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return 0===(1&this.words[0])},n.prototype.isOdd=function(){return 1===(1&this.words[0])},n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var s=n,o=i;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this._strip(),this.length>1)e=1;else{i&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},n.prototype.gtn=function(t){return 1===this.cmpn(t)},n.prototype.gt=function(t){return 1===this.cmp(t)},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return-1===this.cmpn(t)},n.prototype.lt=function(t){return-1===this.cmp(t)},n.prototype.lten=function(t){return this.cmpn(t)<=0},n.prototype.lte=function(t){return this.cmp(t)<=0},n.prototype.eqn=function(t){return 0===this.cmpn(t)},n.prototype.eq=function(t){return 0===this.cmp(t)},n.red=function(t){return new _(t)},n.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},n.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new n(e,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function A(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(t){if("string"==typeof t){var e=n._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function S(t){_.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new n(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},i(b,w),b.prototype.split=function(t,e){for(var r=4194303,i=Math.min(t.length,9),n=0;n<i;n++)e.words[n]=t.words[n];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[n-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(A,w),i(E,w),i(M,w),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},n._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new A;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return y[t]=e,e},_.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},_.prototype._verify2=function(t,e){r(0===(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},_.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(u(t,t.umod(this.m)._forceRed(this)),t)},_.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},_.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},_.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},_.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},_.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},_.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},_.prototype.isqr=function(t){return this.imul(t,t.clone())},_.prototype.sqr=function(t){return this.mul(t,t)},_.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2===1),3===e){var i=this.m.add(new n(1)).iushrn(2);return this.pow(t,i)}for(var s=this.m.subn(1),o=0;!s.isZero()&&0===s.andln(1);)o++,s.iushrn(1);r(!s.isZero());var a=new n(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new n(2*f*f).toRed(this);0!==this.pow(f,u).cmp(h);)f.redIAdd(h);for(var c=this.pow(f,s),l=this.pow(t,s.addn(1).iushrn(1)),d=this.pow(t,s),p=o;0!==d.cmp(a);){for(var g=d,m=0;0!==g.cmp(a);m++)g=g.redSqr();r(m<p);var v=this.pow(c,new n(1).iushln(p-m-1));l=l.redMul(v),c=v.redSqr(),d=d.redMul(c),p=m}return l},_.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},_.prototype.pow=function(t,e){if(e.isZero())return new n(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new n(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var s=r[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),i=e.length-1;i>=0;i--){for(var u=e.words[i],f=h-1;f>=0;f--){var c=u>>f&1;(s!==r[0]&&(s=this.sqr(s)),0!==c||0!==o)?(o<<=1,o|=c,(4===++a||0===i&&0===f)&&(s=this.mul(s,r[o]),a=0,o=0)):a=0}h=26}return s},_.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},_.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},n.mont=function(t){return new S(t)},i(S,_),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},S.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},S.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new n(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=r.isub(i).iushrn(this.shift),o=s;return s.cmp(this.m)>=0?o=s.isub(this.m):s.cmpn(0)<0&&(o=s.iadd(this.m)),o._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,ee)}(Me);var Se=Me.exports;const Ie="bignumber/5.7.0";var Ne=Se.BN;const xe=new le(Ie),Ce={},Oe=9007199254740991;let Be=!1;class Pe{constructor(t,e){t!==Ce&&xe.throwError("cannot call constructor directly; use BigNumber.from",le.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Te(ke(this).fromTwos(t))}toTwos(t){return Te(ke(this).toTwos(t))}abs(){return"-"===this._hex[0]?Pe.from(this._hex.substring(1)):this}add(t){return Te(ke(this).add(ke(t)))}sub(t){return Te(ke(this).sub(ke(t)))}div(t){return Pe.from(t).isZero()&&Ue("division-by-zero","div"),Te(ke(this).div(ke(t)))}mul(t){return Te(ke(this).mul(ke(t)))}mod(t){const e=ke(t);return e.isNeg()&&Ue("division-by-zero","mod"),Te(ke(this).umod(e))}pow(t){const e=ke(t);return e.isNeg()&&Ue("negative-power","pow"),Te(ke(this).pow(e))}and(t){const e=ke(t);return(this.isNegative()||e.isNeg())&&Ue("unbound-bitwise-result","and"),Te(ke(this).and(e))}or(t){const e=ke(t);return(this.isNegative()||e.isNeg())&&Ue("unbound-bitwise-result","or"),Te(ke(this).or(e))}xor(t){const e=ke(t);return(this.isNegative()||e.isNeg())&&Ue("unbound-bitwise-result","xor"),Te(ke(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&Ue("negative-width","mask"),Te(ke(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Ue("negative-width","shl"),Te(ke(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Ue("negative-width","shr"),Te(ke(this).shrn(t))}eq(t){return ke(this).eq(ke(t))}lt(t){return ke(this).lt(ke(t))}lte(t){return ke(this).lte(ke(t))}gt(t){return ke(this).gt(ke(t))}gte(t){return ke(this).gte(ke(t))}isNegative(){return"-"===this._hex[0]}isZero(){return ke(this).isZero()}toNumber(){try{return ke(this).toNumber()}catch{Ue("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return xe.throwError("this platform does not support BigInt",le.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?Be||(Be=!0,xe.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?xe.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",le.errors.UNEXPECTED_ARGUMENT,{}):xe.throwError("BigNumber.toString does not accept parameters",le.errors.UNEXPECTED_ARGUMENT,{})),ke(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Pe)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new Pe(Ce,Re(t)):t.match(/^-?[0-9]+$/)?new Pe(Ce,Re(new Ne(t))):xe.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&Ue("underflow","BigNumber.from",t),(t>=Oe||t<=-Oe)&&Ue("overflow","BigNumber.from",t),Pe.from(String(t));const e=t;if("bigint"==typeof e)return Pe.from(e.toString());if(ve(e))return Pe.from(Ae(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return Pe.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(we(t)||"-"===t[0]&&we(t.substring(1))))return Pe.from(t)}return xe.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function Re(t){if("string"!=typeof t)return Re(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&xe.throwArgumentError("invalid hex","value",t),"0x00"===(t=Re(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function Te(t){return Pe.from(Re(t))}function ke(t){const e=Pe.from(t).toHexString();return"-"===e[0]?new Ne("-"+e.substring(3),16):new Ne(e.substring(2),16)}function Ue(t,e,r){const i={fault:t,operation:e};return null!=r&&(i.value=r),xe.throwError(t,le.errors.NUMERIC_FAULT,i)}const De=new le(Ie),Fe={},Le=Pe.from(0),qe=Pe.from(-1);function je(t,e,r,i){const n={fault:e,operation:r};return void 0!==i&&(n.value=i),De.throwError(t,le.errors.NUMERIC_FAULT,n)}let ze="0";for(;ze.length<256;)ze+=ze;function He(t){if("number"!=typeof t)try{t=Pe.from(t).toNumber()}catch{}return"number"==typeof t&&t>=0&&t<=256&&!(t%1)?"1"+ze.substring(0,t):De.throwArgumentError("invalid decimal size","decimals",t)}function Ke(t,e){null==e&&(e=0);const r=He(e),i=(t=Pe.from(t)).lt(Le);i&&(t=t.mul(qe));let n=t.mod(r).toString();for(;n.length<r.length-1;)n="0"+n;n=n.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return t=1===r.length?s:s+"."+n,i&&(t="-"+t),t}function Qe(t,e){null==e&&(e=0);const r=He(e);("string"!=typeof t||!t.match(/^-?[0-9.]+$/))&&De.throwArgumentError("invalid decimal value","value",t);const i="-"===t.substring(0,1);i&&(t=t.substring(1)),"."===t&&De.throwArgumentError("missing value","value",t);const n=t.split(".");n.length>2&&De.throwArgumentError("too many decimal points","value",t);let s=n[0],o=n[1];for(s||(s="0"),o||(o="0");"0"===o[o.length-1];)o=o.substring(0,o.length-1);for(o.length>r.length-1&&je("fractional component exceeds decimals","underflow","parseFixed"),""===o&&(o="0");o.length<r.length-1;)o+="0";const a=Pe.from(s),h=Pe.from(o);let u=a.mul(r).add(h);return i&&(u=u.mul(qe)),u}class Ge{constructor(t,e,r,i){t!==Fe&&De.throwError("cannot use FixedFormat constructor; use FixedFormat.from",le.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=e,this.width=r,this.decimals=i,this.name=(e?"":"u")+"fixed"+String(r)+"x"+String(i),this._multiplier=He(i),Object.freeze(this)}static from(t){if(t instanceof Ge)return t;"number"==typeof t&&(t=`fixed128x${t}`);let e=!0,r=128,i=18;if("string"==typeof t){if("fixed"!==t)if("ufixed"===t)e=!1;else{const n=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);n||De.throwArgumentError("invalid fixed format","format",t),e="u"!==n[1],r=parseInt(n[2]),i=parseInt(n[3])}}else if(t){const n=(e,r,i)=>null==t[e]?i:(typeof t[e]!==r&&De.throwArgumentError("invalid fixed format ("+e+" not "+r+")","format."+e,t[e]),t[e]);e=n("signed","boolean",e),r=n("width","number",r),i=n("decimals","number",i)}return r%8&&De.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&De.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Ge(Fe,e,r,i)}}class Ye{constructor(t,e,r,i){t!==Fe&&De.throwError("cannot use FixedNumber constructor; use FixedNumber.from",le.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=e,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&De.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const e=Qe(this._value,this.format.decimals),r=Qe(t._value,t.format.decimals);return Ye.fromValue(e.add(r),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const e=Qe(this._value,this.format.decimals),r=Qe(t._value,t.format.decimals);return Ye.fromValue(e.sub(r),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const e=Qe(this._value,this.format.decimals),r=Qe(t._value,t.format.decimals);return Ye.fromValue(e.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const e=Qe(this._value,this.format.decimals),r=Qe(t._value,t.format.decimals);return Ye.fromValue(e.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=Ye.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return this.isNegative()&&r&&(e=e.subUnsafe(Je.toFormat(e.format))),e}ceiling(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=Ye.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return!this.isNegative()&&r&&(e=e.addUnsafe(Je.toFormat(e.format))),e}round(t){null==t&&(t=0);const e=this.toString().split(".");if(1===e.length&&e.push("0"),(t<0||t>80||t%1)&&De.throwArgumentError("invalid decimal count","decimals",t),e[1].length<=t)return this;const r=Ye.from("1"+ze.substring(0,t),this.format),i=We.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(i).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(t){if(null==t)return this._hex;t%8&&De.throwArgumentError("invalid byte width","width",t);return Ee(Pe.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString(),t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Ye.fromString(this._value,t)}static fromValue(t,e,r){return null==r&&null!=e&&!function(t){return null!=t&&(Pe.isBigNumber(t)||"number"==typeof t&&t%1===0||"string"==typeof t&&!!t.match(/^-?[0-9]+$/)||we(t)||"bigint"==typeof t||ve(t))}(e)&&(r=e,e=null),null==e&&(e=0),null==r&&(r="fixed"),Ye.fromString(Ke(t,e),Ge.from(r))}static fromString(t,e){null==e&&(e="fixed");const r=Ge.from(e),i=Qe(t,r.decimals);!r.signed&&i.lt(Le)&&je("unsigned value cannot be negative","overflow","value",t);let n=null;r.signed?n=i.toTwos(r.width).toHexString():(n=i.toHexString(),n=Ee(n,r.width/8));const s=Ke(i,r.decimals);return new Ye(Fe,n,s,r)}static fromBytes(t,e){null==e&&(e="fixed");const r=Ge.from(e);if(ye(t).length>r.width/8)throw new Error("overflow");let i=Pe.from(t);r.signed&&(i=i.fromTwos(r.width));const n=i.toTwos((r.signed?0:1)+r.width).toHexString(),s=Ke(i,r.decimals);return new Ye(Fe,n,s,r)}static from(t,e){if("string"==typeof t)return Ye.fromString(t,e);if(ve(t))return Ye.fromBytes(t,e);try{return Ye.fromValue(t,0,e)}catch(io){if(io.code!==le.errors.INVALID_ARGUMENT)throw io}return De.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!(!t||!t._isFixedNumber)}}const Je=Ye.from(1),We=Ye.from("0.5"),Ve=new le("strings/5.7.0");var Xe,Ze;function $e(t,e,r,i,n){if(t===Ze.BAD_PREFIX||t===Ze.UNEXPECTED_CONTINUE){let t=0;for(let i=e+1;i<r.length&&r[i]>>6===2;i++)t++;return t}return t===Ze.OVERRUN?r.length-e-1:0}function tr(t,e){e||(e=function(t){return[parseInt(t,16)]});let r=0,i={};return t.split(",").forEach((t=>{let n=t.split(":");r+=parseInt(n[0],16),i[r]=e(n[1])})),i}function er(t){let e=0;return t.split(",").map((t=>{let r=t.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let i=e+parseInt(r[0],16);return e=parseInt(r[1],16),{l:i,h:e}}))}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(Xe||(Xe={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(Ze||(Ze={})),Object.freeze({error:function(t,e,r,i,n){return Ve.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:$e,replace:function(t,e,r,i,n){return t===Ze.OVERLONG?(i.push(n),0):(i.push(65533),$e(t,e,r))}}),er("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((t=>parseInt(t,16))),tr("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),tr("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),tr("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(t){if(t.length%4!==0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e})),er("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");const rr="hash/5.7.0";function ir(t,e){null==e&&(e=1);const r=[],i=r.forEach,n=function(t,e){i.call(t,(function(t){e>0&&Array.isArray(t)?n(t,e-1):r.push(t)}))};return n(t,e),r}function nr(t){return function(t){let e=0;return()=>t[e++]}(function(t){let e=0;function r(){return t[e++]<<8|t[e++]}let i=r(),n=1,s=[0,1];for(let b=1;b<i;b++)s.push(n+=r());let o=r(),a=e;e+=o;let h=0,u=0;function f(){return 0==h&&(u=u<<8|t[e++],h=8),u>>--h&1}const c=Math.pow(2,31),l=c>>>1,d=l>>1,p=c-1;let g=0;for(let b=0;b<31;b++)g=g<<1|f();let m=[],v=0,y=c;for(;;){let t=Math.floor(((g-v+1)*n-1)/y),e=0,r=i;for(;r-e>1;){let i=e+r>>>1;t<s[i]?r=i:e=i}if(0==e)break;m.push(e);let o=v+Math.floor(y*s[e]/n),a=v+Math.floor(y*s[e+1]/n)-1;for(;!((o^a)&l);)g=g<<1&p|f(),o=o<<1&p,a=a<<1&p|1;for(;o&~a&d;)g=g&l|g<<1&p>>>1|f(),o=o<<1^l,a=(a^l)<<1|l|1;v=o,y=1+a-o}let w=i-4;return m.map((e=>{switch(e-w){case 3:return w+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return w+256+(t[a++]<<8|t[a++]);case 1:return w+t[a++];default:return e-1}}))}(t))}function sr(t){return 1&t?~t>>1:t>>1}function or(t,e){let r=Array(t);for(let i=0,n=-1;i<t;i++)r[i]=n+=1+e();return r}function ar(t,e){let r=Array(t);for(let i=0,n=0;i<t;i++)r[i]=n+=sr(e());return r}function hr(t,e){let r=or(t(),t),i=t(),n=or(i,t),s=function(t,e){let r=Array(t);for(let i=0;i<t;i++)r[i]=1+e();return r}(i,t);for(let o=0;o<i;o++)for(let t=0;t<s[o];t++)r.push(n[o]+t);return e?r.map((t=>e[t])):r}function ur(t,e,r){let i=Array(t).fill(void 0).map((()=>[]));for(let n=0;n<e;n++)ar(t,r).forEach(((t,e)=>i[e].push(t)));return i}function fr(t,e){let r=1+e(),i=e(),n=function(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(r)}return e}(e);return ir(ur(n.length,1+t,e).map(((t,e)=>{const s=t[0],o=t.slice(1);return Array(n[e]).fill(void 0).map(((t,e)=>{let n=e*i;return[s+e*r,o.map((t=>t+n))]}))})))}function cr(t,e){return ur(1+e(),1+t,e).map((t=>[t[0],t.slice(1)]))}const lr=nr(function(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return ye(e)}("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"));new Set(hr(lr)),new Set(hr(lr)),function(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(fr(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(cr(r,t))}(function(t){const e={};for(let r=0;r<t.length;r++){const i=t[r];e[i[0]]=i[1]}})(ir(e))}(lr),function(t){let e=hr(t).sort(((t,e)=>t-e));(function r(){let i=[];for(;;){let n=hr(t,e);if(0==n.length)break;i.push({set:new Set(n),node:r()})}i.sort(((t,e)=>e.set.size-t.set.size));let n=t(),s=n%3;n=n/3|0;let o=!!(1&n);n>>=1;let a=1==n,h=2==n;return{branches:i,valid:s,fe0f:o,save:a,check:h}})()}(lr),new le(rr);new Uint8Array(32).fill(0);new le("rlp/5.7.0");new le("address/5.7.0");const dr={};for(let dx=0;dx<10;dx++)dr[String(dx)]=String(dx);for(let dx=0;dx<26;dx++)dr[String.fromCharCode(65+dx)]=String(10+dx);Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));new le("properties/5.7.0"),new le(rr);new Uint8Array(32).fill(0),Pe.from(-1);const pr=Pe.from(0),gr=Pe.from(1);Pe.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ee(gr.toHexString(),32),Ee(pr.toHexString(),32);var mr={},vr={},yr=wr;function wr(t,e){if(!t)throw new Error(e||"Assertion failed")}wr.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var br={exports:{}};"function"==typeof Object.create?br.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:br.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}};var Ar=yr,Er=br.exports;function Mr(t,e){return!(55296!==(64512&t.charCodeAt(e))||e<0||e+1>=t.length)&&56320===(64512&t.charCodeAt(e+1))}function _r(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function Sr(t){return 1===t.length?"0"+t:t}function Ir(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}vr.inherits=Er,vr.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var i=0,n=0;n<t.length;n++){var s=t.charCodeAt(n);s<128?r[i++]=s:s<2048?(r[i++]=s>>6|192,r[i++]=63&s|128):Mr(t,n)?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++n)),r[i++]=s>>18|240,r[i++]=s>>12&63|128,r[i++]=s>>6&63|128,r[i++]=63&s|128):(r[i++]=s>>12|224,r[i++]=s>>6&63|128,r[i++]=63&s|128)}else for(n=0;n<t.length;n++)r[n]=0|t[n];return r},vr.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=Sr(t[r].toString(16));return e},vr.htonl=_r,vr.toHex32=function(t,e){for(var r="",i=0;i<t.length;i++){var n=t[i];"little"===e&&(n=_r(n)),r+=Ir(n.toString(16))}return r},vr.zero2=Sr,vr.zero8=Ir,vr.join32=function(t,e,r,i){var n=r-e;Ar(n%4===0);for(var s=new Array(n/4),o=0,a=e;o<s.length;o++,a+=4){var h;h="big"===i?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=h>>>0}return s},vr.split32=function(t,e){for(var r=new Array(4*t.length),i=0,n=0;i<t.length;i++,n+=4){var s=t[i];"big"===e?(r[n]=s>>>24,r[n+1]=s>>>16&255,r[n+2]=s>>>8&255,r[n+3]=255&s):(r[n+3]=s>>>24,r[n+2]=s>>>16&255,r[n+1]=s>>>8&255,r[n]=255&s)}return r},vr.rotr32=function(t,e){return t>>>e|t<<32-e},vr.rotl32=function(t,e){return t<<e|t>>>32-e},vr.sum32=function(t,e){return t+e>>>0},vr.sum32_3=function(t,e,r){return t+e+r>>>0},vr.sum32_4=function(t,e,r,i){return t+e+r+i>>>0},vr.sum32_5=function(t,e,r,i,n){return t+e+r+i+n>>>0},vr.sum64=function(t,e,r,i){var n=t[e],s=i+t[e+1]>>>0,o=(s<i?1:0)+r+n;t[e]=o>>>0,t[e+1]=s},vr.sum64_hi=function(t,e,r,i){return(e+i>>>0<e?1:0)+t+r>>>0},vr.sum64_lo=function(t,e,r,i){return e+i>>>0},vr.sum64_4_hi=function(t,e,r,i,n,s,o,a){var h=0,u=e;return h+=(u=u+i>>>0)<e?1:0,h+=(u=u+s>>>0)<s?1:0,t+r+n+o+(h+=(u=u+a>>>0)<a?1:0)>>>0},vr.sum64_4_lo=function(t,e,r,i,n,s,o,a){return e+i+s+a>>>0},vr.sum64_5_hi=function(t,e,r,i,n,s,o,a,h,u){var f=0,c=e;return f+=(c=c+i>>>0)<e?1:0,f+=(c=c+s>>>0)<s?1:0,f+=(c=c+a>>>0)<a?1:0,t+r+n+o+h+(f+=(c=c+u>>>0)<u?1:0)>>>0},vr.sum64_5_lo=function(t,e,r,i,n,s,o,a,h,u){return e+i+s+a+u>>>0},vr.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},vr.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},vr.shr64_hi=function(t,e,r){return t>>>r},vr.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0};var Nr={},xr=vr,Cr=yr;function Or(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Nr.BlockHash=Or,Or.prototype.update=function(t,e){if(t=xr.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=xr.join32(t,0,t.length-r,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},Or.prototype.digest=function(t){return this.update(this._pad()),Cr(null===this.pending),this._digest(t)},Or.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(t<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=t>>>24&255,i[n++]=t>>>16&255,i[n++]=t>>>8&255,i[n++]=255&t}else for(i[n++]=255&t,i[n++]=t>>>8&255,i[n++]=t>>>16&255,i[n++]=t>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,s=8;s<this.padLength;s++)i[n++]=0;return i};var Br={},Pr={},Rr=vr.rotr32;function Tr(t,e,r){return t&e^~t&r}function kr(t,e,r){return t&e^t&r^e&r}function Ur(t,e,r){return t^e^r}Pr.ft_1=function(t,e,r,i){return 0===t?Tr(e,r,i):1===t||3===t?Ur(e,r,i):2===t?kr(e,r,i):void 0},Pr.ch32=Tr,Pr.maj32=kr,Pr.p32=Ur,Pr.s0_256=function(t){return Rr(t,2)^Rr(t,13)^Rr(t,22)},Pr.s1_256=function(t){return Rr(t,6)^Rr(t,11)^Rr(t,25)},Pr.g0_256=function(t){return Rr(t,7)^Rr(t,18)^t>>>3},Pr.g1_256=function(t){return Rr(t,17)^Rr(t,19)^t>>>10};var Dr=vr,Fr=Nr,Lr=Pr,qr=Dr.rotl32,jr=Dr.sum32,zr=Dr.sum32_5,Hr=Lr.ft_1,Kr=Fr.BlockHash,Qr=[1518500249,1859775393,2400959708,3395469782];function Gr(){if(!(this instanceof Gr))return new Gr;Kr.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Dr.inherits(Gr,Kr);var Yr=Gr;Gr.blockSize=512,Gr.outSize=160,Gr.hmacStrength=80,Gr.padLength=64,Gr.prototype._update=function(t,e){for(var r=this.W,i=0;i<16;i++)r[i]=t[e+i];for(;i<r.length;i++)r[i]=qr(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],h=this.h[4];for(i=0;i<r.length;i++){var u=~~(i/20),f=zr(qr(n,5),Hr(u,s,o,a),h,r[i],Qr[u]);h=a,a=o,o=qr(s,30),s=n,n=f}this.h[0]=jr(this.h[0],n),this.h[1]=jr(this.h[1],s),this.h[2]=jr(this.h[2],o),this.h[3]=jr(this.h[3],a),this.h[4]=jr(this.h[4],h)},Gr.prototype._digest=function(t){return"hex"===t?Dr.toHex32(this.h,"big"):Dr.split32(this.h,"big")};var Jr=vr,Wr=Nr,Vr=Pr,Xr=yr,Zr=Jr.sum32,$r=Jr.sum32_4,ti=Jr.sum32_5,ei=Vr.ch32,ri=Vr.maj32,ii=Vr.s0_256,ni=Vr.s1_256,si=Vr.g0_256,oi=Vr.g1_256,ai=Wr.BlockHash,hi=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ui(){if(!(this instanceof ui))return new ui;ai.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=hi,this.W=new Array(64)}Jr.inherits(ui,ai);var fi=ui;ui.blockSize=512,ui.outSize=256,ui.hmacStrength=192,ui.padLength=64,ui.prototype._update=function(t,e){for(var r=this.W,i=0;i<16;i++)r[i]=t[e+i];for(;i<r.length;i++)r[i]=$r(oi(r[i-2]),r[i-7],si(r[i-15]),r[i-16]);var n=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],h=this.h[4],u=this.h[5],f=this.h[6],c=this.h[7];for(Xr(this.k.length===r.length),i=0;i<r.length;i++){var l=ti(c,ni(h),ei(h,u,f),this.k[i],r[i]),d=Zr(ii(n),ri(n,s,o));c=f,f=u,u=h,h=Zr(a,l),a=o,o=s,s=n,n=Zr(l,d)}this.h[0]=Zr(this.h[0],n),this.h[1]=Zr(this.h[1],s),this.h[2]=Zr(this.h[2],o),this.h[3]=Zr(this.h[3],a),this.h[4]=Zr(this.h[4],h),this.h[5]=Zr(this.h[5],u),this.h[6]=Zr(this.h[6],f),this.h[7]=Zr(this.h[7],c)},ui.prototype._digest=function(t){return"hex"===t?Jr.toHex32(this.h,"big"):Jr.split32(this.h,"big")};var ci=vr,li=fi;function di(){if(!(this instanceof di))return new di;li.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}ci.inherits(di,li);var pi=di;di.blockSize=512,di.outSize=224,di.hmacStrength=192,di.padLength=64,di.prototype._digest=function(t){return"hex"===t?ci.toHex32(this.h.slice(0,7),"big"):ci.split32(this.h.slice(0,7),"big")};var gi=vr,mi=Nr,vi=yr,yi=gi.rotr64_hi,wi=gi.rotr64_lo,bi=gi.shr64_hi,Ai=gi.shr64_lo,Ei=gi.sum64,Mi=gi.sum64_hi,_i=gi.sum64_lo,Si=gi.sum64_4_hi,Ii=gi.sum64_4_lo,Ni=gi.sum64_5_hi,xi=gi.sum64_5_lo,Ci=mi.BlockHash,Oi=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Bi(){if(!(this instanceof Bi))return new Bi;Ci.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Oi,this.W=new Array(160)}gi.inherits(Bi,Ci);var Pi=Bi;function Ri(t,e,r,i,n){var s=t&r^~t&n;return s<0&&(s+=4294967296),s}function Ti(t,e,r,i,n,s){var o=e&i^~e&s;return o<0&&(o+=4294967296),o}function ki(t,e,r,i,n){var s=t&r^t&n^r&n;return s<0&&(s+=4294967296),s}function Ui(t,e,r,i,n,s){var o=e&i^e&s^i&s;return o<0&&(o+=4294967296),o}function Di(t,e){var r=yi(t,e,28)^yi(e,t,2)^yi(e,t,7);return r<0&&(r+=4294967296),r}function Fi(t,e){var r=wi(t,e,28)^wi(e,t,2)^wi(e,t,7);return r<0&&(r+=4294967296),r}function Li(t,e){var r=yi(t,e,14)^yi(t,e,18)^yi(e,t,9);return r<0&&(r+=4294967296),r}function qi(t,e){var r=wi(t,e,14)^wi(t,e,18)^wi(e,t,9);return r<0&&(r+=4294967296),r}function ji(t,e){var r=yi(t,e,1)^yi(t,e,8)^bi(t,e,7);return r<0&&(r+=4294967296),r}function zi(t,e){var r=wi(t,e,1)^wi(t,e,8)^Ai(t,e,7);return r<0&&(r+=4294967296),r}function Hi(t,e){var r=yi(t,e,19)^yi(e,t,29)^bi(t,e,6);return r<0&&(r+=4294967296),r}function Ki(t,e){var r=wi(t,e,19)^wi(e,t,29)^Ai(t,e,6);return r<0&&(r+=4294967296),r}Bi.blockSize=1024,Bi.outSize=512,Bi.hmacStrength=192,Bi.padLength=128,Bi.prototype._prepareBlock=function(t,e){for(var r=this.W,i=0;i<32;i++)r[i]=t[e+i];for(;i<r.length;i+=2){var n=Hi(r[i-4],r[i-3]),s=Ki(r[i-4],r[i-3]),o=r[i-14],a=r[i-13],h=ji(r[i-30],r[i-29]),u=zi(r[i-30],r[i-29]),f=r[i-32],c=r[i-31];r[i]=Si(n,s,o,a,h,u,f,c),r[i+1]=Ii(n,s,o,a,h,u,f,c)}},Bi.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,i=this.h[0],n=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],h=this.h[5],u=this.h[6],f=this.h[7],c=this.h[8],l=this.h[9],d=this.h[10],p=this.h[11],g=this.h[12],m=this.h[13],v=this.h[14],y=this.h[15];vi(this.k.length===r.length);for(var w=0;w<r.length;w+=2){var b=v,A=y,E=Li(c,l),M=qi(c,l),_=Ri(c,l,d,p,g),S=Ti(c,l,d,p,g,m),I=this.k[w],N=this.k[w+1],x=r[w],C=r[w+1],O=Ni(b,A,E,M,_,S,I,N,x,C),B=xi(b,A,E,M,_,S,I,N,x,C);b=Di(i,n),A=Fi(i,n),E=ki(i,n,s,o,a),M=Ui(i,n,s,o,a,h);var P=Mi(b,A,E,M),R=_i(b,A,E,M);v=g,y=m,g=d,m=p,d=c,p=l,c=Mi(u,f,O,B),l=_i(f,f,O,B),u=a,f=h,a=s,h=o,s=i,o=n,i=Mi(O,B,P,R),n=_i(O,B,P,R)}Ei(this.h,0,i,n),Ei(this.h,2,s,o),Ei(this.h,4,a,h),Ei(this.h,6,u,f),Ei(this.h,8,c,l),Ei(this.h,10,d,p),Ei(this.h,12,g,m),Ei(this.h,14,v,y)},Bi.prototype._digest=function(t){return"hex"===t?gi.toHex32(this.h,"big"):gi.split32(this.h,"big")};var Qi=vr,Gi=Pi;function Yi(){if(!(this instanceof Yi))return new Yi;Gi.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Qi.inherits(Yi,Gi);var Ji=Yi;Yi.blockSize=1024,Yi.outSize=384,Yi.hmacStrength=192,Yi.padLength=128,Yi.prototype._digest=function(t){return"hex"===t?Qi.toHex32(this.h.slice(0,12),"big"):Qi.split32(this.h.slice(0,12),"big")},Br.sha1=Yr,Br.sha224=pi,Br.sha256=fi,Br.sha384=Ji,Br.sha512=Pi;var Wi={},Vi=vr,Xi=Nr,Zi=Vi.rotl32,$i=Vi.sum32,tn=Vi.sum32_3,en=Vi.sum32_4,rn=Xi.BlockHash;function nn(){if(!(this instanceof nn))return new nn;rn.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function sn(t,e,r,i){return t<=15?e^r^i:t<=31?e&r|~e&i:t<=47?(e|~r)^i:t<=63?e&i|r&~i:e^(r|~i)}function on(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function an(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}Vi.inherits(nn,rn),Wi.ripemd160=nn,nn.blockSize=512,nn.outSize=160,nn.hmacStrength=192,nn.padLength=64,nn.prototype._update=function(t,e){for(var r=this.h[0],i=this.h[1],n=this.h[2],s=this.h[3],o=this.h[4],a=r,h=i,u=n,f=s,c=o,l=0;l<80;l++){var d=$i(Zi(en(r,sn(l,i,n,s),t[hn[l]+e],on(l)),fn[l]),o);r=o,o=s,s=Zi(n,10),n=i,i=d,d=$i(Zi(en(a,sn(79-l,h,u,f),t[un[l]+e],an(l)),cn[l]),c),a=c,c=f,f=Zi(u,10),u=h,h=d}d=tn(this.h[1],n,f),this.h[1]=tn(this.h[2],s,c),this.h[2]=tn(this.h[3],o,a),this.h[3]=tn(this.h[4],r,h),this.h[4]=tn(this.h[0],i,u),this.h[0]=d},nn.prototype._digest=function(t){return"hex"===t?Vi.toHex32(this.h,"little"):Vi.split32(this.h,"little")};var hn=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],un=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],fn=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],cn=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],ln=vr,dn=yr;function pn(t,e,r){if(!(this instanceof pn))return new pn(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(ln.toArray(e,r))}var gn=pn;function mn(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(e??r.path)}},t(r,r.exports),r.exports}pn.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),dn(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},pn.prototype.update=function(t,e){return this.inner.update(t,e),this},pn.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},function(t){var e=t;e.utils=vr,e.common=Nr,e.sha=Br,e.ripemd=Wi,e.hmac=gn,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(mr);var vn=yn;function yn(t,e){if(!t)throw new Error(e||"Assertion failed")}yn.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var wn=mn((function(t,e){var r=e;function i(t){return 1===t.length?"0"+t:t}function n(t){for(var e="",r=0;r<t.length;r++)e+=i(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var i=0;i<t.length;i++)r[i]=0|t[i];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(t="0"+t);for(i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(i=0;i<t.length;i++){var n=t.charCodeAt(i),s=n>>8,o=255&n;s?r.push(s,o):r.push(o)}return r},r.zero2=i,r.toHex=n,r.encode=function(t,e){return"hex"===e?n(t):t}})),bn=mn((function(t,e){var r=e;r.assert=vn,r.toArray=wn.toArray,r.zero2=wn.zero2,r.toHex=wn.toHex,r.encode=wn.encode,r.getNAF=function(t,e,r){var i=new Array(Math.max(t.bitLength(),r)+1);i.fill(0);for(var n=1<<e+1,s=t.clone(),o=0;o<i.length;o++){var a,h=s.andln(n-1);s.isOdd()?(a=h>(n>>1)-1?(n>>1)-h:h,s.isubn(a)):a=0,i[o]=a,s.iushrn(1)}return i},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var i,n=0,s=0;t.cmpn(-n)>0||e.cmpn(-s)>0;){var o,a,h=t.andln(3)+n&3,u=e.andln(3)+s&3;3===h&&(h=-1),3===u&&(u=-1),1&h?o=3!==(i=t.andln(7)+n&7)&&5!==i||2!==u?h:-h:o=0,r[0].push(o),1&u?a=3!==(i=e.andln(7)+s&7)&&5!==i||2!==h?u:-u:a=0,r[1].push(a),2*n===o+1&&(n=1-n),2*s===a+1&&(s=1-s),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var i="_"+e;t.prototype[e]=function(){return void 0!==this[i]?this[i]:this[i]=r.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new Se(t,"hex","le")}})),An=bn.getNAF,En=bn.getJSF,Mn=bn.assert;function _n(t,e){this.type=t,this.p=new Se(e.p,16),this.red=e.prime?Se.red(e.prime):Se.mont(this.p),this.zero=new Se(0).toRed(this.red),this.one=new Se(1).toRed(this.red),this.two=new Se(2).toRed(this.red),this.n=e.n&&new Se(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Sn=_n;function In(t,e){this.curve=t,this.type=e,this.precomputed=null}_n.prototype.point=function(){throw new Error("Not implemented")},_n.prototype.validate=function(){throw new Error("Not implemented")},_n.prototype._fixedNafMul=function(t,e){Mn(t.precomputed);var r=t._getDoubles(),i=An(e,1,this._bitLength),n=(1<<r.step+1)-(r.step%2===0?2:1);n/=3;var s,o,a=[];for(s=0;s<i.length;s+=r.step){o=0;for(var h=s+r.step-1;h>=s;h--)o=(o<<1)+i[h];a.push(o)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),c=n;c>0;c--){for(s=0;s<a.length;s++)(o=a[s])===c?f=f.mixedAdd(r.points[s]):o===-c&&(f=f.mixedAdd(r.points[s].neg()));u=u.add(f)}return u.toP()},_n.prototype._wnafMul=function(t,e){var r=4,i=t._getNAFPoints(r);r=i.wnd;for(var n=i.points,s=An(e,r,this._bitLength),o=this.jpoint(null,null,null),a=s.length-1;a>=0;a--){for(var h=0;a>=0&&0===s[a];a--)h++;if(a>=0&&h++,o=o.dblp(h),a<0)break;var u=s[a];Mn(0!==u),o="affine"===t.type?u>0?o.mixedAdd(n[u-1>>1]):o.mixedAdd(n[-u-1>>1].neg()):u>0?o.add(n[u-1>>1]):o.add(n[-u-1>>1].neg())}return"affine"===t.type?o.toP():o},_n.prototype._wnafMulAdd=function(t,e,r,i,n){var s,o,a,h=this._wnafT1,u=this._wnafT2,f=this._wnafT3,c=0;for(s=0;s<i;s++){var l=(a=e[s])._getNAFPoints(t);h[s]=l.wnd,u[s]=l.points}for(s=i-1;s>=1;s-=2){var d=s-1,p=s;if(1===h[d]&&1===h[p]){var g=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(g[1]=e[d].add(e[p]),g[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(g[1]=e[d].toJ().mixedAdd(e[p]),g[2]=e[d].add(e[p].neg())):(g[1]=e[d].toJ().mixedAdd(e[p]),g[2]=e[d].toJ().mixedAdd(e[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],v=En(r[d],r[p]);for(c=Math.max(v[0].length,c),f[d]=new Array(c),f[p]=new Array(c),o=0;o<c;o++){var y=0|v[0][o],w=0|v[1][o];f[d][o]=m[3*(y+1)+(w+1)],f[p][o]=0,u[d]=g}}else f[d]=An(r[d],h[d],this._bitLength),f[p]=An(r[p],h[p],this._bitLength),c=Math.max(f[d].length,c),c=Math.max(f[p].length,c)}var b=this.jpoint(null,null,null),A=this._wnafT4;for(s=c;s>=0;s--){for(var E=0;s>=0;){var M=!0;for(o=0;o<i;o++)A[o]=0|f[o][s],0!==A[o]&&(M=!1);if(!M)break;E++,s--}if(s>=0&&E++,b=b.dblp(E),s<0)break;for(o=0;o<i;o++){var _=A[o];0!==_&&(_>0?a=u[o][_-1>>1]:_<0&&(a=u[o][-_-1>>1].neg()),b="affine"===a.type?b.mixedAdd(a):b.add(a))}}for(s=0;s<i;s++)u[s]=null;return n?b:b.toP()},_n.BasePoint=In,In.prototype.eq=function(){throw new Error("Not implemented")},In.prototype.validate=function(){return this.curve.validate(this)},_n.prototype.decodePoint=function(t,e){t=bn.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1===2*r)return 6===t[0]?Mn(t[t.length-1]%2===0):7===t[0]&&Mn(t[t.length-1]%2===1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},In.prototype.encodeCompressed=function(t){return this.encode(t,!0)},In.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},In.prototype.encode=function(t,e){return bn.encode(this._encode(e),t)},In.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},In.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},In.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<e;n+=t){for(var s=0;s<t;s++)i=i.dbl();r.push(i)}return{step:t,points:r}},In.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,i=1===r?null:this.dbl(),n=1;n<r;n++)e[n]=e[n-1].add(i);return{wnd:t,points:e}},In.prototype._getBeta=function(){return null},In.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var Nn=mn((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),xn=bn.assert;function Cn(t){Sn.call(this,"short",t),this.a=new Se(t.a,16).toRed(this.red),this.b=new Se(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Nn(Cn,Sn);var On=Cn;function Bn(t,e,r,i){Sn.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new Se(e,16),this.y=new Se(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Pn(t,e,r,i){Sn.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Se(0)):(this.x=new Se(e,16),this.y=new Se(r,16),this.z=new Se(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Cn.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r,i;if(t.beta)e=new Se(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new Se(t.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(e))?r=s[0]:(r=s[1],xn(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return i=t.basis?t.basis.map((function(t){return{a:new Se(t.a,16),b:new Se(t.b,16)}})):this._getEndoBasis(r),{beta:e,lambda:r,basis:i}}},Cn.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:Se.mont(t),r=new Se(2).toRed(e).redInvm(),i=r.redNeg(),n=new Se(3).toRed(e).redNeg().redSqrt().redMul(r);return[i.redAdd(n).fromRed(),i.redSub(n).fromRed()]},Cn.prototype._getEndoBasis=function(t){for(var e,r,i,n,s,o,a,h,u,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),c=t,l=this.n.clone(),d=new Se(1),p=new Se(0),g=new Se(0),m=new Se(1),v=0;0!==c.cmpn(0);){var y=l.div(c);h=l.sub(y.mul(c)),u=g.sub(y.mul(d));var w=m.sub(y.mul(p));if(!i&&h.cmp(f)<0)e=a.neg(),r=d,i=h.neg(),n=u;else if(i&&2===++v)break;a=h,l=c,c=h,g=d,d=u,m=p,p=w}s=h.neg(),o=u;var b=i.sqr().add(n.sqr());return s.sqr().add(o.sqr()).cmp(b)>=0&&(s=e,o=r),i.negative&&(i=i.neg(),n=n.neg()),s.negative&&(s=s.neg(),o=o.neg()),[{a:i,b:n},{a:s,b:o}]},Cn.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],i=e[1],n=i.b.mul(t).divRound(this.n),s=r.b.neg().mul(t).divRound(this.n),o=n.mul(r.a),a=s.mul(i.a),h=n.mul(r.b),u=s.mul(i.b);return{k1:t.sub(o).sub(a),k2:h.add(u).neg()}},Cn.prototype.pointFromX=function(t,e){(t=new Se(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(0!==i.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var n=i.fromRed().isOdd();return(e&&!n||!e&&n)&&(i=i.redNeg()),this.point(t,i)},Cn.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,i=this.a.redMul(e),n=e.redSqr().redMul(e).redIAdd(i).redIAdd(this.b);return 0===r.redSqr().redISub(n).cmpn(0)},Cn.prototype._endoWnafMulAdd=function(t,e,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(e[s]),a=t[s],h=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),h=h.neg(!0)),i[2*s]=a,i[2*s+1]=h,n[2*s]=o.k1,n[2*s+1]=o.k2}for(var u=this._wnafMulAdd(1,i,n,2*s,r),f=0;f<2*s;f++)i[f]=null,n[f]=null;return u},Nn(Bn,Sn.BasePoint),Cn.prototype.point=function(t,e,r){return new Bn(this,t,e,r)},Cn.prototype.pointFromJSON=function(t,e){return Bn.fromJSON(this,t,e)},Bn.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,i=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return e}},Bn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Bn.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var i=t.point(e[0],e[1],r);if(!e[2])return i;function n(e){return t.point(e[0],e[1],r)}var s=e[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(n))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(n))}},i},Bn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Bn.prototype.isInfinity=function(){return this.inf},Bn.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),i=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},Bn.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),i=t.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(i),s=n.redSqr().redISub(this.x.redAdd(this.x)),o=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},Bn.prototype.getX=function(){return this.x.fromRed()},Bn.prototype.getY=function(){return this.y.fromRed()},Bn.prototype.mul=function(t){return t=new Se(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},Bn.prototype.mulAdd=function(t,e,r){var i=[this,e],n=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},Bn.prototype.jmulAdd=function(t,e,r){var i=[this,e],n=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},Bn.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},Bn.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,i=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return e},Bn.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Nn(Pn,Sn.BasePoint),Cn.prototype.jpoint=function(t,e,r){return new Pn(this,t,e,r)},Pn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),i=this.y.redMul(e).redMul(t);return this.curve.point(r,i)},Pn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Pn.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(e),n=t.x.redMul(r),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(r.redMul(this.z)),a=i.redSub(n),h=s.redSub(o);if(0===a.cmpn(0))return 0!==h.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),f=u.redMul(a),c=i.redMul(u),l=h.redSqr().redIAdd(f).redISub(c).redISub(c),d=h.redMul(c.redISub(l)).redISub(s.redMul(f)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(l,d,p)},Pn.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,i=t.x.redMul(e),n=this.y,s=t.y.redMul(e).redMul(this.z),o=r.redSub(i),a=n.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=o.redSqr(),u=h.redMul(o),f=r.redMul(h),c=a.redSqr().redIAdd(u).redISub(f).redISub(f),l=a.redMul(f.redISub(c)).redISub(n.redMul(u)),d=this.z.redMul(o);return this.curve.jpoint(c,l,d)},Pn.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,s=this.x,o=this.y,a=this.z,h=a.redSqr().redSqr(),u=o.redAdd(o);for(e=0;e<t;e++){var f=s.redSqr(),c=u.redSqr(),l=c.redSqr(),d=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(h)),p=s.redMul(c),g=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),v=d.redMul(m);v=v.redIAdd(v).redISub(l);var y=u.redMul(a);e+1<t&&(h=h.redMul(l)),s=g,a=y,u=v}return this.curve.jpoint(s,u.redMul(n),a)},Pn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Pn.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i),h=a.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),t=h,e=a.redMul(o.redISub(h)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),c=this.y.redSqr(),l=c.redSqr(),d=this.x.redAdd(c).redSqr().redISub(f).redISub(l);d=d.redIAdd(d);var p=f.redAdd(f).redIAdd(f),g=p.redSqr(),m=l.redIAdd(l);m=(m=m.redIAdd(m)).redIAdd(m),t=g.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},Pn.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),h=a.redSqr().redISub(o).redISub(o);t=h;var u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),e=a.redMul(o.redISub(h)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),c=this.y.redSqr(),l=this.x.redMul(c),d=this.x.redSub(f).redMul(this.x.redAdd(f));d=d.redAdd(d).redIAdd(d);var p=l.redIAdd(l),g=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(c).redISub(f);var m=c.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),e=d.redMul(p.redISub(t)).redISub(m)}return this.curve.jpoint(t,e,r)},Pn.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),s=e.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(n)),h=e.redAdd(e),u=(h=h.redIAdd(h)).redMul(o),f=a.redSqr().redISub(u.redAdd(u)),c=u.redISub(f),l=o.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=a.redMul(c).redISub(l),p=r.redAdd(r).redMul(i);return this.curve.jpoint(f,d,p)},Pn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),i=e.redSqr(),n=t.redAdd(t).redIAdd(t),s=n.redSqr(),o=this.x.redAdd(e).redSqr().redISub(t).redISub(i),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),h=i.redIAdd(i);h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var u=n.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(h),f=e.redMul(u);f=(f=f.redIAdd(f)).redIAdd(f);var c=this.x.redMul(a).redISub(f);c=(c=c.redIAdd(c)).redIAdd(c);var l=this.y.redMul(u.redMul(h.redISub(u)).redISub(o.redMul(a)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(c,l,d)},Pn.prototype.mul=function(t,e){return t=new Se(t,e),this.curve._wnafMul(this,t)},Pn.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var i=e.redMul(this.z),n=r.redMul(t.z);return 0===this.y.redMul(n).redISub(t.y.redMul(i)).cmpn(0)},Pn.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var i=t.clone(),n=this.curve.redN.redMul(e);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),0===this.x.cmp(r))return!0}},Pn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Pn.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Rn=mn((function(t,e){var r=e;r.base=Sn,r.short=On,r.mont=null,r.edwards=null})),Tn=mn((function(t,e){var r,i=e,n=bn.assert;function s(t){"short"===t.type?this.curve=new Rn.short(t):"edwards"===t.type?this.curve=new Rn.edwards(t):this.curve=new Rn.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var r=new s(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=s,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:mr.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:mr.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:mr.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:mr.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:mr.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:mr.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:mr.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch{r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:mr.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function kn(t){if(!(this instanceof kn))return new kn(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=wn.toArray(t.entropy,t.entropyEnc||"hex"),r=wn.toArray(t.nonce,t.nonceEnc||"hex"),i=wn.toArray(t.pers,t.persEnc||"hex");vn(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,i)}var Un=kn;kn.prototype._init=function(t,e,r){var i=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},kn.prototype._hmac=function(){return new mr.hmac(this.hash,this.K)},kn.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},kn.prototype.reseed=function(t,e,r,i){"string"!=typeof e&&(i=r,r=e,e=null),t=wn.toArray(t,e),r=wn.toArray(r,i),vn(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},kn.prototype.generate=function(t,e,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(i=r,r=e,e=null),r&&(r=wn.toArray(r,i||"hex"),this._update(r));for(var n=[];n.length<t;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var s=n.slice(0,t);return this._update(r),this._reseed++,wn.encode(s,e)};var Dn=bn.assert;function Fn(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Ln=Fn;Fn.fromPublic=function(t,e,r){return e instanceof Fn?e:new Fn(t,{pub:e,pubEnc:r})},Fn.fromPrivate=function(t,e,r){return e instanceof Fn?e:new Fn(t,{priv:e,privEnc:r})},Fn.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Fn.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},Fn.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},Fn.prototype._importPrivate=function(t,e){this.priv=new Se(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},Fn.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?Dn(t.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&Dn(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},Fn.prototype.derive=function(t){return t.validate()||Dn(t.validate(),"public point not validated"),t.mul(this.priv).getX()},Fn.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},Fn.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},Fn.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var qn=bn.assert;function jn(t,e){if(t instanceof jn)return t;this._importDER(t,e)||(qn(t.r&&t.s,"Signature without r or s"),this.r=new Se(t.r,16),this.s=new Se(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var zn=jn;function Hn(){this.place=0}function Kn(t,e){var r=t[e.place++];if(!(128&r))return r;var i=15&r;if(0===i||i>4)return!1;for(var n=0,s=0,o=e.place;s<i;s++,o++)n<<=8,n|=t[o],n>>>=0;return!(n<=127)&&(e.place=o,n)}function Qn(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function Gn(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}jn.prototype._importDER=function(t,e){t=bn.toArray(t,e);var r=new Hn;if(48!==t[r.place++])return!1;var i=Kn(t,r);if(!1===i||i+r.place!==t.length||2!==t[r.place++])return!1;var n=Kn(t,r);if(!1===n)return!1;var s=t.slice(r.place,n+r.place);if(r.place+=n,2!==t[r.place++])return!1;var o=Kn(t,r);if(!1===o||t.length!==o+r.place)return!1;var a=t.slice(r.place,o+r.place);if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new Se(s),this.s=new Se(a),this.recoveryParam=null,!0},jn.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=Qn(e),r=Qn(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var i=[2];Gn(i,e.length),(i=i.concat(e)).push(2),Gn(i,r.length);var n=i.concat(r),s=[48];return Gn(s,n.length),s=s.concat(n),bn.encode(s,t)};var Yn=function(){throw new Error("unsupported")},Jn=bn.assert;function Wn(t){if(!(this instanceof Wn))return new Wn(t);"string"==typeof t&&(Jn(Object.prototype.hasOwnProperty.call(Tn,t),"Unknown curve "+t),t=Tn[t]),t instanceof Tn.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Vn=Wn;Wn.prototype.keyPair=function(t){return new Ln(this,t)},Wn.prototype.keyFromPrivate=function(t,e){return Ln.fromPrivate(this,t,e)},Wn.prototype.keyFromPublic=function(t,e){return Ln.fromPublic(this,t,e)},Wn.prototype.genKeyPair=function(t){t||(t={});for(var e=new Un({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Yn(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new Se(2));;){var n=new Se(e.generate(r));if(!(n.cmp(i)>0))return n.iaddn(1),this.keyFromPrivate(n)}},Wn.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},Wn.prototype.sign=function(t,e,r,i){"object"==typeof r&&(i=r,r=null),i||(i={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new Se(t,16));for(var n=this.n.byteLength(),s=e.getPrivate().toArray("be",n),o=t.toArray("be",n),a=new Un({hash:this.hash,entropy:s,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),h=this.n.sub(new Se(1)),u=0;;u++){var f=i.k?i.k(u):new Se(a.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(h)>=0)){var c=this.g.mul(f);if(!c.isInfinity()){var l=c.getX(),d=l.umod(this.n);if(0!==d.cmpn(0)){var p=f.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var g=(c.getY().isOdd()?1:0)|(0!==l.cmp(d)?2:0);return i.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),g^=1),new zn({r:d,s:p,recoveryParam:g})}}}}}},Wn.prototype.verify=function(t,e,r,i){t=this._truncateToN(new Se(t,16)),r=this.keyFromPublic(r,i);var n=(e=new zn(e,"hex")).r,s=e.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o,a=s.invm(this.n),h=a.mul(t).umod(this.n),u=a.mul(n).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(h,r.getPublic(),u)).isInfinity()&&o.eqXToP(n):!(o=this.g.mulAdd(h,r.getPublic(),u)).isInfinity()&&0===o.getX().umod(this.n).cmp(n)},Wn.prototype.recoverPubKey=function(t,e,r,i){Jn((3&r)===r,"The recovery param is more than two bits"),e=new zn(e,i);var n=this.n,s=new Se(t),o=e.r,a=e.s,h=1&r,u=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");o=u?this.curve.pointFromX(o.add(this.curve.n),h):this.curve.pointFromX(o,h);var f=e.r.invm(n),c=n.sub(s).mul(f).umod(n),l=a.mul(f).umod(n);return this.g.mulAdd(c,o,l)},Wn.prototype.getKeyRecoveryParam=function(t,e,r,i){if(null!==(e=new zn(e,i)).recoveryParam)return e.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(t,e,n)}catch{continue}if(s.eq(r))return n}throw new Error("Unable to find valid recovery factor")};var Xn=mn((function(t,e){var r=e;r.version="6.5.4",r.utils=bn,r.rand=function(){throw new Error("unsupported")},r.curve=Rn,r.curves=Tn,r.ec=Vn,r.eddsa=null}));Xn.ec;new le("signing-key/5.7.0");var Zn;new le("transactions/5.7.0"),function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(Zn||(Zn={}));Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const $n={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function ts(t,e){const{message:r,code:i}=$n[t];return{message:e?`${r} ${e}`:r,code:i}}function es(t,e){return!!Array.isArray(t)&&(!(typeof e<"u"&&t.length)||t.every(e))}const rs=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,is=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,ns=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function ss(t,e){if(!("__proto__"===t||"constructor"===t&&e&&"object"===typeof e&&"prototype"in e))return e;!function(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}(t)}function os(t,e={}){if("string"!==typeof t)return t;const r=t.trim();if('"'===t[0]&&t.endsWith('"')&&!t.includes("\\"))return r.slice(1,-1);if(r.length<=9){const t=r.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;if("undefined"===t)return;if("null"===t)return null;if("nan"===t)return Number.NaN;if("infinity"===t)return Number.POSITIVE_INFINITY;if("-infinity"===t)return Number.NEGATIVE_INFINITY}if(!ns.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(rs.test(t)||is.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,ss)}return JSON.parse(t)}catch(i){if(e.strict)throw i;return t}}function as(t,...e){try{return(r=t(...e))&&"function"===typeof r.then?r:Promise.resolve(r)}catch(i){return Promise.reject(i)}var r}function hs(t){if(function(t){const e=typeof t;return null===t||"object"!==e&&"function"!==e}(t))return String(t);if(function(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}(t)||Array.isArray(t))return JSON.stringify(t);if("function"===typeof t.toJSON)return hs(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function us(){if(void 0===typeof Buffer)throw new TypeError("[unstorage] Buffer is not supported!")}const fs="base64:";function cs(t){return t?t.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function ls(...t){return cs(t.join(":"))}function ds(t){return(t=cs(t))?t+":":""}const ps=()=>{const t=new Map;return{name:"memory",options:{},hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return Array.from(t.keys())},clear(){t.clear()},dispose(){t.clear()}}};function gs(t={}){const e={mounts:{"":t.driver||ps()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=t=>{for(const r of e.mountpoints)if(t.startsWith(r))return{base:r,relativeKey:t.slice(r.length),driver:e.mounts[r]};return{base:"",relativeKey:t,driver:e.mounts[""]}},i=(t,r)=>e.mountpoints.filter((e=>e.startsWith(t)||r&&t.startsWith(e))).map((r=>({relativeBase:t.length>r.length?t.slice(r.length):void 0,mountpoint:r,driver:e.mounts[r]}))),n=(t,r)=>{if(e.watching){r=cs(r);for(const i of e.watchListeners)i(t,r)}},s=async()=>{if(e.watching){for(const t in e.unwatch)await e.unwatch[t]();e.unwatch={},e.watching=!1}},o=(t,e,i)=>{const n=new Map,s=t=>{let e=n.get(t.base);return e||(e={driver:t.driver,base:t.base,items:[]},n.set(t.base,e)),e};for(const o of t){const t="string"===typeof o,i=cs(t?o:o.key),n=t?void 0:o.value,a=t||!o.options?e:{...e,...o.options},h=r(i);s(h).items.push({key:i,value:n,relativeKey:h.relativeKey,options:a})}return Promise.all([...n.values()].map((t=>i(t)))).then((t=>t.flat()))},a={hasItem(t,e={}){t=cs(t);const{relativeKey:i,driver:n}=r(t);return as(n.hasItem,i,e)},getItem(t,e={}){t=cs(t);const{relativeKey:i,driver:n}=r(t);return as(n.getItem,i,e).then((t=>os(t)))},getItems(t,e){return o(t,e,(t=>t.driver.getItems?as(t.driver.getItems,t.items.map((t=>({key:t.relativeKey,options:t.options}))),e).then((e=>e.map((e=>({key:ls(t.base,e.key),value:os(e.value)}))))):Promise.all(t.items.map((e=>as(t.driver.getItem,e.relativeKey,e.options).then((t=>({key:e.key,value:os(t)}))))))))},getItemRaw(t,e={}){t=cs(t);const{relativeKey:i,driver:n}=r(t);return n.getItemRaw?as(n.getItemRaw,i,e):as(n.getItem,i,e).then((t=>function(t){return"string"!==typeof t?t:t.startsWith(fs)?(us(),Buffer.from(t.slice(fs.length),"base64")):t}(t)))},async setItem(t,e,i={}){if(void 0===e)return a.removeItem(t);t=cs(t);const{relativeKey:s,driver:o}=r(t);o.setItem&&(await as(o.setItem,s,hs(e),i),o.watch||n("update",t))},async setItems(t,e){await o(t,e,(async t=>{if(t.driver.setItems)return as(t.driver.setItems,t.items.map((t=>({key:t.relativeKey,value:hs(t.value),options:t.options}))),e);t.driver.setItem&&await Promise.all(t.items.map((e=>as(t.driver.setItem,e.relativeKey,hs(e.value),e.options))))}))},async setItemRaw(t,e,i={}){if(void 0===e)return a.removeItem(t,i);t=cs(t);const{relativeKey:s,driver:o}=r(t);if(o.setItemRaw)await as(o.setItemRaw,s,e,i);else{if(!o.setItem)return;await as(o.setItem,s,function(t){if("string"===typeof t)return t;us();const e=Buffer.from(t).toString("base64");return fs+e}(e),i)}o.watch||n("update",t)},async removeItem(t,e={}){"boolean"===typeof e&&(e={removeMeta:e}),t=cs(t);const{relativeKey:i,driver:s}=r(t);s.removeItem&&(await as(s.removeItem,i,e),(e.removeMeta||e.removeMata)&&await as(s.removeItem,i+"$",e),s.watch||n("remove",t))},async getMeta(t,e={}){"boolean"===typeof e&&(e={nativeOnly:e}),t=cs(t);const{relativeKey:i,driver:n}=r(t),s=Object.create(null);if(n.getMeta&&Object.assign(s,await as(n.getMeta,i,e)),!e.nativeOnly){const t=await as(n.getItem,i+"$",e).then((t=>os(t)));t&&"object"===typeof t&&("string"===typeof t.atime&&(t.atime=new Date(t.atime)),"string"===typeof t.mtime&&(t.mtime=new Date(t.mtime)),Object.assign(s,t))}return s},setMeta(t,e,r={}){return this.setItem(t+"$",e,r)},removeMeta(t,e={}){return this.removeItem(t+"$",e)},async getKeys(t,e={}){t=ds(t);const r=i(t,!0);let n=[];const s=[];for(const i of r){const t=(await as(i.driver.getKeys,i.relativeBase,e)).map((t=>i.mountpoint+cs(t))).filter((t=>!n.some((e=>t.startsWith(e)))));s.push(...t),n=[i.mountpoint,...n.filter((t=>!t.startsWith(i.mountpoint)))]}return t?s.filter((e=>e.startsWith(t)&&!e.endsWith("$"))):s.filter((t=>!t.endsWith("$")))},async clear(t,e={}){t=ds(t),await Promise.all(i(t,!1).map((async t=>{if(t.driver.clear)return as(t.driver.clear,t.relativeBase,e);if(t.driver.removeItem){const r=await t.driver.getKeys(t.relativeBase||"",e);return Promise.all(r.map((r=>t.driver.removeItem(r,e))))}})))},async dispose(){await Promise.all(Object.values(e.mounts).map((t=>vs(t))))},async watch(t){return await(async()=>{if(!e.watching){e.watching=!0;for(const t in e.mounts)e.unwatch[t]=await ms(e.mounts[t],n,t)}})(),e.watchListeners.push(t),async()=>{e.watchListeners=e.watchListeners.filter((e=>e!==t)),0===e.watchListeners.length&&await s()}},async unwatch(){e.watchListeners=[],await s()},mount(t,r){if((t=ds(t))&&e.mounts[t])throw new Error(`already mounted at ${t}`);return t&&(e.mountpoints.push(t),e.mountpoints.sort(((t,e)=>e.length-t.length))),e.mounts[t]=r,e.watching&&Promise.resolve(ms(r,n,t)).then((r=>{e.unwatch[t]=r})).catch(console.error),a},async unmount(t,r=!0){(t=ds(t))&&e.mounts[t]&&(e.watching&&t in e.unwatch&&(e.unwatch[t](),delete e.unwatch[t]),r&&await vs(e.mounts[t]),e.mountpoints=e.mountpoints.filter((e=>e!==t)),delete e.mounts[t])},getMount(t=""){t=cs(t)+":";const e=r(t);return{driver:e.driver,base:e.base}},getMounts(t="",e={}){t=cs(t);return i(t,e.parents).map((t=>({driver:t.driver,base:t.mountpoint})))}};return a}function ms(t,e,r){return t.watch?t.watch(((t,i)=>e(t,r+i))):()=>{}}async function vs(t){"function"===typeof t.dispose&&await as(t.dispose)}function ys(t){return new Promise(((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)}))}function ws(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const i=ys(r);return(t,r)=>i.then((i=>r(i.transaction(e,t).objectStore(e))))}let bs;function As(){return bs||(bs=ws("keyval-store","keyval")),bs}function Es(t,e=As()){return e("readonly",(e=>ys(e.get(t))))}function Ms(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},ys(t.transaction)}const _s=t=>JSON.stringify(t,((t,e)=>"bigint"===typeof e?e.toString()+"n":e)),Ss=t=>{const e=t.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(e,((t,e)=>"string"===typeof e&&e.match(/^\d+n$/)?BigInt(e.substring(0,e.length-1)):e))};function Is(t){if("string"!==typeof t)throw new Error("Cannot safe json parse value of type "+typeof t);try{return Ss(t)}catch(hn){return t}}function Ns(t){return"string"===typeof t?t:_s(t)||""}var xs=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=t=>e+t;let i;return t.dbName&&t.storeName&&(i=ws(t.dbName,t.storeName)),{name:"idb-keyval",options:t,async hasItem(t){return!(typeof await Es(r(t),i)>"u")},async getItem(t){return await Es(r(t),i)??null},setItem(t,e){return function(t,e,r=As()){return r("readwrite",(r=>(r.put(e,t),ys(r.transaction))))}(r(t),e,i)},removeItem(t){return function(t,e=As()){return e("readwrite",(e=>(e.delete(t),ys(e.transaction))))}(r(t),i)},getKeys(){return function(t=As()){return t("readonly",(t=>{if(t.getAllKeys)return ys(t.getAllKeys());const e=[];return Ms(t,(t=>e.push(t.key))).then((()=>e))}))}(i)},clear(){return function(t=As()){return t("readwrite",(t=>(t.clear(),ys(t.transaction))))}(i)}}};class Cs{constructor(){this.indexedDb=gs({driver:xs({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map((t=>[t.key,t.value]))}async getItem(t){const e=await this.indexedDb.getItem(t);if(null!==e)return e}async setItem(t,e){await this.indexedDb.setItem(t,Ns(e))}async removeItem(t){await this.indexedDb.removeItem(t)}}var Os=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof r.g<"u"?r.g:typeof self<"u"?self:{},Bs={exports:{}};function Ps(t){var e;return[t[0],Is(null!=(e=t[1])?e:"")]}!function(){let t;function e(){}t=e,t.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},t.prototype.setItem=function(t,e){this[t]=String(e)},t.prototype.removeItem=function(t){delete this[t]},t.prototype.clear=function(){const t=this;Object.keys(t).forEach((function(e){t[e]=void 0,delete t[e]}))},t.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},t.prototype.__defineGetter__("length",(function(){return Object.keys(this).length})),typeof Os<"u"&&Os.localStorage?Bs.exports=Os.localStorage:typeof window<"u"&&window.localStorage?Bs.exports=window.localStorage:Bs.exports=new e}();class Rs{constructor(){this.localStorage=Bs.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(Ps)}async getItem(t){const e=this.localStorage.getItem(t);if(null!==e)return Is(e)}async setItem(t,e){this.localStorage.setItem(t,Ns(e))}async removeItem(t){this.localStorage.removeItem(t)}}const Ts=async(t,e)=>{e.length&&e.forEach((async e=>{await t.removeItem(e)}))};class ks{constructor(){this.initialized=!1,this.setInitialized=t=>{this.storage=t,this.initialized=!0};const t=new Rs;this.storage=t;try{(async(t,e,r)=>{const i="wc_storage_version",n=await e.getItem(i);if(n&&n>=1)return void r(e);const s=await t.getKeys();if(!s.length)return void r(e);const o=[];for(;s.length;){const r=s.shift();if(!r)continue;const i=r.toLowerCase();if(i.includes("wc@")||i.includes("walletconnect")||i.includes("wc_")||i.includes("wallet_connect")){const i=await t.getItem(r);await e.setItem(r,i),o.push(r)}}await e.setItem(i,1),r(e),Ts(t,o)})(t,new Cs,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,e){return await this.initialize(),this.storage.setItem(t,e)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise((t=>{const e=setInterval((()=>{this.initialized&&(clearInterval(e),t())}),20)}))}}class Us{}class Ds extends Us{constructor(t){super()}}const Fs=w.FIVE_SECONDS,Ls="heartbeat_pulse";class qs extends Ds{constructor(t){super(t),this.events=new v.EventEmitter,this.interval=Fs,this.interval=t?.interval||Fs}static async init(t){const e=new qs(t);return await e.init(),e}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async initialize(){this.intervalRef=setInterval((()=>this.pulse()),(0,w.toMiliseconds)(this.interval))}pulse(){this.events.emit(Ls)}}var js=r(1651),zs=r.n(js);const Hs="info",Ks="custom_context";class Qs{constructor(t){this.nodeValue=t,this.sizeInBytes=(new TextEncoder).encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class Gs{constructor(t){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const e=new Qs(t);if(e.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${e.size}`);for(;this.size+e.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=e),this.tail=e):(this.head=e,this.tail=e),this.lengthInNodes++,this.sizeInBytes+=e.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let e=this.head;for(;null!==e;)t.push(e.value),e=e.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const e=t.value;return t=t.next,{done:!1,value:e}}}}}class Ys{constructor(t,e=1024e3){this.level=t??"error",this.levelValue=js.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=e,this.logs=new Gs(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,e){e===js.levels.values.error?console.error(t):e===js.levels.values.warn?console.warn(t):e===js.levels.values.debug?console.debug(t):e===js.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(Ns({timestamp:(new Date).toISOString(),log:t}));const e="string"==typeof t?JSON.parse(t).level:t.level;e>=this.levelValue&&this.forwardToConsole(t,e)}getLogs(){return this.logs}clearLogs(){this.logs=new Gs(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const e=this.getLogArray();return e.push(Ns({extraMetadata:t})),new Blob(e,{type:"application/json"})}}class Js{constructor(t,e=1024e3){this.baseChunkLogger=new Ys(t,e)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const e=URL.createObjectURL(this.logsToBlob(t)),r=document.createElement("a");r.href=e,r.download=`walletconnect-logs-${(new Date).toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(e)}}class Ws{constructor(t,e=1024e3){this.baseChunkLogger=new Ys(t,e)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}}var Vs=Object.defineProperty,Xs=Object.defineProperties,Zs=Object.getOwnPropertyDescriptors,$s=Object.getOwnPropertySymbols,to=Object.prototype.hasOwnProperty,eo=Object.prototype.propertyIsEnumerable,ro=(t,e,r)=>e in t?Vs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,io=(t,e)=>{for(var r in e||(e={}))to.call(e,r)&&ro(t,r,e[r]);if($s)for(var r of $s(e))eo.call(e,r)&&ro(t,r,e[r]);return t},no=(t,e)=>Xs(t,Zs(e));function so(t){return no(io({},t),{level:t?.level||Hs})}function oo(t,e=Ks){let r="";return r=typeof t.bindings>"u"?function(t,e=Ks){return t[e]||""}(t,e):t.bindings().context||"",r}function ao(t,e,r=Ks){const i=function(t,e,r=Ks){const i=oo(t,r);return i.trim()?`${i}/${e}`:e}(t,e,r);return function(t,e,r=Ks){return t[r]=e,t}(t.child({context:i}),i,r)}function ho(t){return typeof t.loggerOverride<"u"&&"string"!=typeof t.loggerOverride?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?function(t){var e,r;const i=new Js(null==(e=t.opts)?void 0:e.level,t.maxSizeInBytes);return{logger:zs()(no(io({},t.opts),{level:"trace",browser:no(io({},null==(r=t.opts)?void 0:r.browser),{write:t=>i.write(t)})})),chunkLoggerController:i}}(t):function(t){var e;const r=new Ws(null==(e=t.opts)?void 0:e.level,t.maxSizeInBytes);return{logger:zs()(no(io({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}(t)}class uo extends Us{constructor(t){super(),this.opts=t,this.protocol="wc",this.version=2}}class fo extends Us{constructor(t,e){super(),this.core=t,this.logger=e,this.records=new Map}}class co{constructor(t,e){this.logger=t,this.core=e}}class lo extends Us{constructor(t,e){super(),this.relayer=t,this.logger=e}}class po extends Us{constructor(t){super()}}class go{constructor(t,e,r,i){this.core=t,this.logger=e,this.name=r}}class mo extends Us{constructor(t,e){super(),this.relayer=t,this.logger=e}}class vo extends Us{constructor(t,e){super(),this.core=t,this.logger=e}}class yo{constructor(t,e){this.projectId=t,this.logger=e}}class wo{constructor(t,e){this.projectId=t,this.logger=e}}y();class bo{constructor(t){this.opts=t,this.protocol="wc",this.version=2}}v.EventEmitter;class Ao{constructor(t){this.client=t}}var Eo=r(5007);const Mo=".",_o="base64url",So="utf8",Io="utf8",No=":",xo="did",Co="key",Oo="base58btc",Bo="z",Po="K36";function Ro(t){return null!=globalThis.Buffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function To(t=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?Ro(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function ko(t,e,r,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:i}}}const Uo=ko("utf8","u",(t=>"u"+new TextDecoder("utf8").decode(t)),(t=>(new TextEncoder).encode(t.substring(1)))),Do=ko("ascii","a",(t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}),(t=>{const e=To((t=t.substring(1)).length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}));var Fo={utf8:Uo,"utf-8":Uo,hex:Wt.base16,latin1:Do,ascii:Do,binary:Do,...Wt};function Lo(t,e="utf8"){const r=Fo[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?r.encoder.encode(t).substring(1):globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8")}function qo(t,e="utf8"){const r=Fo[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${t}`):Ro(globalThis.Buffer.from(t,"utf-8"))}function jo(t){return Lo(qo(Ns(t),So),_o)}function zo(t){const e=qo(Po,Oo),r=Bo+Lo(function(t,e){e||(e=t.reduce(((t,e)=>t+e.length),0));const r=To(e);let i=0;for(const n of t)r.set(n,i),i+=n.length;return Ro(r)}([e,t]),Oo);return[xo,Co,r].join(No)}function Ho(t=(0,_.randomBytes)(32)){return Eo.K(t)}async function Ko(t,e,r,i,n=(0,w.fromMiliseconds)(Date.now())){const s={alg:"EdDSA",typ:"JWT"},o={iss:zo(i.publicKey),sub:t,aud:e,iat:n,exp:n+r},a=qo([jo((h={header:s,payload:o}).header),jo(h.payload)].join(Mo),Io);var h;return function(t){return[jo(t.header),jo(t.payload),(e=t.signature,Lo(e,_o))].join(Mo);var e}({header:s,payload:o,signature:Eo._S(i.secretKey,a)})}r(2402);var Qo=function(t,e,r){if(r||2===arguments.length)for(var i,n=0,s=e.length;n<s;n++)!i&&n in e||(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},Go=function(t,e,r){this.name=t,this.version=e,this.os=r,this.type="browser"},Yo=function(t){this.version=t,this.type="node",this.name="node",this.os=process.platform},Jo=function(t,e,r,i){this.name=t,this.version=e,this.os=r,this.bot=i,this.type="bot-device"},Wo=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},Vo=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},Xo=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Zo=3,$o=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],ta=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function ea(t){return t?ia(t):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new Vo:"undefined"!==typeof navigator?ia(navigator.userAgent):"undefined"!==typeof process&&process.version?new Yo(process.version.slice(1)):null}function ra(t){return""!==t&&$o.reduce((function(e,r){var i=r[0],n=r[1];if(e)return e;var s=n.exec(t);return!!s&&[i,s]}),!1)}function ia(t){var e=ra(t);if(!e)return null;var r=e[0],i=e[1];if("searchbot"===r)return new Wo;var n=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);n?n.length<Zo&&(n=Qo(Qo([],n,!0),function(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}(Zo-n.length),!0)):n=[];var s=n.join("."),o=function(t){for(var e=0,r=ta.length;e<r;e++){var i=ta[e],n=i[0];if(i[1].exec(t))return n}return null}(t),a=Xo.exec(t);return a&&a[1]?new Jo(r,s,o,a[1]):new Go(r,s,o)}var na=r(8697);function sa(t=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function oa(t,e){e||(e=t.reduce(((t,e)=>t+e.length),0));const r=sa(e);let i=0;for(const n of t)r.set(n,i),i+=n.length;return r}function aa(t,e,r,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:i}}}const ha=aa("utf8","u",(t=>"u"+new TextDecoder("utf8").decode(t)),(t=>(new TextEncoder).encode(t.substring(1)))),ua=aa("ascii","a",(t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}),(t=>{const e=sa((t=t.substring(1)).length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}));var fa={utf8:ha,"utf-8":ha,hex:Wt.base16,latin1:ua,ascii:ua,binary:ua,...Wt};function ca(t,e="utf8"){const r=fa[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${t}`):globalThis.Buffer.from(t,"utf8")}function la(t,e="utf8"){const r=fa[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?r.encoder.encode(t).substring(1):globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8")}var da=Object.defineProperty,pa=Object.getOwnPropertySymbols,ga=Object.prototype.hasOwnProperty,ma=Object.prototype.propertyIsEnumerable,va=(t,e,r)=>e in t?da(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ya=(t,e)=>{for(var r in e||(e={}))ga.call(e,r)&&va(t,r,e[r]);if(pa)for(var r of pa(e))ma.call(e,r)&&va(t,r,e[r]);return t};const wa="ReactNative",ba={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Aa="js";function Ea(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Ma(){return!(0,b.getDocument)()&&!!(0,b.getNavigator)()&&navigator.product===wa}function _a(){return!Ea()&&!!(0,b.getNavigator)()&&!!(0,b.getDocument)()}function Sa(){return Ma()?ba.reactNative:Ea()?ba.node:_a()?ba.browser:ba.unknown}function Ia(t,e,i){const n=function(){if(Sa()===ba.reactNative&&typeof r.g<"u"&&typeof(null==r.g?void 0:r.g.Platform)<"u"){const{OS:t,Version:e}=r.g.Platform;return[t,e].join("-")}const t=ea();if(null===t)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return"browser"===t.type?[e,t.name,t.version].join("-"):[e,t.version].join("-")}(),s=function(){var t;const e=Sa();return e===ba.browser?[e,(null==(t=(0,b.getLocation)())?void 0:t.host)||"unknown"].join(":"):e}();return[[t,e].join("-"),[Aa,i].join("-"),n,s].join("/")}function Na({protocol:t,version:e,relayUrl:r,sdkVersion:i,auth:n,projectId:s,useOnCloseEvent:o,bundleId:a}){const h=r.split("?"),u={auth:n,ua:Ia(t,e,i),projectId:s,useOnCloseEvent:o||void 0,origin:a||void 0},f=function(t,e){let r=na.parse(t);return r=ya(ya({},r),e),na.stringify(r)}(h[1]||"",u);return h[0]+"?"+f}function xa(t){return Object.fromEntries(t.entries())}function Ca(t){return new Map(Object.entries(t))}function Oa(t,e,r){return new Promise((async(i,n)=>{const s=setTimeout((()=>n(new Error(r))),e);try{i(await t)}catch(o){n(o)}clearTimeout(s)}))}function Ba(t,e){if("string"==typeof e&&e.startsWith(`${t}:`))return e;if("topic"===t.toLowerCase()){if("string"!=typeof e)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}if("id"===t.toLowerCase()){if("number"!=typeof e)throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Pa(t,e){return(0,w.fromMiliseconds)((e||Date.now())+(0,w.toMiliseconds)(t))}function Ra(t){return Date.now()>=(0,w.toMiliseconds)(t)}function Ta(t,e){return`${t}${e?`:${e}`:""}`}var ka=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof r.g<"u"?r.g:typeof self<"u"?self:{};var Ua={exports:{}};!function(t){!function(){var e="input is invalid type",r="object"==typeof window,i=r?window:{};i.JS_SHA3_NO_WINDOW&&(r=!1);var n=!r&&"object"==typeof self;!i.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?i=ka:n&&(i=self);var s=!i.JS_SHA3_NO_COMMON_JS&&t.exports,o=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",a="0123456789abcdef".split(""),h=[4,1024,262144,67108864],u=[0,8,16,24],f=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],c=[224,256,384,512],l=[128,256],d=["hex","buffer","arrayBuffer","array","digest"],p={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),o&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var g=function(t,e,r){return function(i){return new O(t,e,t).update(i)[r]()}},m=function(t,e,r){return function(i,n){return new O(t,e,n).update(i)[r]()}},v=function(t,e,r){return function(e,i,n,s){return E["cshake"+t].update(e,i,n,s)[r]()}},y=function(t,e,r){return function(e,i,n,s){return E["kmac"+t].update(e,i,n,s)[r]()}},w=function(t,e,r,i){for(var n=0;n<d.length;++n){var s=d[n];t[s]=e(r,i,s)}return t},b=function(t,e){var r=g(t,e,"hex");return r.create=function(){return new O(t,e,t)},r.update=function(t){return r.create().update(t)},w(r,g,t,e)},A=[{name:"keccak",padding:[1,256,65536,16777216],bits:c,createMethod:b},{name:"sha3",padding:[6,1536,393216,100663296],bits:c,createMethod:b},{name:"shake",padding:[31,7936,2031616,520093696],bits:l,createMethod:function(t,e){var r=m(t,e,"hex");return r.create=function(r){return new O(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},w(r,m,t,e)}},{name:"cshake",padding:h,bits:l,createMethod:function(t,e){var r=p[t],i=v(t,0,"hex");return i.create=function(i,n,s){return n||s?new O(t,e,i).bytepad([n,s],r):E["shake"+t].create(i)},i.update=function(t,e,r,n){return i.create(e,r,n).update(t)},w(i,v,t,e)}},{name:"kmac",padding:h,bits:l,createMethod:function(t,e){var r=p[t],i=y(t,0,"hex");return i.create=function(i,n,s){return new B(t,e,n).bytepad(["KMAC",s],r).bytepad([i],r)},i.update=function(t,e,r,n){return i.create(t,r,n).update(e)},w(i,y,t,e)}}],E={},M=[],_=0;_<A.length;++_)for(var S=A[_],I=S.bits,N=0;N<I.length;++N){var x=S.name+"_"+I[N];if(M.push(x),E[x]=S.createMethod(I[N],S.padding),"sha3"!==S.name){var C=S.name+I[N];M.push(C),E[C]=E[x]}}function O(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var i=0;i<50;++i)this.s[i]=0}function B(t,e,r){O.call(this,t,e,r)}O.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var r,i=typeof t;if("string"!==i){if("object"!==i)throw new Error(e);if(null===t)throw new Error(e);if(o&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!o||!ArrayBuffer.isView(t)))throw new Error(e);r=!0}for(var n,s,a=this.blocks,h=this.byteCount,f=t.length,c=this.blockCount,l=0,d=this.s;l<f;){if(this.reset)for(this.reset=!1,a[0]=this.block,n=1;n<c+1;++n)a[n]=0;if(r)for(n=this.start;l<f&&n<h;++l)a[n>>2]|=t[l]<<u[3&n++];else for(n=this.start;l<f&&n<h;++l)(s=t.charCodeAt(l))<128?a[n>>2]|=s<<u[3&n++]:s<2048?(a[n>>2]|=(192|s>>6)<<u[3&n++],a[n>>2]|=(128|63&s)<<u[3&n++]):s<55296||s>=57344?(a[n>>2]|=(224|s>>12)<<u[3&n++],a[n>>2]|=(128|s>>6&63)<<u[3&n++],a[n>>2]|=(128|63&s)<<u[3&n++]):(s=65536+((1023&s)<<10|1023&t.charCodeAt(++l)),a[n>>2]|=(240|s>>18)<<u[3&n++],a[n>>2]|=(128|s>>12&63)<<u[3&n++],a[n>>2]|=(128|s>>6&63)<<u[3&n++],a[n>>2]|=(128|63&s)<<u[3&n++]);if(this.lastByteIndex=n,n>=h){for(this.start=n-h,this.block=a[c],n=0;n<c;++n)d[n]^=a[n];P(d),this.reset=!0}else this.start=n}return this},O.prototype.encode=function(t,e){var r=255&t,i=1,n=[r];for(r=255&(t>>=8);r>0;)n.unshift(r),r=255&(t>>=8),++i;return e?n.push(i):n.unshift(i),this.update(n),n.length},O.prototype.encodeString=function(t){var r,i=typeof t;if("string"!==i){if("object"!==i)throw new Error(e);if(null===t)throw new Error(e);if(o&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!o||!ArrayBuffer.isView(t)))throw new Error(e);r=!0}var n=0,s=t.length;if(r)n=s;else for(var a=0;a<t.length;++a){var h=t.charCodeAt(a);h<128?n+=1:h<2048?n+=2:h<55296||h>=57344?n+=3:(h=65536+((1023&h)<<10|1023&t.charCodeAt(++a)),n+=4)}return n+=this.encode(8*n),this.update(t),n},O.prototype.bytepad=function(t,e){for(var r=this.encode(e),i=0;i<t.length;++i)r+=this.encodeString(t[i]);var n=e-r%e,s=[];return s.length=n,this.update(s),this},O.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,i=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)i[e]^=t[e];P(i)}},O.prototype.toString=O.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,i=this.outputBlocks,n=this.extraBytes,s=0,o=0,h="";o<i;){for(s=0;s<e&&o<i;++s,++o)t=r[s],h+=a[t>>4&15]+a[15&t]+a[t>>12&15]+a[t>>8&15]+a[t>>20&15]+a[t>>16&15]+a[t>>28&15]+a[t>>24&15];o%e===0&&(P(r),s=0)}return n&&(t=r[s],h+=a[t>>4&15]+a[15&t],n>1&&(h+=a[t>>12&15]+a[t>>8&15]),n>2&&(h+=a[t>>20&15]+a[t>>16&15])),h},O.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,i=this.outputBlocks,n=this.extraBytes,s=0,o=0,a=this.outputBits>>3;t=n?new ArrayBuffer(i+1<<2):new ArrayBuffer(a);for(var h=new Uint32Array(t);o<i;){for(s=0;s<e&&o<i;++s,++o)h[o]=r[s];o%e===0&&P(r)}return n&&(h[s]=r[s],t=t.slice(0,a)),t},O.prototype.buffer=O.prototype.arrayBuffer,O.prototype.digest=O.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,i=this.s,n=this.outputBlocks,s=this.extraBytes,o=0,a=0,h=[];a<n;){for(o=0;o<r&&a<n;++o,++a)t=a<<2,e=i[o],h[t]=255&e,h[t+1]=e>>8&255,h[t+2]=e>>16&255,h[t+3]=e>>24&255;a%r===0&&P(i)}return s&&(t=a<<2,e=i[o],h[t]=255&e,s>1&&(h[t+1]=e>>8&255),s>2&&(h[t+2]=e>>16&255)),h},B.prototype=new O,B.prototype.finalize=function(){return this.encode(this.outputBits,!0),O.prototype.finalize.call(this)};var P=function(t){var e,r,i,n,s,o,a,h,u,c,l,d,p,g,m,v,y,w,b,A,E,M,_,S,I,N,x,C,O,B,P,R,T,k,U,D,F,L,q,j,z,H,K,Q,G,Y,J,W,V,X,Z,$,tt,et,rt,it,nt,st,ot,at,ht,ut,ft;for(i=0;i<48;i+=2)n=t[0]^t[10]^t[20]^t[30]^t[40],s=t[1]^t[11]^t[21]^t[31]^t[41],o=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],h=t[4]^t[14]^t[24]^t[34]^t[44],u=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],e=(d=t[8]^t[18]^t[28]^t[38]^t[48])^(o<<1|a>>>31),r=(p=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|o>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=n^(h<<1|u>>>31),r=s^(u<<1|h>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=o^(c<<1|l>>>31),r=a^(l<<1|c>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=h^(d<<1|p>>>31),r=u^(p<<1|d>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=c^(n<<1|s>>>31),r=l^(s<<1|n>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,g=t[0],m=t[1],Y=t[11]<<4|t[10]>>>28,J=t[10]<<4|t[11]>>>28,C=t[20]<<3|t[21]>>>29,O=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ht=t[30]<<9|t[31]>>>23,H=t[40]<<18|t[41]>>>14,K=t[41]<<18|t[40]>>>14,k=t[2]<<1|t[3]>>>31,U=t[3]<<1|t[2]>>>31,v=t[13]<<12|t[12]>>>20,y=t[12]<<12|t[13]>>>20,W=t[22]<<10|t[23]>>>22,V=t[23]<<10|t[22]>>>22,B=t[33]<<13|t[32]>>>19,P=t[32]<<13|t[33]>>>19,ut=t[42]<<2|t[43]>>>30,ft=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,D=t[14]<<6|t[15]>>>26,F=t[15]<<6|t[14]>>>26,w=t[25]<<11|t[24]>>>21,b=t[24]<<11|t[25]>>>21,X=t[34]<<15|t[35]>>>17,Z=t[35]<<15|t[34]>>>17,R=t[45]<<29|t[44]>>>3,T=t[44]<<29|t[45]>>>3,S=t[6]<<28|t[7]>>>4,I=t[7]<<28|t[6]>>>4,it=t[17]<<23|t[16]>>>9,nt=t[16]<<23|t[17]>>>9,L=t[26]<<25|t[27]>>>7,q=t[27]<<25|t[26]>>>7,A=t[36]<<21|t[37]>>>11,E=t[37]<<21|t[36]>>>11,$=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,Q=t[8]<<27|t[9]>>>5,G=t[9]<<27|t[8]>>>5,N=t[18]<<20|t[19]>>>12,x=t[19]<<20|t[18]>>>12,st=t[29]<<7|t[28]>>>25,ot=t[28]<<7|t[29]>>>25,j=t[38]<<8|t[39]>>>24,z=t[39]<<8|t[38]>>>24,M=t[48]<<14|t[49]>>>18,_=t[49]<<14|t[48]>>>18,t[0]=g^~v&w,t[1]=m^~y&b,t[10]=S^~N&C,t[11]=I^~x&O,t[20]=k^~D&L,t[21]=U^~F&q,t[30]=Q^~Y&W,t[31]=G^~J&V,t[40]=et^~it&st,t[41]=rt^~nt&ot,t[2]=v^~w&A,t[3]=y^~b&E,t[12]=N^~C&B,t[13]=x^~O&P,t[22]=D^~L&j,t[23]=F^~q&z,t[32]=Y^~W&X,t[33]=J^~V&Z,t[42]=it^~st&at,t[43]=nt^~ot&ht,t[4]=w^~A&M,t[5]=b^~E&_,t[14]=C^~B&R,t[15]=O^~P&T,t[24]=L^~j&H,t[25]=q^~z&K,t[34]=W^~X&$,t[35]=V^~Z&tt,t[44]=st^~at&ut,t[45]=ot^~ht&ft,t[6]=A^~M&g,t[7]=E^~_&m,t[16]=B^~R&S,t[17]=P^~T&I,t[26]=j^~H&k,t[27]=z^~K&U,t[36]=X^~$&Q,t[37]=Z^~tt&G,t[46]=at^~ut&et,t[47]=ht^~ft&rt,t[8]=M^~g&v,t[9]=_^~m&y,t[18]=R^~S&N,t[19]=T^~I&x,t[28]=H^~k&D,t[29]=K^~U&F,t[38]=$^~Q&Y,t[39]=tt^~G&J,t[48]=ut^~et&it,t[49]=ft^~rt&nt,t[0]^=f[i],t[1]^=f[i+1]};if(s)t.exports=E;else for(_=0;_<M.length;++_)i[M[_]]=E[M[_]]}()}(Ua);let Da=!1,Fa=!1;const La={debug:1,default:2,info:2,warning:3,error:4,off:5};let qa=La.default,ja=null;const za=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch{t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var Ha,Ka;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Ha||(Ha={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(Ka||(Ka={}));const Qa="0123456789abcdef";class Ga{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==La[r]&&this.throwArgumentError("invalid log level name","logLevel",t),!(qa>La[r])&&console.log.apply(console,e)}debug(...t){this._log(Ga.levels.DEBUG,t)}info(...t){this._log(Ga.levels.INFO,t)}warn(...t){this._log(Ga.levels.WARNING,t)}makeError(t,e,r){if(Fa)return this.makeError("censored error",e,{});e||(e=Ga.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=Qa[e[t]>>4],r+=Qa[15&e[t]];i.push(t+"=Uint8Array(0x"+r+")")}else i.push(t+"="+JSON.stringify(e))}catch{i.push(t+"="+JSON.stringify(r[t].toString()))}})),i.push(`code=${e}`),i.push(`version=${this.version}`);const n=t;let s="";switch(e){case Ka.NUMERIC_FAULT:{s="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":s+="-"+e;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case Ka.CALL_EXCEPTION:case Ka.INSUFFICIENT_FUNDS:case Ka.MISSING_NEW:case Ka.NONCE_EXPIRED:case Ka.REPLACEMENT_UNDERPRICED:case Ka.TRANSACTION_REPLACED:case Ka.UNPREDICTABLE_GAS_LIMIT:s=e}s&&(t+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(t+=" ("+i.join(", ")+")");const o=new Error(t);return o.reason=n,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Ga.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,i){t||this.throwError(e,r,i)}assertArgument(t,e,r,i){t||this.throwArgumentError(e,r,i)}checkNormalize(t){za&&this.throwError("platform missing String.prototype.normalize",Ga.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:za})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Ga.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Ga.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Ga.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Ga.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){(t===Object||null==t)&&this.throwError("missing new",Ga.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Ga.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||null==t)&&this.throwError("missing new",Ga.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return ja||(ja=new Ga("logger/5.7.0")),ja}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Ga.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Da){if(!t)return;this.globalLogger().throwError("error censorship permanent",Ga.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Fa=!!t,Da=!!e}static setLogLevel(t){const e=La[t.toLowerCase()];null!=e?qa=e:Ga.globalLogger().warn("invalid log level - "+t)}static from(t){return new Ga(t)}}Ga.errors=Ka,Ga.levels=Ha;const Ya=new Ga("bytes/5.7.0");function Ja(t){return!!t.toHexString}function Wa(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Wa(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Va(t){return"number"==typeof t&&t==t&&t%1===0}function Xa(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t||!Va(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Va(r)||r<0||r>=256)return!1}return!0}function Za(t,e){if(e||(e={}),"number"==typeof t){Ya.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Wa(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Ja(t)&&(t=t.toHexString()),$a(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":Ya.throwArgumentError("hex data is odd-length","value",t));const i=[];for(let t=0;t<r.length;t+=2)i.push(parseInt(r.substring(t,t+2),16));return Wa(new Uint8Array(i))}return Xa(t)?Wa(new Uint8Array(t)):Ya.throwArgumentError("invalid arrayify value","value",t)}function $a(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const th="0123456789abcdef";function eh(t,e){if(e||(e={}),"number"==typeof t){Ya.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=th[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Ja(t))return t.toHexString();if($a(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Ya.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Xa(t)){let e="0x";for(let r=0;r<t.length;r++){let i=t[r];e+=th[(240&i)>>4]+th[15&i]}return e}return Ya.throwArgumentError("invalid hexlify value","value",t)}function rh(t,e){for("string"!=typeof t?t=eh(t):$a(t)||Ya.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Ya.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}var ih={exports:{}},nh=function(t){var e=t.default;if("function"==typeof e){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var i=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,i.get?i:{enumerable:!0,get:function(){return t[e]}})})),r}(Object.freeze({__proto__:null,default:{}}));!function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function n(t,e,r){if(n.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(("le"===e||"be"===e)&&(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;try{s=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:nh.Buffer}catch{}function o(t,e){var i=t.charCodeAt(e);return i>=48&&i<=57?i-48:i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:void r(!1,"Invalid character in "+t)}function a(t,e,r){var i=o(t,r);return r-1>=e&&(i|=o(t,r-1)<<4),i}function h(t,e,i,n){for(var s=0,o=0,a=Math.min(t.length,i),h=e;h<a;h++){var u=t.charCodeAt(h)-48;s*=n,o=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&o<n,"Invalid character"),s+=o}return s}function u(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(n.isBN=function(t){return t instanceof n||null!==t&&"object"==typeof t&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,e){return t.cmp(e)>0?t:e},n.min=function(t,e){return t.cmp(e)<0?t:e},n.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,i):(this._parseBase(t,e,n),"le"===i&&this._initArray(this.toArray(),e,i)))},n.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},n.prototype._initArray=function(t,e,i){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var s,o,a=0;if("be"===i)for(n=t.length-1,s=0;n>=0;n-=3)o=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===i)for(n=0,s=0;n<t.length;n+=3)o=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},n.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,s=0,o=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=a(t,e,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;else for(i=(t.length-e)%2===0?e+1:e;i<t.length;i+=2)n=a(t,e,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;this._strip()},n.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var s=t.length-r,o=s%i,a=Math.min(s,s-o)+r,u=0,f=r;f<a;f+=i)u=h(t,f,f+i,e),this.imuln(n),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var c=1;for(u=h(t,f,t.length,e),f=0;f<o;f++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},n.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},n.prototype._move=function(t){u(t,this)},n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{n.prototype.inspect=f}else n.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var n=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<n|s)).toString(16);s=a>>>24-n&16777215,(n+=2)>=26&&(n-=26,o--),i=0!==s||o!==this.length-1?c[6-h.length]+h+i:h+i}for(0!==s&&(i=s.toString(16)+i);i.length%e!==0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var u=l[t],f=d[t];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modrn(f).toString(t);i=(p=p.idivn(f)).isZero()?g+i:c[u-g.length]+g+i}for(this.isZero()&&(i="0"+i);i.length%e!==0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},n.prototype.toJSON=function(){return this.toString(16,2)},s&&(n.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),n.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function p(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],s=0|e.words[0],o=n*s,a=67108863&o,h=o/67108864|0;r.words[0]=a;for(var u=1;u<i;u++){for(var f=h>>>26,c=67108863&h,l=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=l;d++){var p=u-d|0;f+=(o=(n=0|t.words[p])*(s=0|e.words[d])+c)/67108864|0,c=67108863&o}r.words[u]=0|c,h=0|f}return 0!==h?r.words[u]=0|h:r.length--,r._strip()}n.prototype.toArrayLike=function(t,e,i){this._strip();var n=this.byteLength(),s=i||Math.max(1,n);r(n<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,n),o},n.prototype._toArrayLikeLE=function(t,e){for(var r=0,i=0,n=0,s=0;n<this.length;n++){var o=this.words[n]<<s|i;t[r++]=255&o,r<t.length&&(t[r++]=o>>8&255),r<t.length&&(t[r++]=o>>16&255),6===s?(r<t.length&&(t[r++]=o>>24&255),i=0,s=0):(i=o>>>24,s+=2)}if(r<t.length)for(t[r++]=i;r<t.length;)t[r++]=0},n.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,i=0,n=0,s=0;n<this.length;n++){var o=this.words[n]<<s|i;t[r--]=255&o,r>=0&&(t[r--]=o>>8&255),r>=0&&(t[r--]=o>>16&255),6===s?(r>=0&&(t[r--]=o>>24&255),i=0,s=0):(i=o>>>24,s+=2)}if(r>=0)for(t[r--]=i;r>=0;)t[r--]=0},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},n.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 8191&e||(r+=13,e>>>=13),127&e||(r+=7,e>>>=7),15&e||(r+=4,e>>>=4),3&e||(r+=2,e>>>=2),1&e||r++,r},n.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},n.prototype.ior=function(t){return r(0===(this.negative|t.negative)),this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},n.prototype.iand=function(t){return r(0===(this.negative|t.negative)),this.iuand(t)},n.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this._strip()},n.prototype.ixor=function(t){return r(0===(this.negative|t.negative)),this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this._strip()},n.prototype.notn=function(t){return this.clone().inotn(t)},n.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<n:this.words[i]&~(1<<n),this._strip()},n.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,s=0;s<i.length;s++)e=(0|r.words[s])+(0|i.words[s])+n,this.words[s]=67108863&e,n=e>>>26;for(;0!==n&&s<r.length;s++)e=(0|r.words[s])+n,this.words[s]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},n.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var s=0,o=0;o<i.length;o++)s=(e=(0|r.words[o])-(0|i.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var i,n,s,o=t.words,a=e.words,h=r.words,u=0,f=0|o[0],c=8191&f,l=f>>>13,d=0|o[1],p=8191&d,g=d>>>13,m=0|o[2],v=8191&m,y=m>>>13,w=0|o[3],b=8191&w,A=w>>>13,E=0|o[4],M=8191&E,_=E>>>13,S=0|o[5],I=8191&S,N=S>>>13,x=0|o[6],C=8191&x,O=x>>>13,B=0|o[7],P=8191&B,R=B>>>13,T=0|o[8],k=8191&T,U=T>>>13,D=0|o[9],F=8191&D,L=D>>>13,q=0|a[0],j=8191&q,z=q>>>13,H=0|a[1],K=8191&H,Q=H>>>13,G=0|a[2],Y=8191&G,J=G>>>13,W=0|a[3],V=8191&W,X=W>>>13,Z=0|a[4],$=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,it=et>>>13,nt=0|a[6],st=8191&nt,ot=nt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,ft=0|a[8],ct=8191&ft,lt=ft>>>13,dt=0|a[9],pt=8191&dt,gt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(u+(i=Math.imul(c,j))|0)+((8191&(n=(n=Math.imul(c,z))+Math.imul(l,j)|0))<<13)|0;u=((s=Math.imul(l,z))+(n>>>13)|0)+(mt>>>26)|0,mt&=67108863,i=Math.imul(p,j),n=(n=Math.imul(p,z))+Math.imul(g,j)|0,s=Math.imul(g,z);var vt=(u+(i=i+Math.imul(c,K)|0)|0)+((8191&(n=(n=n+Math.imul(c,Q)|0)+Math.imul(l,K)|0))<<13)|0;u=((s=s+Math.imul(l,Q)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(v,j),n=(n=Math.imul(v,z))+Math.imul(y,j)|0,s=Math.imul(y,z),i=i+Math.imul(p,K)|0,n=(n=n+Math.imul(p,Q)|0)+Math.imul(g,K)|0,s=s+Math.imul(g,Q)|0;var yt=(u+(i=i+Math.imul(c,Y)|0)|0)+((8191&(n=(n=n+Math.imul(c,J)|0)+Math.imul(l,Y)|0))<<13)|0;u=((s=s+Math.imul(l,J)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(b,j),n=(n=Math.imul(b,z))+Math.imul(A,j)|0,s=Math.imul(A,z),i=i+Math.imul(v,K)|0,n=(n=n+Math.imul(v,Q)|0)+Math.imul(y,K)|0,s=s+Math.imul(y,Q)|0,i=i+Math.imul(p,Y)|0,n=(n=n+Math.imul(p,J)|0)+Math.imul(g,Y)|0,s=s+Math.imul(g,J)|0;var wt=(u+(i=i+Math.imul(c,V)|0)|0)+((8191&(n=(n=n+Math.imul(c,X)|0)+Math.imul(l,V)|0))<<13)|0;u=((s=s+Math.imul(l,X)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(M,j),n=(n=Math.imul(M,z))+Math.imul(_,j)|0,s=Math.imul(_,z),i=i+Math.imul(b,K)|0,n=(n=n+Math.imul(b,Q)|0)+Math.imul(A,K)|0,s=s+Math.imul(A,Q)|0,i=i+Math.imul(v,Y)|0,n=(n=n+Math.imul(v,J)|0)+Math.imul(y,Y)|0,s=s+Math.imul(y,J)|0,i=i+Math.imul(p,V)|0,n=(n=n+Math.imul(p,X)|0)+Math.imul(g,V)|0,s=s+Math.imul(g,X)|0;var bt=(u+(i=i+Math.imul(c,$)|0)|0)+((8191&(n=(n=n+Math.imul(c,tt)|0)+Math.imul(l,$)|0))<<13)|0;u=((s=s+Math.imul(l,tt)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(I,j),n=(n=Math.imul(I,z))+Math.imul(N,j)|0,s=Math.imul(N,z),i=i+Math.imul(M,K)|0,n=(n=n+Math.imul(M,Q)|0)+Math.imul(_,K)|0,s=s+Math.imul(_,Q)|0,i=i+Math.imul(b,Y)|0,n=(n=n+Math.imul(b,J)|0)+Math.imul(A,Y)|0,s=s+Math.imul(A,J)|0,i=i+Math.imul(v,V)|0,n=(n=n+Math.imul(v,X)|0)+Math.imul(y,V)|0,s=s+Math.imul(y,X)|0,i=i+Math.imul(p,$)|0,n=(n=n+Math.imul(p,tt)|0)+Math.imul(g,$)|0,s=s+Math.imul(g,tt)|0;var At=(u+(i=i+Math.imul(c,rt)|0)|0)+((8191&(n=(n=n+Math.imul(c,it)|0)+Math.imul(l,rt)|0))<<13)|0;u=((s=s+Math.imul(l,it)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(C,j),n=(n=Math.imul(C,z))+Math.imul(O,j)|0,s=Math.imul(O,z),i=i+Math.imul(I,K)|0,n=(n=n+Math.imul(I,Q)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,Q)|0,i=i+Math.imul(M,Y)|0,n=(n=n+Math.imul(M,J)|0)+Math.imul(_,Y)|0,s=s+Math.imul(_,J)|0,i=i+Math.imul(b,V)|0,n=(n=n+Math.imul(b,X)|0)+Math.imul(A,V)|0,s=s+Math.imul(A,X)|0,i=i+Math.imul(v,$)|0,n=(n=n+Math.imul(v,tt)|0)+Math.imul(y,$)|0,s=s+Math.imul(y,tt)|0,i=i+Math.imul(p,rt)|0,n=(n=n+Math.imul(p,it)|0)+Math.imul(g,rt)|0,s=s+Math.imul(g,it)|0;var Et=(u+(i=i+Math.imul(c,st)|0)|0)+((8191&(n=(n=n+Math.imul(c,ot)|0)+Math.imul(l,st)|0))<<13)|0;u=((s=s+Math.imul(l,ot)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(P,j),n=(n=Math.imul(P,z))+Math.imul(R,j)|0,s=Math.imul(R,z),i=i+Math.imul(C,K)|0,n=(n=n+Math.imul(C,Q)|0)+Math.imul(O,K)|0,s=s+Math.imul(O,Q)|0,i=i+Math.imul(I,Y)|0,n=(n=n+Math.imul(I,J)|0)+Math.imul(N,Y)|0,s=s+Math.imul(N,J)|0,i=i+Math.imul(M,V)|0,n=(n=n+Math.imul(M,X)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,X)|0,i=i+Math.imul(b,$)|0,n=(n=n+Math.imul(b,tt)|0)+Math.imul(A,$)|0,s=s+Math.imul(A,tt)|0,i=i+Math.imul(v,rt)|0,n=(n=n+Math.imul(v,it)|0)+Math.imul(y,rt)|0,s=s+Math.imul(y,it)|0,i=i+Math.imul(p,st)|0,n=(n=n+Math.imul(p,ot)|0)+Math.imul(g,st)|0,s=s+Math.imul(g,ot)|0;var Mt=(u+(i=i+Math.imul(c,ht)|0)|0)+((8191&(n=(n=n+Math.imul(c,ut)|0)+Math.imul(l,ht)|0))<<13)|0;u=((s=s+Math.imul(l,ut)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(k,j),n=(n=Math.imul(k,z))+Math.imul(U,j)|0,s=Math.imul(U,z),i=i+Math.imul(P,K)|0,n=(n=n+Math.imul(P,Q)|0)+Math.imul(R,K)|0,s=s+Math.imul(R,Q)|0,i=i+Math.imul(C,Y)|0,n=(n=n+Math.imul(C,J)|0)+Math.imul(O,Y)|0,s=s+Math.imul(O,J)|0,i=i+Math.imul(I,V)|0,n=(n=n+Math.imul(I,X)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,X)|0,i=i+Math.imul(M,$)|0,n=(n=n+Math.imul(M,tt)|0)+Math.imul(_,$)|0,s=s+Math.imul(_,tt)|0,i=i+Math.imul(b,rt)|0,n=(n=n+Math.imul(b,it)|0)+Math.imul(A,rt)|0,s=s+Math.imul(A,it)|0,i=i+Math.imul(v,st)|0,n=(n=n+Math.imul(v,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,i=i+Math.imul(p,ht)|0,n=(n=n+Math.imul(p,ut)|0)+Math.imul(g,ht)|0,s=s+Math.imul(g,ut)|0;var _t=(u+(i=i+Math.imul(c,ct)|0)|0)+((8191&(n=(n=n+Math.imul(c,lt)|0)+Math.imul(l,ct)|0))<<13)|0;u=((s=s+Math.imul(l,lt)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(F,j),n=(n=Math.imul(F,z))+Math.imul(L,j)|0,s=Math.imul(L,z),i=i+Math.imul(k,K)|0,n=(n=n+Math.imul(k,Q)|0)+Math.imul(U,K)|0,s=s+Math.imul(U,Q)|0,i=i+Math.imul(P,Y)|0,n=(n=n+Math.imul(P,J)|0)+Math.imul(R,Y)|0,s=s+Math.imul(R,J)|0,i=i+Math.imul(C,V)|0,n=(n=n+Math.imul(C,X)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,X)|0,i=i+Math.imul(I,$)|0,n=(n=n+Math.imul(I,tt)|0)+Math.imul(N,$)|0,s=s+Math.imul(N,tt)|0,i=i+Math.imul(M,rt)|0,n=(n=n+Math.imul(M,it)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,it)|0,i=i+Math.imul(b,st)|0,n=(n=n+Math.imul(b,ot)|0)+Math.imul(A,st)|0,s=s+Math.imul(A,ot)|0,i=i+Math.imul(v,ht)|0,n=(n=n+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,s=s+Math.imul(y,ut)|0,i=i+Math.imul(p,ct)|0,n=(n=n+Math.imul(p,lt)|0)+Math.imul(g,ct)|0,s=s+Math.imul(g,lt)|0;var St=(u+(i=i+Math.imul(c,pt)|0)|0)+((8191&(n=(n=n+Math.imul(c,gt)|0)+Math.imul(l,pt)|0))<<13)|0;u=((s=s+Math.imul(l,gt)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(F,K),n=(n=Math.imul(F,Q))+Math.imul(L,K)|0,s=Math.imul(L,Q),i=i+Math.imul(k,Y)|0,n=(n=n+Math.imul(k,J)|0)+Math.imul(U,Y)|0,s=s+Math.imul(U,J)|0,i=i+Math.imul(P,V)|0,n=(n=n+Math.imul(P,X)|0)+Math.imul(R,V)|0,s=s+Math.imul(R,X)|0,i=i+Math.imul(C,$)|0,n=(n=n+Math.imul(C,tt)|0)+Math.imul(O,$)|0,s=s+Math.imul(O,tt)|0,i=i+Math.imul(I,rt)|0,n=(n=n+Math.imul(I,it)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,it)|0,i=i+Math.imul(M,st)|0,n=(n=n+Math.imul(M,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,i=i+Math.imul(b,ht)|0,n=(n=n+Math.imul(b,ut)|0)+Math.imul(A,ht)|0,s=s+Math.imul(A,ut)|0,i=i+Math.imul(v,ct)|0,n=(n=n+Math.imul(v,lt)|0)+Math.imul(y,ct)|0,s=s+Math.imul(y,lt)|0;var It=(u+(i=i+Math.imul(p,pt)|0)|0)+((8191&(n=(n=n+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;u=((s=s+Math.imul(g,gt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(F,Y),n=(n=Math.imul(F,J))+Math.imul(L,Y)|0,s=Math.imul(L,J),i=i+Math.imul(k,V)|0,n=(n=n+Math.imul(k,X)|0)+Math.imul(U,V)|0,s=s+Math.imul(U,X)|0,i=i+Math.imul(P,$)|0,n=(n=n+Math.imul(P,tt)|0)+Math.imul(R,$)|0,s=s+Math.imul(R,tt)|0,i=i+Math.imul(C,rt)|0,n=(n=n+Math.imul(C,it)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,it)|0,i=i+Math.imul(I,st)|0,n=(n=n+Math.imul(I,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,i=i+Math.imul(M,ht)|0,n=(n=n+Math.imul(M,ut)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,ut)|0,i=i+Math.imul(b,ct)|0,n=(n=n+Math.imul(b,lt)|0)+Math.imul(A,ct)|0,s=s+Math.imul(A,lt)|0;var Nt=(u+(i=i+Math.imul(v,pt)|0)|0)+((8191&(n=(n=n+Math.imul(v,gt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((s=s+Math.imul(y,gt)|0)+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,i=Math.imul(F,V),n=(n=Math.imul(F,X))+Math.imul(L,V)|0,s=Math.imul(L,X),i=i+Math.imul(k,$)|0,n=(n=n+Math.imul(k,tt)|0)+Math.imul(U,$)|0,s=s+Math.imul(U,tt)|0,i=i+Math.imul(P,rt)|0,n=(n=n+Math.imul(P,it)|0)+Math.imul(R,rt)|0,s=s+Math.imul(R,it)|0,i=i+Math.imul(C,st)|0,n=(n=n+Math.imul(C,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,i=i+Math.imul(I,ht)|0,n=(n=n+Math.imul(I,ut)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ut)|0,i=i+Math.imul(M,ct)|0,n=(n=n+Math.imul(M,lt)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,lt)|0;var xt=(u+(i=i+Math.imul(b,pt)|0)|0)+((8191&(n=(n=n+Math.imul(b,gt)|0)+Math.imul(A,pt)|0))<<13)|0;u=((s=s+Math.imul(A,gt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(F,$),n=(n=Math.imul(F,tt))+Math.imul(L,$)|0,s=Math.imul(L,tt),i=i+Math.imul(k,rt)|0,n=(n=n+Math.imul(k,it)|0)+Math.imul(U,rt)|0,s=s+Math.imul(U,it)|0,i=i+Math.imul(P,st)|0,n=(n=n+Math.imul(P,ot)|0)+Math.imul(R,st)|0,s=s+Math.imul(R,ot)|0,i=i+Math.imul(C,ht)|0,n=(n=n+Math.imul(C,ut)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ut)|0,i=i+Math.imul(I,ct)|0,n=(n=n+Math.imul(I,lt)|0)+Math.imul(N,ct)|0,s=s+Math.imul(N,lt)|0;var Ct=(u+(i=i+Math.imul(M,pt)|0)|0)+((8191&(n=(n=n+Math.imul(M,gt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((s=s+Math.imul(_,gt)|0)+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,i=Math.imul(F,rt),n=(n=Math.imul(F,it))+Math.imul(L,rt)|0,s=Math.imul(L,it),i=i+Math.imul(k,st)|0,n=(n=n+Math.imul(k,ot)|0)+Math.imul(U,st)|0,s=s+Math.imul(U,ot)|0,i=i+Math.imul(P,ht)|0,n=(n=n+Math.imul(P,ut)|0)+Math.imul(R,ht)|0,s=s+Math.imul(R,ut)|0,i=i+Math.imul(C,ct)|0,n=(n=n+Math.imul(C,lt)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,lt)|0;var Ot=(u+(i=i+Math.imul(I,pt)|0)|0)+((8191&(n=(n=n+Math.imul(I,gt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((s=s+Math.imul(N,gt)|0)+(n>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,i=Math.imul(F,st),n=(n=Math.imul(F,ot))+Math.imul(L,st)|0,s=Math.imul(L,ot),i=i+Math.imul(k,ht)|0,n=(n=n+Math.imul(k,ut)|0)+Math.imul(U,ht)|0,s=s+Math.imul(U,ut)|0,i=i+Math.imul(P,ct)|0,n=(n=n+Math.imul(P,lt)|0)+Math.imul(R,ct)|0,s=s+Math.imul(R,lt)|0;var Bt=(u+(i=i+Math.imul(C,pt)|0)|0)+((8191&(n=(n=n+Math.imul(C,gt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((s=s+Math.imul(O,gt)|0)+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,i=Math.imul(F,ht),n=(n=Math.imul(F,ut))+Math.imul(L,ht)|0,s=Math.imul(L,ut),i=i+Math.imul(k,ct)|0,n=(n=n+Math.imul(k,lt)|0)+Math.imul(U,ct)|0,s=s+Math.imul(U,lt)|0;var Pt=(u+(i=i+Math.imul(P,pt)|0)|0)+((8191&(n=(n=n+Math.imul(P,gt)|0)+Math.imul(R,pt)|0))<<13)|0;u=((s=s+Math.imul(R,gt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,i=Math.imul(F,ct),n=(n=Math.imul(F,lt))+Math.imul(L,ct)|0,s=Math.imul(L,lt);var Rt=(u+(i=i+Math.imul(k,pt)|0)|0)+((8191&(n=(n=n+Math.imul(k,gt)|0)+Math.imul(U,pt)|0))<<13)|0;u=((s=s+Math.imul(U,gt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863;var Tt=(u+(i=Math.imul(F,pt))|0)+((8191&(n=(n=Math.imul(F,gt))+Math.imul(L,pt)|0))<<13)|0;return u=((s=Math.imul(L,gt))+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,h[0]=mt,h[1]=vt,h[2]=yt,h[3]=wt,h[4]=bt,h[5]=At,h[6]=Et,h[7]=Mt,h[8]=_t,h[9]=St,h[10]=It,h[11]=Nt,h[12]=xt,h[13]=Ct,h[14]=Ot,h[15]=Bt,h[16]=Pt,h[17]=Rt,h[18]=Tt,0!==u&&(h[19]=u,r.length++),r};function m(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,s=0;s<r.length-1;s++){var o=n;n=0;for(var a=67108863&i,h=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=h;u++){var f=s-u,c=(0|t.words[f])*(0|e.words[u]),l=67108863&c;a=67108863&(l=l+a|0),n+=(o=(o=o+(c/67108864|0)|0)+(l>>>26)|0)>>>26,o&=67108863}r.words[s]=a,i=o,o=n}return 0!==i?r.words[s]=i:r.length--,r._strip()}function v(t,e,r){return m(t,e,r)}Math.imul||(g=p),n.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?p(this,t,e):r<1024?m(this,t,e):v(this,t,e)},n.prototype.mul=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},n.prototype.mulf=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),v(this,t,e)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"==typeof t),r(t<67108864);for(var i=0,n=0;n<this.length;n++){var s=(0|this.words[n])*t,o=(67108863&s)+(67108863&i);i>>=26,i+=s/67108864|0,i+=o>>>26,this.words[n]=67108863&o}return 0!==i&&(this.words[n]=i,this.length++),e?this.ineg():this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=t.words[i]>>>n&1}return e}(t);if(0===e.length)return new n(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var s=r.sqr();i<e.length;i++,s=s.sqr())0!==e[i]&&(r=r.mul(s));return r},n.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,i=t%26,n=(t-i)/26,s=67108863>>>26-i<<26-i;if(0!==i){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<i;this.words[e]=h|o,o=a>>>26-i}o&&(this.words[e]=o,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this._strip()},n.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,e,i){var n;r("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=i;if(n-=o,n=Math.max(0,n),h){for(var u=0;u<o;u++)h.words[u]=this.words[u];h.length=o}if(0!==o)if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var f=0;for(u=this.length-1;u>=0&&(0!==f||u>=n);u--){var c=0|this.words[u];this.words[u]=f<<26-s|c>>>s,f=c&a}return h&&0!==f&&(h.words[h.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(t,e,i){return r(0===this.negative),this.iushrn(t,e,i)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,n=1<<e;return!(this.length<=i)&&!!(this.words[i]&n)},n.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this._strip()},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},n.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,e,i){var n,s=t.length+i;this._expand(s);var o,a=0;for(n=0;n<t.length;n++){o=(0|this.words[n+i])+a;var h=(0|t.words[n])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[n+i]=67108863&o}for(;n<this.length-i;n++)a=(o=(0|this.words[n+i])+a)>>26,this.words[n+i]=67108863&o;if(0===a)return this._strip();for(r(-1===a),a=0,n=0;n<this.length;n++)a=(o=-(0|this.words[n])+a)>>26,this.words[n]=67108863&o;return this.negative=1,this._strip()},n.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),s=t,o=0|s.words[s.length-1];0!==(r=26-this._countBits(o))&&(s=s.ushln(r),i.iushln(r),o=0|s.words[s.length-1]);var a,h=i.length-s.length;if("mod"!==e){(a=new n(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var f=i.clone()._ishlnsubmul(s,1,h);0===f.negative&&(i=f,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var l=67108864*(0|i.words[s.length+c])+(0|i.words[s.length+c-1]);for(l=Math.min(l/o|0,67108863),i._ishlnsubmul(s,l,c);0!==i.negative;)l--,i.negative=0,i._ishlnsubmul(s,1,c),i.isZero()||(i.negative^=1);a&&(a.words[c]=l)}return a&&a._strip(),i._strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},n.prototype.divmod=function(t,e,i){return r(!t.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(s=a.div.neg()),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.iadd(t)),{div:s,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(s=a.div.neg()),{div:s,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new n(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new n(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modrn(t.words[0]))}:this._wordDiv(t,e);var s,o,a},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),s=r.cmp(i);return s<0||1===n&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},n.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var i=(1<<26)%t,n=0,s=this.length-1;s>=0;s--)n=(i*n+(0|this.words[s]))%t;return e?-n:n},n.prototype.modn=function(t){return this.modrn(t)},n.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var i=0,n=this.length-1;n>=0;n--){var s=(0|this.words[n])+67108864*i;this.words[n]=s/t|0,i=s%t}return this._strip(),e?this.ineg():this},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var s=new n(1),o=new n(0),a=new n(0),h=new n(1),u=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++u;for(var f=i.clone(),c=e.clone();!e.isZero();){for(var l=0,d=1;!(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-->0;)(s.isOdd()||o.isOdd())&&(s.iadd(f),o.isub(c)),s.iushrn(1),o.iushrn(1);for(var p=0,g=1;!(i.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(i.iushrn(p);p-->0;)(a.isOdd()||h.isOdd())&&(a.iadd(f),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(i)>=0?(e.isub(i),s.isub(a),o.isub(h)):(i.isub(e),a.isub(s),h.isub(o))}return{a:a,b:h,gcd:i.iushln(u)}},n.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e,i=this,s=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var o=new n(1),a=new n(0),h=s.clone();i.cmpn(1)>0&&s.cmpn(1)>0;){for(var u=0,f=1;!(i.words[0]&f)&&u<26;++u,f<<=1);if(u>0)for(i.iushrn(u);u-->0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var c=0,l=1;!(s.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(s.iushrn(c);c-->0;)a.isOdd()&&a.iadd(h),a.iushrn(1);i.cmp(s)>=0?(i.isub(s),o.isub(a)):(s.isub(i),a.isub(o))}return(e=0===i.cmpn(1)?o:a).cmpn(0)<0&&e.iadd(t),e},n.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var s=e;e=r,r=s}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return 0===(1&this.words[0])},n.prototype.isOdd=function(){return 1===(1&this.words[0])},n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var s=n,o=i;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this._strip(),this.length>1)e=1;else{i&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},n.prototype.gtn=function(t){return 1===this.cmpn(t)},n.prototype.gt=function(t){return 1===this.cmp(t)},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return-1===this.cmpn(t)},n.prototype.lt=function(t){return-1===this.cmp(t)},n.prototype.lten=function(t){return this.cmpn(t)<=0},n.prototype.lte=function(t){return this.cmp(t)<=0},n.prototype.eqn=function(t){return 0===this.cmpn(t)},n.prototype.eq=function(t){return 0===this.cmp(t)},n.red=function(t){return new _(t)},n.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},n.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new n(e,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function A(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(t){if("string"==typeof t){var e=n._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function S(t){_.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new n(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},i(b,w),b.prototype.split=function(t,e){for(var r=4194303,i=Math.min(t.length,9),n=0;n<i;n++)e.words[n]=t.words[n];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[n-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(A,w),i(E,w),i(M,w),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},n._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new A;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return y[t]=e,e},_.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},_.prototype._verify2=function(t,e){r(0===(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},_.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(u(t,t.umod(this.m)._forceRed(this)),t)},_.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},_.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},_.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},_.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},_.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},_.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},_.prototype.isqr=function(t){return this.imul(t,t.clone())},_.prototype.sqr=function(t){return this.mul(t,t)},_.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2===1),3===e){var i=this.m.add(new n(1)).iushrn(2);return this.pow(t,i)}for(var s=this.m.subn(1),o=0;!s.isZero()&&0===s.andln(1);)o++,s.iushrn(1);r(!s.isZero());var a=new n(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new n(2*f*f).toRed(this);0!==this.pow(f,u).cmp(h);)f.redIAdd(h);for(var c=this.pow(f,s),l=this.pow(t,s.addn(1).iushrn(1)),d=this.pow(t,s),p=o;0!==d.cmp(a);){for(var g=d,m=0;0!==g.cmp(a);m++)g=g.redSqr();r(m<p);var v=this.pow(c,new n(1).iushln(p-m-1));l=l.redMul(v),c=v.redSqr(),d=d.redMul(c),p=m}return l},_.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},_.prototype.pow=function(t,e){if(e.isZero())return new n(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new n(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var s=r[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),i=e.length-1;i>=0;i--){for(var u=e.words[i],f=h-1;f>=0;f--){var c=u>>f&1;(s!==r[0]&&(s=this.sqr(s)),0!==c||0!==o)?(o<<=1,o|=c,(4===++a||0===i&&0===f)&&(s=this.mul(s,r[o]),a=0,o=0)):a=0}h=26}return s},_.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},_.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},n.mont=function(t){return new S(t)},i(S,_),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},S.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},S.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new n(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=r.isub(i).iushrn(this.shift),o=s;return s.cmp(this.m)>=0?o=s.isub(this.m):s.cmpn(0)<0&&(o=s.iadd(this.m)),o._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,ka)}(ih);var sh=ih.exports;const oh="bignumber/5.7.0";var ah=sh.BN;const hh=new Ga(oh),uh={},fh=9007199254740991;let ch=!1;class lh{constructor(t,e){t!==uh&&hh.throwError("cannot call constructor directly; use BigNumber.from",Ga.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return ph(gh(this).fromTwos(t))}toTwos(t){return ph(gh(this).toTwos(t))}abs(){return"-"===this._hex[0]?lh.from(this._hex.substring(1)):this}add(t){return ph(gh(this).add(gh(t)))}sub(t){return ph(gh(this).sub(gh(t)))}div(t){return lh.from(t).isZero()&&mh("division-by-zero","div"),ph(gh(this).div(gh(t)))}mul(t){return ph(gh(this).mul(gh(t)))}mod(t){const e=gh(t);return e.isNeg()&&mh("division-by-zero","mod"),ph(gh(this).umod(e))}pow(t){const e=gh(t);return e.isNeg()&&mh("negative-power","pow"),ph(gh(this).pow(e))}and(t){const e=gh(t);return(this.isNegative()||e.isNeg())&&mh("unbound-bitwise-result","and"),ph(gh(this).and(e))}or(t){const e=gh(t);return(this.isNegative()||e.isNeg())&&mh("unbound-bitwise-result","or"),ph(gh(this).or(e))}xor(t){const e=gh(t);return(this.isNegative()||e.isNeg())&&mh("unbound-bitwise-result","xor"),ph(gh(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&mh("negative-width","mask"),ph(gh(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&mh("negative-width","shl"),ph(gh(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&mh("negative-width","shr"),ph(gh(this).shrn(t))}eq(t){return gh(this).eq(gh(t))}lt(t){return gh(this).lt(gh(t))}lte(t){return gh(this).lte(gh(t))}gt(t){return gh(this).gt(gh(t))}gte(t){return gh(this).gte(gh(t))}isNegative(){return"-"===this._hex[0]}isZero(){return gh(this).isZero()}toNumber(){try{return gh(this).toNumber()}catch{mh("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return hh.throwError("this platform does not support BigInt",Ga.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?ch||(ch=!0,hh.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?hh.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Ga.errors.UNEXPECTED_ARGUMENT,{}):hh.throwError("BigNumber.toString does not accept parameters",Ga.errors.UNEXPECTED_ARGUMENT,{})),gh(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof lh)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new lh(uh,dh(t)):t.match(/^-?[0-9]+$/)?new lh(uh,dh(new ah(t))):hh.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&mh("underflow","BigNumber.from",t),(t>=fh||t<=-fh)&&mh("overflow","BigNumber.from",t),lh.from(String(t));const e=t;if("bigint"==typeof e)return lh.from(e.toString());if(Xa(e))return lh.from(eh(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return lh.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&($a(t)||"-"===t[0]&&$a(t.substring(1))))return lh.from(t)}return hh.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function dh(t){if("string"!=typeof t)return dh(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&hh.throwArgumentError("invalid hex","value",t),"0x00"===(t=dh(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function ph(t){return lh.from(dh(t))}function gh(t){const e=lh.from(t).toHexString();return"-"===e[0]?new ah("-"+e.substring(3),16):new ah(e.substring(2),16)}function mh(t,e,r){const i={fault:t,operation:e};return null!=r&&(i.value=r),hh.throwError(t,Ga.errors.NUMERIC_FAULT,i)}const vh=new Ga(oh),yh={},wh=lh.from(0),bh=lh.from(-1);function Ah(t,e,r,i){const n={fault:e,operation:r};return void 0!==i&&(n.value=i),vh.throwError(t,Ga.errors.NUMERIC_FAULT,n)}let Eh="0";for(;Eh.length<256;)Eh+=Eh;function Mh(t){if("number"!=typeof t)try{t=lh.from(t).toNumber()}catch{}return"number"==typeof t&&t>=0&&t<=256&&!(t%1)?"1"+Eh.substring(0,t):vh.throwArgumentError("invalid decimal size","decimals",t)}function _h(t,e){null==e&&(e=0);const r=Mh(e),i=(t=lh.from(t)).lt(wh);i&&(t=t.mul(bh));let n=t.mod(r).toString();for(;n.length<r.length-1;)n="0"+n;n=n.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return t=1===r.length?s:s+"."+n,i&&(t="-"+t),t}function Sh(t,e){null==e&&(e=0);const r=Mh(e);("string"!=typeof t||!t.match(/^-?[0-9.]+$/))&&vh.throwArgumentError("invalid decimal value","value",t);const i="-"===t.substring(0,1);i&&(t=t.substring(1)),"."===t&&vh.throwArgumentError("missing value","value",t);const n=t.split(".");n.length>2&&vh.throwArgumentError("too many decimal points","value",t);let s=n[0],o=n[1];for(s||(s="0"),o||(o="0");"0"===o[o.length-1];)o=o.substring(0,o.length-1);for(o.length>r.length-1&&Ah("fractional component exceeds decimals","underflow","parseFixed"),""===o&&(o="0");o.length<r.length-1;)o+="0";const a=lh.from(s),h=lh.from(o);let u=a.mul(r).add(h);return i&&(u=u.mul(bh)),u}class Ih{constructor(t,e,r,i){t!==yh&&vh.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Ga.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=e,this.width=r,this.decimals=i,this.name=(e?"":"u")+"fixed"+String(r)+"x"+String(i),this._multiplier=Mh(i),Object.freeze(this)}static from(t){if(t instanceof Ih)return t;"number"==typeof t&&(t=`fixed128x${t}`);let e=!0,r=128,i=18;if("string"==typeof t){if("fixed"!==t)if("ufixed"===t)e=!1;else{const n=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);n||vh.throwArgumentError("invalid fixed format","format",t),e="u"!==n[1],r=parseInt(n[2]),i=parseInt(n[3])}}else if(t){const n=(e,r,i)=>null==t[e]?i:(typeof t[e]!==r&&vh.throwArgumentError("invalid fixed format ("+e+" not "+r+")","format."+e,t[e]),t[e]);e=n("signed","boolean",e),r=n("width","number",r),i=n("decimals","number",i)}return r%8&&vh.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&vh.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Ih(yh,e,r,i)}}class Nh{constructor(t,e,r,i){t!==yh&&vh.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Ga.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=e,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&vh.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const e=Sh(this._value,this.format.decimals),r=Sh(t._value,t.format.decimals);return Nh.fromValue(e.add(r),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const e=Sh(this._value,this.format.decimals),r=Sh(t._value,t.format.decimals);return Nh.fromValue(e.sub(r),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const e=Sh(this._value,this.format.decimals),r=Sh(t._value,t.format.decimals);return Nh.fromValue(e.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const e=Sh(this._value,this.format.decimals),r=Sh(t._value,t.format.decimals);return Nh.fromValue(e.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=Nh.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return this.isNegative()&&r&&(e=e.subUnsafe(xh.toFormat(e.format))),e}ceiling(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=Nh.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return!this.isNegative()&&r&&(e=e.addUnsafe(xh.toFormat(e.format))),e}round(t){null==t&&(t=0);const e=this.toString().split(".");if(1===e.length&&e.push("0"),(t<0||t>80||t%1)&&vh.throwArgumentError("invalid decimal count","decimals",t),e[1].length<=t)return this;const r=Nh.from("1"+Eh.substring(0,t),this.format),i=Ch.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(i).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(t){if(null==t)return this._hex;t%8&&vh.throwArgumentError("invalid byte width","width",t);return rh(lh.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString(),t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Nh.fromString(this._value,t)}static fromValue(t,e,r){return null==r&&null!=e&&!function(t){return null!=t&&(lh.isBigNumber(t)||"number"==typeof t&&t%1===0||"string"==typeof t&&!!t.match(/^-?[0-9]+$/)||$a(t)||"bigint"==typeof t||Xa(t))}(e)&&(r=e,e=null),null==e&&(e=0),null==r&&(r="fixed"),Nh.fromString(_h(t,e),Ih.from(r))}static fromString(t,e){null==e&&(e="fixed");const r=Ih.from(e),i=Sh(t,r.decimals);!r.signed&&i.lt(wh)&&Ah("unsigned value cannot be negative","overflow","value",t);let n=null;r.signed?n=i.toTwos(r.width).toHexString():(n=i.toHexString(),n=rh(n,r.width/8));const s=_h(i,r.decimals);return new Nh(yh,n,s,r)}static fromBytes(t,e){null==e&&(e="fixed");const r=Ih.from(e);if(Za(t).length>r.width/8)throw new Error("overflow");let i=lh.from(t);r.signed&&(i=i.fromTwos(r.width));const n=i.toTwos((r.signed?0:1)+r.width).toHexString(),s=_h(i,r.decimals);return new Nh(yh,n,s,r)}static from(t,e){if("string"==typeof t)return Nh.fromString(t,e);if(Xa(t))return Nh.fromBytes(t,e);try{return Nh.fromValue(t,0,e)}catch(io){if(io.code!==Ga.errors.INVALID_ARGUMENT)throw io}return vh.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!(!t||!t._isFixedNumber)}}const xh=Nh.from(1),Ch=Nh.from("0.5"),Oh=new Ga("strings/5.7.0");var Bh,Ph;function Rh(t,e,r,i,n){if(t===Ph.BAD_PREFIX||t===Ph.UNEXPECTED_CONTINUE){let t=0;for(let i=e+1;i<r.length&&r[i]>>6===2;i++)t++;return t}return t===Ph.OVERRUN?r.length-e-1:0}function Th(t,e){e||(e=function(t){return[parseInt(t,16)]});let r=0,i={};return t.split(",").forEach((t=>{let n=t.split(":");r+=parseInt(n[0],16),i[r]=e(n[1])})),i}function kh(t){let e=0;return t.split(",").map((t=>{let r=t.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let i=e+parseInt(r[0],16);return e=parseInt(r[1],16),{l:i,h:e}}))}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(Bh||(Bh={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(Ph||(Ph={})),Object.freeze({error:function(t,e,r,i,n){return Oh.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:Rh,replace:function(t,e,r,i,n){return t===Ph.OVERLONG?(i.push(n),0):(i.push(65533),Rh(t,e,r))}}),kh("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((t=>parseInt(t,16))),Th("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Th("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Th("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(t){if(t.length%4!==0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e})),kh("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");const Uh="hash/5.7.0";function Dh(t,e){null==e&&(e=1);const r=[],i=r.forEach,n=function(t,e){i.call(t,(function(t){e>0&&Array.isArray(t)?n(t,e-1):r.push(t)}))};return n(t,e),r}function Fh(t){return function(t){let e=0;return()=>t[e++]}(function(t){let e=0;function r(){return t[e++]<<8|t[e++]}let i=r(),n=1,s=[0,1];for(let b=1;b<i;b++)s.push(n+=r());let o=r(),a=e;e+=o;let h=0,u=0;function f(){return 0==h&&(u=u<<8|t[e++],h=8),u>>--h&1}const c=Math.pow(2,31),l=c>>>1,d=l>>1,p=c-1;let g=0;for(let b=0;b<31;b++)g=g<<1|f();let m=[],v=0,y=c;for(;;){let t=Math.floor(((g-v+1)*n-1)/y),e=0,r=i;for(;r-e>1;){let i=e+r>>>1;t<s[i]?r=i:e=i}if(0==e)break;m.push(e);let o=v+Math.floor(y*s[e]/n),a=v+Math.floor(y*s[e+1]/n)-1;for(;!((o^a)&l);)g=g<<1&p|f(),o=o<<1&p,a=a<<1&p|1;for(;o&~a&d;)g=g&l|g<<1&p>>>1|f(),o=o<<1^l,a=(a^l)<<1|l|1;v=o,y=1+a-o}let w=i-4;return m.map((e=>{switch(e-w){case 3:return w+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return w+256+(t[a++]<<8|t[a++]);case 1:return w+t[a++];default:return e-1}}))}(t))}function Lh(t){return 1&t?~t>>1:t>>1}function qh(t,e){let r=Array(t);for(let i=0,n=-1;i<t;i++)r[i]=n+=1+e();return r}function jh(t,e){let r=Array(t);for(let i=0,n=0;i<t;i++)r[i]=n+=Lh(e());return r}function zh(t,e){let r=qh(t(),t),i=t(),n=qh(i,t),s=function(t,e){let r=Array(t);for(let i=0;i<t;i++)r[i]=1+e();return r}(i,t);for(let o=0;o<i;o++)for(let t=0;t<s[o];t++)r.push(n[o]+t);return e?r.map((t=>e[t])):r}function Hh(t,e,r){let i=Array(t).fill(void 0).map((()=>[]));for(let n=0;n<e;n++)jh(t,r).forEach(((t,e)=>i[e].push(t)));return i}function Kh(t,e){let r=1+e(),i=e(),n=function(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(r)}return e}(e);return Dh(Hh(n.length,1+t,e).map(((t,e)=>{const s=t[0],o=t.slice(1);return Array(n[e]).fill(void 0).map(((t,e)=>{let n=e*i;return[s+e*r,o.map((t=>t+n))]}))})))}function Qh(t,e){return Hh(1+e(),1+t,e).map((t=>[t[0],t.slice(1)]))}const Gh=Fh(function(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Za(e)}("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"));new Set(zh(Gh)),new Set(zh(Gh)),function(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(Kh(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(Qh(r,t))}(function(t){const e={};for(let r=0;r<t.length;r++){const i=t[r];e[i[0]]=i[1]}})(Dh(e))}(Gh),function(t){let e=zh(t).sort(((t,e)=>t-e));(function r(){let i=[];for(;;){let n=zh(t,e);if(0==n.length)break;i.push({set:new Set(n),node:r()})}i.sort(((t,e)=>e.set.size-t.set.size));let n=t(),s=n%3;n=n/3|0;let o=!!(1&n);n>>=1;let a=1==n,h=2==n;return{branches:i,valid:s,fe0f:o,save:a,check:h}})()}(Gh),new Ga(Uh);new Uint8Array(32).fill(0);new Ga("rlp/5.7.0");new Ga("address/5.7.0");const Yh={};for(let dx=0;dx<10;dx++)Yh[String(dx)]=String(dx);for(let dx=0;dx<26;dx++)Yh[String.fromCharCode(65+dx)]=String(10+dx);Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));new Ga("properties/5.7.0"),new Ga(Uh);new Uint8Array(32).fill(0),lh.from(-1);const Jh=lh.from(0),Wh=lh.from(1);lh.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),rh(Wh.toHexString(),32),rh(Jh.toHexString(),32);var Vh={},Xh={},Zh=$h;function $h(t,e){if(!t)throw new Error(e||"Assertion failed")}$h.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var tu={exports:{}};"function"==typeof Object.create?tu.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:tu.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}};var eu=Zh,ru=tu.exports;function iu(t,e){return!(55296!==(64512&t.charCodeAt(e))||e<0||e+1>=t.length)&&56320===(64512&t.charCodeAt(e+1))}function nu(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function su(t){return 1===t.length?"0"+t:t}function ou(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}Xh.inherits=ru,Xh.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var i=0,n=0;n<t.length;n++){var s=t.charCodeAt(n);s<128?r[i++]=s:s<2048?(r[i++]=s>>6|192,r[i++]=63&s|128):iu(t,n)?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++n)),r[i++]=s>>18|240,r[i++]=s>>12&63|128,r[i++]=s>>6&63|128,r[i++]=63&s|128):(r[i++]=s>>12|224,r[i++]=s>>6&63|128,r[i++]=63&s|128)}else for(n=0;n<t.length;n++)r[n]=0|t[n];return r},Xh.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=su(t[r].toString(16));return e},Xh.htonl=nu,Xh.toHex32=function(t,e){for(var r="",i=0;i<t.length;i++){var n=t[i];"little"===e&&(n=nu(n)),r+=ou(n.toString(16))}return r},Xh.zero2=su,Xh.zero8=ou,Xh.join32=function(t,e,r,i){var n=r-e;eu(n%4===0);for(var s=new Array(n/4),o=0,a=e;o<s.length;o++,a+=4){var h;h="big"===i?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=h>>>0}return s},Xh.split32=function(t,e){for(var r=new Array(4*t.length),i=0,n=0;i<t.length;i++,n+=4){var s=t[i];"big"===e?(r[n]=s>>>24,r[n+1]=s>>>16&255,r[n+2]=s>>>8&255,r[n+3]=255&s):(r[n+3]=s>>>24,r[n+2]=s>>>16&255,r[n+1]=s>>>8&255,r[n]=255&s)}return r},Xh.rotr32=function(t,e){return t>>>e|t<<32-e},Xh.rotl32=function(t,e){return t<<e|t>>>32-e},Xh.sum32=function(t,e){return t+e>>>0},Xh.sum32_3=function(t,e,r){return t+e+r>>>0},Xh.sum32_4=function(t,e,r,i){return t+e+r+i>>>0},Xh.sum32_5=function(t,e,r,i,n){return t+e+r+i+n>>>0},Xh.sum64=function(t,e,r,i){var n=t[e],s=i+t[e+1]>>>0,o=(s<i?1:0)+r+n;t[e]=o>>>0,t[e+1]=s},Xh.sum64_hi=function(t,e,r,i){return(e+i>>>0<e?1:0)+t+r>>>0},Xh.sum64_lo=function(t,e,r,i){return e+i>>>0},Xh.sum64_4_hi=function(t,e,r,i,n,s,o,a){var h=0,u=e;return h+=(u=u+i>>>0)<e?1:0,h+=(u=u+s>>>0)<s?1:0,t+r+n+o+(h+=(u=u+a>>>0)<a?1:0)>>>0},Xh.sum64_4_lo=function(t,e,r,i,n,s,o,a){return e+i+s+a>>>0},Xh.sum64_5_hi=function(t,e,r,i,n,s,o,a,h,u){var f=0,c=e;return f+=(c=c+i>>>0)<e?1:0,f+=(c=c+s>>>0)<s?1:0,f+=(c=c+a>>>0)<a?1:0,t+r+n+o+h+(f+=(c=c+u>>>0)<u?1:0)>>>0},Xh.sum64_5_lo=function(t,e,r,i,n,s,o,a,h,u){return e+i+s+a+u>>>0},Xh.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},Xh.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},Xh.shr64_hi=function(t,e,r){return t>>>r},Xh.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0};var au={},hu=Xh,uu=Zh;function fu(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}au.BlockHash=fu,fu.prototype.update=function(t,e){if(t=hu.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=hu.join32(t,0,t.length-r,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},fu.prototype.digest=function(t){return this.update(this._pad()),uu(null===this.pending),this._digest(t)},fu.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(t<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=t>>>24&255,i[n++]=t>>>16&255,i[n++]=t>>>8&255,i[n++]=255&t}else for(i[n++]=255&t,i[n++]=t>>>8&255,i[n++]=t>>>16&255,i[n++]=t>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,s=8;s<this.padLength;s++)i[n++]=0;return i};var cu={},lu={},du=Xh.rotr32;function pu(t,e,r){return t&e^~t&r}function gu(t,e,r){return t&e^t&r^e&r}function mu(t,e,r){return t^e^r}lu.ft_1=function(t,e,r,i){return 0===t?pu(e,r,i):1===t||3===t?mu(e,r,i):2===t?gu(e,r,i):void 0},lu.ch32=pu,lu.maj32=gu,lu.p32=mu,lu.s0_256=function(t){return du(t,2)^du(t,13)^du(t,22)},lu.s1_256=function(t){return du(t,6)^du(t,11)^du(t,25)},lu.g0_256=function(t){return du(t,7)^du(t,18)^t>>>3},lu.g1_256=function(t){return du(t,17)^du(t,19)^t>>>10};var vu=Xh,yu=au,wu=lu,bu=vu.rotl32,Au=vu.sum32,Eu=vu.sum32_5,Mu=wu.ft_1,_u=yu.BlockHash,Su=[1518500249,1859775393,2400959708,3395469782];function Iu(){if(!(this instanceof Iu))return new Iu;_u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}vu.inherits(Iu,_u);var Nu=Iu;Iu.blockSize=512,Iu.outSize=160,Iu.hmacStrength=80,Iu.padLength=64,Iu.prototype._update=function(t,e){for(var r=this.W,i=0;i<16;i++)r[i]=t[e+i];for(;i<r.length;i++)r[i]=bu(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],h=this.h[4];for(i=0;i<r.length;i++){var u=~~(i/20),f=Eu(bu(n,5),Mu(u,s,o,a),h,r[i],Su[u]);h=a,a=o,o=bu(s,30),s=n,n=f}this.h[0]=Au(this.h[0],n),this.h[1]=Au(this.h[1],s),this.h[2]=Au(this.h[2],o),this.h[3]=Au(this.h[3],a),this.h[4]=Au(this.h[4],h)},Iu.prototype._digest=function(t){return"hex"===t?vu.toHex32(this.h,"big"):vu.split32(this.h,"big")};var xu=Xh,Cu=au,Ou=lu,Bu=Zh,Pu=xu.sum32,Ru=xu.sum32_4,Tu=xu.sum32_5,ku=Ou.ch32,Uu=Ou.maj32,Du=Ou.s0_256,Fu=Ou.s1_256,Lu=Ou.g0_256,qu=Ou.g1_256,ju=Cu.BlockHash,zu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Hu(){if(!(this instanceof Hu))return new Hu;ju.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=zu,this.W=new Array(64)}xu.inherits(Hu,ju);var Ku=Hu;Hu.blockSize=512,Hu.outSize=256,Hu.hmacStrength=192,Hu.padLength=64,Hu.prototype._update=function(t,e){for(var r=this.W,i=0;i<16;i++)r[i]=t[e+i];for(;i<r.length;i++)r[i]=Ru(qu(r[i-2]),r[i-7],Lu(r[i-15]),r[i-16]);var n=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],h=this.h[4],u=this.h[5],f=this.h[6],c=this.h[7];for(Bu(this.k.length===r.length),i=0;i<r.length;i++){var l=Tu(c,Fu(h),ku(h,u,f),this.k[i],r[i]),d=Pu(Du(n),Uu(n,s,o));c=f,f=u,u=h,h=Pu(a,l),a=o,o=s,s=n,n=Pu(l,d)}this.h[0]=Pu(this.h[0],n),this.h[1]=Pu(this.h[1],s),this.h[2]=Pu(this.h[2],o),this.h[3]=Pu(this.h[3],a),this.h[4]=Pu(this.h[4],h),this.h[5]=Pu(this.h[5],u),this.h[6]=Pu(this.h[6],f),this.h[7]=Pu(this.h[7],c)},Hu.prototype._digest=function(t){return"hex"===t?xu.toHex32(this.h,"big"):xu.split32(this.h,"big")};var Qu=Xh,Gu=Ku;function Yu(){if(!(this instanceof Yu))return new Yu;Gu.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Qu.inherits(Yu,Gu);var Ju=Yu;Yu.blockSize=512,Yu.outSize=224,Yu.hmacStrength=192,Yu.padLength=64,Yu.prototype._digest=function(t){return"hex"===t?Qu.toHex32(this.h.slice(0,7),"big"):Qu.split32(this.h.slice(0,7),"big")};var Wu=Xh,Vu=au,Xu=Zh,Zu=Wu.rotr64_hi,$u=Wu.rotr64_lo,tf=Wu.shr64_hi,ef=Wu.shr64_lo,rf=Wu.sum64,nf=Wu.sum64_hi,sf=Wu.sum64_lo,of=Wu.sum64_4_hi,af=Wu.sum64_4_lo,hf=Wu.sum64_5_hi,uf=Wu.sum64_5_lo,ff=Vu.BlockHash,cf=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function lf(){if(!(this instanceof lf))return new lf;ff.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=cf,this.W=new Array(160)}Wu.inherits(lf,ff);var df=lf;function pf(t,e,r,i,n){var s=t&r^~t&n;return s<0&&(s+=4294967296),s}function gf(t,e,r,i,n,s){var o=e&i^~e&s;return o<0&&(o+=4294967296),o}function mf(t,e,r,i,n){var s=t&r^t&n^r&n;return s<0&&(s+=4294967296),s}function vf(t,e,r,i,n,s){var o=e&i^e&s^i&s;return o<0&&(o+=4294967296),o}function yf(t,e){var r=Zu(t,e,28)^Zu(e,t,2)^Zu(e,t,7);return r<0&&(r+=4294967296),r}function wf(t,e){var r=$u(t,e,28)^$u(e,t,2)^$u(e,t,7);return r<0&&(r+=4294967296),r}function bf(t,e){var r=Zu(t,e,14)^Zu(t,e,18)^Zu(e,t,9);return r<0&&(r+=4294967296),r}function Af(t,e){var r=$u(t,e,14)^$u(t,e,18)^$u(e,t,9);return r<0&&(r+=4294967296),r}function Ef(t,e){var r=Zu(t,e,1)^Zu(t,e,8)^tf(t,e,7);return r<0&&(r+=4294967296),r}function Mf(t,e){var r=$u(t,e,1)^$u(t,e,8)^ef(t,e,7);return r<0&&(r+=4294967296),r}function _f(t,e){var r=Zu(t,e,19)^Zu(e,t,29)^tf(t,e,6);return r<0&&(r+=4294967296),r}function Sf(t,e){var r=$u(t,e,19)^$u(e,t,29)^ef(t,e,6);return r<0&&(r+=4294967296),r}lf.blockSize=1024,lf.outSize=512,lf.hmacStrength=192,lf.padLength=128,lf.prototype._prepareBlock=function(t,e){for(var r=this.W,i=0;i<32;i++)r[i]=t[e+i];for(;i<r.length;i+=2){var n=_f(r[i-4],r[i-3]),s=Sf(r[i-4],r[i-3]),o=r[i-14],a=r[i-13],h=Ef(r[i-30],r[i-29]),u=Mf(r[i-30],r[i-29]),f=r[i-32],c=r[i-31];r[i]=of(n,s,o,a,h,u,f,c),r[i+1]=af(n,s,o,a,h,u,f,c)}},lf.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,i=this.h[0],n=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],h=this.h[5],u=this.h[6],f=this.h[7],c=this.h[8],l=this.h[9],d=this.h[10],p=this.h[11],g=this.h[12],m=this.h[13],v=this.h[14],y=this.h[15];Xu(this.k.length===r.length);for(var w=0;w<r.length;w+=2){var b=v,A=y,E=bf(c,l),M=Af(c,l),_=pf(c,l,d,p,g),S=gf(c,l,d,p,g,m),I=this.k[w],N=this.k[w+1],x=r[w],C=r[w+1],O=hf(b,A,E,M,_,S,I,N,x,C),B=uf(b,A,E,M,_,S,I,N,x,C);b=yf(i,n),A=wf(i,n),E=mf(i,n,s,o,a),M=vf(i,n,s,o,a,h);var P=nf(b,A,E,M),R=sf(b,A,E,M);v=g,y=m,g=d,m=p,d=c,p=l,c=nf(u,f,O,B),l=sf(f,f,O,B),u=a,f=h,a=s,h=o,s=i,o=n,i=nf(O,B,P,R),n=sf(O,B,P,R)}rf(this.h,0,i,n),rf(this.h,2,s,o),rf(this.h,4,a,h),rf(this.h,6,u,f),rf(this.h,8,c,l),rf(this.h,10,d,p),rf(this.h,12,g,m),rf(this.h,14,v,y)},lf.prototype._digest=function(t){return"hex"===t?Wu.toHex32(this.h,"big"):Wu.split32(this.h,"big")};var If=Xh,Nf=df;function xf(){if(!(this instanceof xf))return new xf;Nf.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}If.inherits(xf,Nf);var Cf=xf;xf.blockSize=1024,xf.outSize=384,xf.hmacStrength=192,xf.padLength=128,xf.prototype._digest=function(t){return"hex"===t?If.toHex32(this.h.slice(0,12),"big"):If.split32(this.h.slice(0,12),"big")},cu.sha1=Nu,cu.sha224=Ju,cu.sha256=Ku,cu.sha384=Cf,cu.sha512=df;var Of={},Bf=Xh,Pf=au,Rf=Bf.rotl32,Tf=Bf.sum32,kf=Bf.sum32_3,Uf=Bf.sum32_4,Df=Pf.BlockHash;function Ff(){if(!(this instanceof Ff))return new Ff;Df.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function Lf(t,e,r,i){return t<=15?e^r^i:t<=31?e&r|~e&i:t<=47?(e|~r)^i:t<=63?e&i|r&~i:e^(r|~i)}function qf(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function jf(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}Bf.inherits(Ff,Df),Of.ripemd160=Ff,Ff.blockSize=512,Ff.outSize=160,Ff.hmacStrength=192,Ff.padLength=64,Ff.prototype._update=function(t,e){for(var r=this.h[0],i=this.h[1],n=this.h[2],s=this.h[3],o=this.h[4],a=r,h=i,u=n,f=s,c=o,l=0;l<80;l++){var d=Tf(Rf(Uf(r,Lf(l,i,n,s),t[zf[l]+e],qf(l)),Kf[l]),o);r=o,o=s,s=Rf(n,10),n=i,i=d,d=Tf(Rf(Uf(a,Lf(79-l,h,u,f),t[Hf[l]+e],jf(l)),Qf[l]),c),a=c,c=f,f=Rf(u,10),u=h,h=d}d=kf(this.h[1],n,f),this.h[1]=kf(this.h[2],s,c),this.h[2]=kf(this.h[3],o,a),this.h[3]=kf(this.h[4],r,h),this.h[4]=kf(this.h[0],i,u),this.h[0]=d},Ff.prototype._digest=function(t){return"hex"===t?Bf.toHex32(this.h,"little"):Bf.split32(this.h,"little")};var zf=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Hf=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Kf=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Qf=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Gf=Xh,Yf=Zh;function Jf(t,e,r){if(!(this instanceof Jf))return new Jf(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Gf.toArray(e,r))}var Wf=Jf;function Vf(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(e??r.path)}},t(r,r.exports),r.exports}Jf.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),Yf(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},Jf.prototype.update=function(t,e){return this.inner.update(t,e),this},Jf.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},function(t){var e=t;e.utils=Xh,e.common=au,e.sha=cu,e.ripemd=Of,e.hmac=Wf,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(Vh);var Xf=Zf;function Zf(t,e){if(!t)throw new Error(e||"Assertion failed")}Zf.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var $f=Vf((function(t,e){var r=e;function i(t){return 1===t.length?"0"+t:t}function n(t){for(var e="",r=0;r<t.length;r++)e+=i(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var i=0;i<t.length;i++)r[i]=0|t[i];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(t="0"+t);for(i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(i=0;i<t.length;i++){var n=t.charCodeAt(i),s=n>>8,o=255&n;s?r.push(s,o):r.push(o)}return r},r.zero2=i,r.toHex=n,r.encode=function(t,e){return"hex"===e?n(t):t}})),tc=Vf((function(t,e){var r=e;r.assert=Xf,r.toArray=$f.toArray,r.zero2=$f.zero2,r.toHex=$f.toHex,r.encode=$f.encode,r.getNAF=function(t,e,r){var i=new Array(Math.max(t.bitLength(),r)+1);i.fill(0);for(var n=1<<e+1,s=t.clone(),o=0;o<i.length;o++){var a,h=s.andln(n-1);s.isOdd()?(a=h>(n>>1)-1?(n>>1)-h:h,s.isubn(a)):a=0,i[o]=a,s.iushrn(1)}return i},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var i,n=0,s=0;t.cmpn(-n)>0||e.cmpn(-s)>0;){var o,a,h=t.andln(3)+n&3,u=e.andln(3)+s&3;3===h&&(h=-1),3===u&&(u=-1),1&h?o=3!==(i=t.andln(7)+n&7)&&5!==i||2!==u?h:-h:o=0,r[0].push(o),1&u?a=3!==(i=e.andln(7)+s&7)&&5!==i||2!==h?u:-u:a=0,r[1].push(a),2*n===o+1&&(n=1-n),2*s===a+1&&(s=1-s),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var i="_"+e;t.prototype[e]=function(){return void 0!==this[i]?this[i]:this[i]=r.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new sh(t,"hex","le")}})),ec=tc.getNAF,rc=tc.getJSF,ic=tc.assert;function nc(t,e){this.type=t,this.p=new sh(e.p,16),this.red=e.prime?sh.red(e.prime):sh.mont(this.p),this.zero=new sh(0).toRed(this.red),this.one=new sh(1).toRed(this.red),this.two=new sh(2).toRed(this.red),this.n=e.n&&new sh(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var sc=nc;function oc(t,e){this.curve=t,this.type=e,this.precomputed=null}nc.prototype.point=function(){throw new Error("Not implemented")},nc.prototype.validate=function(){throw new Error("Not implemented")},nc.prototype._fixedNafMul=function(t,e){ic(t.precomputed);var r=t._getDoubles(),i=ec(e,1,this._bitLength),n=(1<<r.step+1)-(r.step%2===0?2:1);n/=3;var s,o,a=[];for(s=0;s<i.length;s+=r.step){o=0;for(var h=s+r.step-1;h>=s;h--)o=(o<<1)+i[h];a.push(o)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),c=n;c>0;c--){for(s=0;s<a.length;s++)(o=a[s])===c?f=f.mixedAdd(r.points[s]):o===-c&&(f=f.mixedAdd(r.points[s].neg()));u=u.add(f)}return u.toP()},nc.prototype._wnafMul=function(t,e){var r=4,i=t._getNAFPoints(r);r=i.wnd;for(var n=i.points,s=ec(e,r,this._bitLength),o=this.jpoint(null,null,null),a=s.length-1;a>=0;a--){for(var h=0;a>=0&&0===s[a];a--)h++;if(a>=0&&h++,o=o.dblp(h),a<0)break;var u=s[a];ic(0!==u),o="affine"===t.type?u>0?o.mixedAdd(n[u-1>>1]):o.mixedAdd(n[-u-1>>1].neg()):u>0?o.add(n[u-1>>1]):o.add(n[-u-1>>1].neg())}return"affine"===t.type?o.toP():o},nc.prototype._wnafMulAdd=function(t,e,r,i,n){var s,o,a,h=this._wnafT1,u=this._wnafT2,f=this._wnafT3,c=0;for(s=0;s<i;s++){var l=(a=e[s])._getNAFPoints(t);h[s]=l.wnd,u[s]=l.points}for(s=i-1;s>=1;s-=2){var d=s-1,p=s;if(1===h[d]&&1===h[p]){var g=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(g[1]=e[d].add(e[p]),g[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(g[1]=e[d].toJ().mixedAdd(e[p]),g[2]=e[d].add(e[p].neg())):(g[1]=e[d].toJ().mixedAdd(e[p]),g[2]=e[d].toJ().mixedAdd(e[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],v=rc(r[d],r[p]);for(c=Math.max(v[0].length,c),f[d]=new Array(c),f[p]=new Array(c),o=0;o<c;o++){var y=0|v[0][o],w=0|v[1][o];f[d][o]=m[3*(y+1)+(w+1)],f[p][o]=0,u[d]=g}}else f[d]=ec(r[d],h[d],this._bitLength),f[p]=ec(r[p],h[p],this._bitLength),c=Math.max(f[d].length,c),c=Math.max(f[p].length,c)}var b=this.jpoint(null,null,null),A=this._wnafT4;for(s=c;s>=0;s--){for(var E=0;s>=0;){var M=!0;for(o=0;o<i;o++)A[o]=0|f[o][s],0!==A[o]&&(M=!1);if(!M)break;E++,s--}if(s>=0&&E++,b=b.dblp(E),s<0)break;for(o=0;o<i;o++){var _=A[o];0!==_&&(_>0?a=u[o][_-1>>1]:_<0&&(a=u[o][-_-1>>1].neg()),b="affine"===a.type?b.mixedAdd(a):b.add(a))}}for(s=0;s<i;s++)u[s]=null;return n?b:b.toP()},nc.BasePoint=oc,oc.prototype.eq=function(){throw new Error("Not implemented")},oc.prototype.validate=function(){return this.curve.validate(this)},nc.prototype.decodePoint=function(t,e){t=tc.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1===2*r)return 6===t[0]?ic(t[t.length-1]%2===0):7===t[0]&&ic(t[t.length-1]%2===1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},oc.prototype.encodeCompressed=function(t){return this.encode(t,!0)},oc.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},oc.prototype.encode=function(t,e){return tc.encode(this._encode(e),t)},oc.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},oc.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},oc.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<e;n+=t){for(var s=0;s<t;s++)i=i.dbl();r.push(i)}return{step:t,points:r}},oc.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,i=1===r?null:this.dbl(),n=1;n<r;n++)e[n]=e[n-1].add(i);return{wnd:t,points:e}},oc.prototype._getBeta=function(){return null},oc.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var ac=Vf((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),hc=tc.assert;function uc(t){sc.call(this,"short",t),this.a=new sh(t.a,16).toRed(this.red),this.b=new sh(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}ac(uc,sc);var fc=uc;function cc(t,e,r,i){sc.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new sh(e,16),this.y=new sh(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function lc(t,e,r,i){sc.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new sh(0)):(this.x=new sh(e,16),this.y=new sh(r,16),this.z=new sh(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}uc.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r,i;if(t.beta)e=new sh(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new sh(t.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(e))?r=s[0]:(r=s[1],hc(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return i=t.basis?t.basis.map((function(t){return{a:new sh(t.a,16),b:new sh(t.b,16)}})):this._getEndoBasis(r),{beta:e,lambda:r,basis:i}}},uc.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:sh.mont(t),r=new sh(2).toRed(e).redInvm(),i=r.redNeg(),n=new sh(3).toRed(e).redNeg().redSqrt().redMul(r);return[i.redAdd(n).fromRed(),i.redSub(n).fromRed()]},uc.prototype._getEndoBasis=function(t){for(var e,r,i,n,s,o,a,h,u,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),c=t,l=this.n.clone(),d=new sh(1),p=new sh(0),g=new sh(0),m=new sh(1),v=0;0!==c.cmpn(0);){var y=l.div(c);h=l.sub(y.mul(c)),u=g.sub(y.mul(d));var w=m.sub(y.mul(p));if(!i&&h.cmp(f)<0)e=a.neg(),r=d,i=h.neg(),n=u;else if(i&&2===++v)break;a=h,l=c,c=h,g=d,d=u,m=p,p=w}s=h.neg(),o=u;var b=i.sqr().add(n.sqr());return s.sqr().add(o.sqr()).cmp(b)>=0&&(s=e,o=r),i.negative&&(i=i.neg(),n=n.neg()),s.negative&&(s=s.neg(),o=o.neg()),[{a:i,b:n},{a:s,b:o}]},uc.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],i=e[1],n=i.b.mul(t).divRound(this.n),s=r.b.neg().mul(t).divRound(this.n),o=n.mul(r.a),a=s.mul(i.a),h=n.mul(r.b),u=s.mul(i.b);return{k1:t.sub(o).sub(a),k2:h.add(u).neg()}},uc.prototype.pointFromX=function(t,e){(t=new sh(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(0!==i.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var n=i.fromRed().isOdd();return(e&&!n||!e&&n)&&(i=i.redNeg()),this.point(t,i)},uc.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,i=this.a.redMul(e),n=e.redSqr().redMul(e).redIAdd(i).redIAdd(this.b);return 0===r.redSqr().redISub(n).cmpn(0)},uc.prototype._endoWnafMulAdd=function(t,e,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(e[s]),a=t[s],h=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),h=h.neg(!0)),i[2*s]=a,i[2*s+1]=h,n[2*s]=o.k1,n[2*s+1]=o.k2}for(var u=this._wnafMulAdd(1,i,n,2*s,r),f=0;f<2*s;f++)i[f]=null,n[f]=null;return u},ac(cc,sc.BasePoint),uc.prototype.point=function(t,e,r){return new cc(this,t,e,r)},uc.prototype.pointFromJSON=function(t,e){return cc.fromJSON(this,t,e)},cc.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,i=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return e}},cc.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},cc.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var i=t.point(e[0],e[1],r);if(!e[2])return i;function n(e){return t.point(e[0],e[1],r)}var s=e[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(n))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(n))}},i},cc.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},cc.prototype.isInfinity=function(){return this.inf},cc.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),i=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},cc.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),i=t.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(i),s=n.redSqr().redISub(this.x.redAdd(this.x)),o=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},cc.prototype.getX=function(){return this.x.fromRed()},cc.prototype.getY=function(){return this.y.fromRed()},cc.prototype.mul=function(t){return t=new sh(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},cc.prototype.mulAdd=function(t,e,r){var i=[this,e],n=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},cc.prototype.jmulAdd=function(t,e,r){var i=[this,e],n=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},cc.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},cc.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,i=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return e},cc.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},ac(lc,sc.BasePoint),uc.prototype.jpoint=function(t,e,r){return new lc(this,t,e,r)},lc.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),i=this.y.redMul(e).redMul(t);return this.curve.point(r,i)},lc.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},lc.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(e),n=t.x.redMul(r),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(r.redMul(this.z)),a=i.redSub(n),h=s.redSub(o);if(0===a.cmpn(0))return 0!==h.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),f=u.redMul(a),c=i.redMul(u),l=h.redSqr().redIAdd(f).redISub(c).redISub(c),d=h.redMul(c.redISub(l)).redISub(s.redMul(f)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(l,d,p)},lc.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,i=t.x.redMul(e),n=this.y,s=t.y.redMul(e).redMul(this.z),o=r.redSub(i),a=n.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=o.redSqr(),u=h.redMul(o),f=r.redMul(h),c=a.redSqr().redIAdd(u).redISub(f).redISub(f),l=a.redMul(f.redISub(c)).redISub(n.redMul(u)),d=this.z.redMul(o);return this.curve.jpoint(c,l,d)},lc.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,s=this.x,o=this.y,a=this.z,h=a.redSqr().redSqr(),u=o.redAdd(o);for(e=0;e<t;e++){var f=s.redSqr(),c=u.redSqr(),l=c.redSqr(),d=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(h)),p=s.redMul(c),g=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),v=d.redMul(m);v=v.redIAdd(v).redISub(l);var y=u.redMul(a);e+1<t&&(h=h.redMul(l)),s=g,a=y,u=v}return this.curve.jpoint(s,u.redMul(n),a)},lc.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},lc.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i),h=a.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),t=h,e=a.redMul(o.redISub(h)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),c=this.y.redSqr(),l=c.redSqr(),d=this.x.redAdd(c).redSqr().redISub(f).redISub(l);d=d.redIAdd(d);var p=f.redAdd(f).redIAdd(f),g=p.redSqr(),m=l.redIAdd(l);m=(m=m.redIAdd(m)).redIAdd(m),t=g.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},lc.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),h=a.redSqr().redISub(o).redISub(o);t=h;var u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),e=a.redMul(o.redISub(h)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),c=this.y.redSqr(),l=this.x.redMul(c),d=this.x.redSub(f).redMul(this.x.redAdd(f));d=d.redAdd(d).redIAdd(d);var p=l.redIAdd(l),g=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(c).redISub(f);var m=c.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),e=d.redMul(p.redISub(t)).redISub(m)}return this.curve.jpoint(t,e,r)},lc.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),s=e.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(n)),h=e.redAdd(e),u=(h=h.redIAdd(h)).redMul(o),f=a.redSqr().redISub(u.redAdd(u)),c=u.redISub(f),l=o.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=a.redMul(c).redISub(l),p=r.redAdd(r).redMul(i);return this.curve.jpoint(f,d,p)},lc.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),i=e.redSqr(),n=t.redAdd(t).redIAdd(t),s=n.redSqr(),o=this.x.redAdd(e).redSqr().redISub(t).redISub(i),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),h=i.redIAdd(i);h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var u=n.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(h),f=e.redMul(u);f=(f=f.redIAdd(f)).redIAdd(f);var c=this.x.redMul(a).redISub(f);c=(c=c.redIAdd(c)).redIAdd(c);var l=this.y.redMul(u.redMul(h.redISub(u)).redISub(o.redMul(a)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(c,l,d)},lc.prototype.mul=function(t,e){return t=new sh(t,e),this.curve._wnafMul(this,t)},lc.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var i=e.redMul(this.z),n=r.redMul(t.z);return 0===this.y.redMul(n).redISub(t.y.redMul(i)).cmpn(0)},lc.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var i=t.clone(),n=this.curve.redN.redMul(e);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),0===this.x.cmp(r))return!0}},lc.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},lc.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var dc=Vf((function(t,e){var r=e;r.base=sc,r.short=fc,r.mont=null,r.edwards=null})),pc=Vf((function(t,e){var r,i=e,n=tc.assert;function s(t){"short"===t.type?this.curve=new dc.short(t):"edwards"===t.type?this.curve=new dc.edwards(t):this.curve=new dc.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var r=new s(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=s,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Vh.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Vh.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Vh.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Vh.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Vh.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Vh.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Vh.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch{r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Vh.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function gc(t){if(!(this instanceof gc))return new gc(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=$f.toArray(t.entropy,t.entropyEnc||"hex"),r=$f.toArray(t.nonce,t.nonceEnc||"hex"),i=$f.toArray(t.pers,t.persEnc||"hex");Xf(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,i)}var mc=gc;gc.prototype._init=function(t,e,r){var i=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},gc.prototype._hmac=function(){return new Vh.hmac(this.hash,this.K)},gc.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},gc.prototype.reseed=function(t,e,r,i){"string"!=typeof e&&(i=r,r=e,e=null),t=$f.toArray(t,e),r=$f.toArray(r,i),Xf(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},gc.prototype.generate=function(t,e,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(i=r,r=e,e=null),r&&(r=$f.toArray(r,i||"hex"),this._update(r));for(var n=[];n.length<t;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var s=n.slice(0,t);return this._update(r),this._reseed++,$f.encode(s,e)};var vc=tc.assert;function yc(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var wc=yc;yc.fromPublic=function(t,e,r){return e instanceof yc?e:new yc(t,{pub:e,pubEnc:r})},yc.fromPrivate=function(t,e,r){return e instanceof yc?e:new yc(t,{priv:e,privEnc:r})},yc.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},yc.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},yc.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},yc.prototype._importPrivate=function(t,e){this.priv=new sh(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},yc.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?vc(t.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&vc(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},yc.prototype.derive=function(t){return t.validate()||vc(t.validate(),"public point not validated"),t.mul(this.priv).getX()},yc.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},yc.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},yc.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var bc=tc.assert;function Ac(t,e){if(t instanceof Ac)return t;this._importDER(t,e)||(bc(t.r&&t.s,"Signature without r or s"),this.r=new sh(t.r,16),this.s=new sh(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Ec=Ac;function Mc(){this.place=0}function _c(t,e){var r=t[e.place++];if(!(128&r))return r;var i=15&r;if(0===i||i>4)return!1;for(var n=0,s=0,o=e.place;s<i;s++,o++)n<<=8,n|=t[o],n>>>=0;return!(n<=127)&&(e.place=o,n)}function Sc(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function Ic(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}Ac.prototype._importDER=function(t,e){t=tc.toArray(t,e);var r=new Mc;if(48!==t[r.place++])return!1;var i=_c(t,r);if(!1===i||i+r.place!==t.length||2!==t[r.place++])return!1;var n=_c(t,r);if(!1===n)return!1;var s=t.slice(r.place,n+r.place);if(r.place+=n,2!==t[r.place++])return!1;var o=_c(t,r);if(!1===o||t.length!==o+r.place)return!1;var a=t.slice(r.place,o+r.place);if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new sh(s),this.s=new sh(a),this.recoveryParam=null,!0},Ac.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=Sc(e),r=Sc(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var i=[2];Ic(i,e.length),(i=i.concat(e)).push(2),Ic(i,r.length);var n=i.concat(r),s=[48];return Ic(s,n.length),s=s.concat(n),tc.encode(s,t)};var Nc=function(){throw new Error("unsupported")},xc=tc.assert;function Cc(t){if(!(this instanceof Cc))return new Cc(t);"string"==typeof t&&(xc(Object.prototype.hasOwnProperty.call(pc,t),"Unknown curve "+t),t=pc[t]),t instanceof pc.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Oc=Cc;Cc.prototype.keyPair=function(t){return new wc(this,t)},Cc.prototype.keyFromPrivate=function(t,e){return wc.fromPrivate(this,t,e)},Cc.prototype.keyFromPublic=function(t,e){return wc.fromPublic(this,t,e)},Cc.prototype.genKeyPair=function(t){t||(t={});for(var e=new mc({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Nc(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new sh(2));;){var n=new sh(e.generate(r));if(!(n.cmp(i)>0))return n.iaddn(1),this.keyFromPrivate(n)}},Cc.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},Cc.prototype.sign=function(t,e,r,i){"object"==typeof r&&(i=r,r=null),i||(i={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new sh(t,16));for(var n=this.n.byteLength(),s=e.getPrivate().toArray("be",n),o=t.toArray("be",n),a=new mc({hash:this.hash,entropy:s,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),h=this.n.sub(new sh(1)),u=0;;u++){var f=i.k?i.k(u):new sh(a.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(h)>=0)){var c=this.g.mul(f);if(!c.isInfinity()){var l=c.getX(),d=l.umod(this.n);if(0!==d.cmpn(0)){var p=f.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var g=(c.getY().isOdd()?1:0)|(0!==l.cmp(d)?2:0);return i.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),g^=1),new Ec({r:d,s:p,recoveryParam:g})}}}}}},Cc.prototype.verify=function(t,e,r,i){t=this._truncateToN(new sh(t,16)),r=this.keyFromPublic(r,i);var n=(e=new Ec(e,"hex")).r,s=e.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o,a=s.invm(this.n),h=a.mul(t).umod(this.n),u=a.mul(n).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(h,r.getPublic(),u)).isInfinity()&&o.eqXToP(n):!(o=this.g.mulAdd(h,r.getPublic(),u)).isInfinity()&&0===o.getX().umod(this.n).cmp(n)},Cc.prototype.recoverPubKey=function(t,e,r,i){xc((3&r)===r,"The recovery param is more than two bits"),e=new Ec(e,i);var n=this.n,s=new sh(t),o=e.r,a=e.s,h=1&r,u=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");o=u?this.curve.pointFromX(o.add(this.curve.n),h):this.curve.pointFromX(o,h);var f=e.r.invm(n),c=n.sub(s).mul(f).umod(n),l=a.mul(f).umod(n);return this.g.mulAdd(c,o,l)},Cc.prototype.getKeyRecoveryParam=function(t,e,r,i){if(null!==(e=new Ec(e,i)).recoveryParam)return e.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(t,e,n)}catch{continue}if(s.eq(r))return n}throw new Error("Unable to find valid recovery factor")};var Bc=Vf((function(t,e){var r=e;r.version="6.5.4",r.utils=tc,r.rand=function(){throw new Error("unsupported")},r.curve=dc,r.curves=pc,r.ec=Oc,r.eddsa=null}));Bc.ec;new Ga("signing-key/5.7.0");var Pc;new Ga("transactions/5.7.0"),function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(Pc||(Pc={}));Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const Rc="base10",Tc="base16",kc="base64pad",Uc="utf8",Dc=0,Fc=1,Lc=0,qc=1,jc=12,zc=32;function Hc(){return la((0,_.randomBytes)(zc),Tc)}function Kc(t){return la((0,S.tW)(ca(t,Uc)),Tc)}function Qc(t){return Number(la(t,Rc))}function Gc(t){const e=function(t){return ca(`${t}`,Rc)}(typeof t.type<"u"?t.type:Dc);if(Qc(e)===Fc&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?ca(t.senderPublicKey,Tc):void 0,i=typeof t.iv<"u"?ca(t.iv,Tc):(0,_.randomBytes)(jc);return function(t){if(Qc(t.type)===Fc){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return la(oa([t.type,t.senderPublicKey,t.iv,t.sealed]),kc)}return la(oa([t.type,t.iv,t.sealed]),kc)}({type:e,sealed:new E.g6(ca(t.symKey,Tc)).seal(i,ca(t.message,Uc)),iv:i,senderPublicKey:r})}function Yc(t){const e=ca(t,kc),r=e.slice(Lc,qc),i=qc;if(Qc(r)===Fc){const t=i+zc,n=t+jc,s=e.slice(i,t),o=e.slice(t,n);return{type:r,sealed:e.slice(n),iv:o,senderPublicKey:s}}const n=i+jc,s=e.slice(i,n);return{type:r,sealed:e.slice(n),iv:s}}function Jc(t){const e=t?.type||Dc;if(e===Fc){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function Wc(t){return t.type===Fc&&"string"==typeof t.senderPublicKey&&"string"==typeof t.receiverPublicKey}function Vc(t){return t?.relay||{protocol:"irn"}}function Xc(t){const e=$t[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var Zc=Object.defineProperty,$c=Object.defineProperties,tl=Object.getOwnPropertyDescriptors,el=Object.getOwnPropertySymbols,rl=Object.prototype.hasOwnProperty,il=Object.prototype.propertyIsEnumerable,nl=(t,e,r)=>e in t?Zc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,sl=(t,e)=>{for(var r in e||(e={}))rl.call(e,r)&&nl(t,r,e[r]);if(el)for(var r of el(e))il.call(e,r)&&nl(t,r,e[r]);return t};function ol(t,e="-"){const r={},i="relay"+e;return Object.keys(t).forEach((e=>{if(e.startsWith(i)){const n=e.replace(i,""),s=t[e];r[n]=s}})),r}function al(t){const e=(t=(t=t.includes("wc://")?t.replace("wc://",""):t).includes("wc:")?t.replace("wc:",""):t).indexOf(":"),r=-1!==t.indexOf("?")?t.indexOf("?"):void 0,i=t.substring(0,e),n=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=na.parse(s),a="string"==typeof o.methods?o.methods.split(","):void 0;return{protocol:i,topic:hl(n[0]),version:parseInt(n[1],10),symKey:o.symKey,relay:ol(o),methods:a,expiryTimestamp:o.expiryTimestamp?parseInt(o.expiryTimestamp,10):void 0}}function hl(t){return t.startsWith("//")?t.substring(2):t}function ul(t){return`${t.protocol}:${t.topic}@${t.version}?`+na.stringify(sl(((t,e)=>$c(t,tl(e)))(sl({symKey:t.symKey},function(t,e="-"){const r={};return Object.keys(t).forEach((i=>{const n="relay"+e+i;t[i]&&(r[n]=t[i])})),r}(t.relay)),{expiryTimestamp:t.expiryTimestamp}),t.methods?{methods:t.methods.join(",")}:{}))}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const fl={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},cl={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ll(t,e){const{message:r,code:i}=cl[t];return{message:e?`${r} ${e}`:r,code:i}}function dl(t,e){const{message:r,code:i}=fl[t];return{message:e?`${r} ${e}`:r,code:i}}function pl(t,e){return!!Array.isArray(t)&&(!(typeof e<"u"&&t.length)||t.every(e))}function gl(t){return typeof t>"u"}function ml(t,e){return!(!e||!gl(t))||"string"==typeof t&&!!t.trim().length}function vl(t){return typeof t<"u"&&null!==typeof t}function yl(){const t=Sa();return new Promise((e=>{switch(t){case ba.browser:e(_a()&&navigator?.onLine);break;case ba.reactNative:e(async function(){if(Ma()&&typeof r.g<"u"&&null!=r.g&&r.g.NetInfo){const t=await(null==r.g?void 0:r.g.NetInfo.fetch());return t?.isConnected}return!0}());break;case ba.node:default:e(!0)}}))}function wl(t){switch(Sa()){case ba.browser:!function(t){!Ma()&&_a()&&(window.addEventListener("online",(()=>t(!0))),window.addEventListener("offline",(()=>t(!1))))}(t);break;case ba.reactNative:!function(t){Ma()&&typeof r.g<"u"&&null!=r.g&&r.g.NetInfo&&r.g?.NetInfo.addEventListener((e=>t(e?.isConnected)))}(t);case ba.node:}}const bl="PARSE_ERROR",Al="INVALID_REQUEST",El="METHOD_NOT_FOUND",Ml="INVALID_PARAMS",_l="INTERNAL_ERROR",Sl="SERVER_ERROR",Il=[-32700,-32600,-32601,-32602,-32603],Nl={[bl]:{code:-32700,message:"Parse error"},[Al]:{code:-32600,message:"Invalid Request"},[El]:{code:-32601,message:"Method not found"},[Ml]:{code:-32602,message:"Invalid params"},[_l]:{code:-32603,message:"Internal error"},[Sl]:{code:-32e3,message:"Server error"}},xl=Sl;function Cl(t){return Il.includes(t)}function Ol(t){return Object.keys(Nl).includes(t)?Nl[t]:Nl[xl]}function Bl(t){const e=Object.values(Nl).find((e=>e.code===t));return e||Nl[xl]}function Pl(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var Rl=r(6295);function Tl(t=3){return Date.now()*Math.pow(10,t)+Math.floor(Math.random()*Math.pow(10,t))}function kl(t=6){return BigInt(Tl(t))}function Ul(t,e,r){return{id:r||Tl(),jsonrpc:"2.0",method:t,params:e}}function Dl(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Fl(t,e,r){return{id:t,jsonrpc:"2.0",error:Ll(e,r)}}function Ll(t,e){return"undefined"===typeof t?Ol(_l):("string"===typeof t&&(t=Object.assign(Object.assign({},Ol(Sl)),{message:t})),"undefined"!==typeof e&&(t.data=e),Cl(t.code)&&(t=Bl(t.code)),t)}class ql{}class jl extends ql{constructor(){super()}}class zl extends jl{constructor(t){super()}}function Hl(t,e){const r=function(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(e&&e.length)return e[0]}(t);return"undefined"!==typeof r&&new RegExp(e).test(r)}function Kl(t){return Hl(t,"^https?:")}function Ql(t){return Hl(t,"^wss?:")}function Gl(t){return"object"===typeof t&&"id"in t&&"jsonrpc"in t&&"2.0"===t.jsonrpc}function Yl(t){return Gl(t)&&"method"in t}function Jl(t){return Gl(t)&&(Wl(t)||Vl(t))}function Wl(t){return"result"in t}function Vl(t){return"error"in t}class Xl extends zl{constructor(t){super(t),this.events=new v.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async request(t,e){return this.requestStrict(Ul(t.method,t.params||[],t.id||kl().toString()),e)}async requestStrict(t,e){return new Promise((async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(n){i(n)}this.events.on(`${t.id}`,(t=>{Vl(t)?i(t.error):r(t.result)}));try{await this.connection.send(t,e)}catch(n){i(n)}}))}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),Jl(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&3e3===t.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof t&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",(t=>this.onPayload(t))),this.connection.on("close",(t=>this.onClose(t))),this.connection.on("error",(t=>this.events.emit("error",t))),this.connection.on("register_error",(t=>this.onClose())),this.hasRegisteredEventListeners=!0)}}const Zl=t=>t.split("?")[0],$l=typeof WebSocket<"u"?WebSocket:typeof r.g<"u"&&typeof r.g.WebSocket<"u"?r.g.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:r(704);class td{constructor(t){if(this.url=t,this.events=new v.EventEmitter,this.registering=!1,!Ql(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async open(t=this.url){await this.register(t)}async close(){return new Promise(((t,e)=>{typeof this.socket>"u"?e(new Error("Connection already closed")):(this.socket.onclose=e=>{this.onClose(e),t()},this.socket.close())}))}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Ns(t))}catch(e){this.onError(t.id,e)}}register(t=this.url){if(!Ql(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise(((t,e)=>{this.events.once("register_error",(t=>{this.resetMaxListeners(),e(t)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return e(new Error("WebSocket connection is missing or invalid"));t(this.socket)}))}))}return this.url=t,this.registering=!0,new Promise(((e,i)=>{const n=new URLSearchParams(t).get("origin"),s=(0,Rl.isReactNative)()?{headers:{origin:n}}:{rejectUnauthorized:(a=t,!new RegExp("wss?://localhost(:d{2,5})?").test(a))},o=new $l(t,[],s);var a;typeof WebSocket<"u"||typeof r.g<"u"&&typeof r.g.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u"?o.onerror=t=>{const e=t;i(this.emitError(e.error))}:o.on("error",(t=>{i(this.emitError(t))})),o.onopen=()=>{this.onOpen(o),e(o)}}))}onOpen(t){t.onmessage=t=>this.onPayload(t),t.onclose=t=>this.onClose(t),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const e="string"==typeof t.data?Is(t.data):t.data;this.events.emit("payload",e)}onError(t,e){const r=this.parseError(e),i=Fl(t,r.message||r.toString());this.events.emit("payload",i)}parseError(t,e=this.url){return Pl(t,Zl(e),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(t){const e=this.parseError(new Error(t?.message||`WebSocket connection failed for host: ${Zl(this.url)}`));return this.events.emit("register_error",e),e}}var ed=r(6809),rd=r.n(ed);var id=function(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),o=s.charCodeAt(0);if(255!==r[o])throw new TypeError(s+" is ambiguous");r[o]=n}var a=t.length,h=t.charAt(0),u=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function c(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;var e=0;if(" "!==t[e]){for(var i=0,n=0;t[e]===h;)i++,e++;for(var s=(t.length-e)*u+1>>>0,o=new Uint8Array(s);t[e];){var f=r[t.charCodeAt(e)];if(255===f)return;for(var c=0,l=s-1;(0!==f||c<n)&&-1!==l;l--,c++)f+=a*o[l]>>>0,o[l]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");n=c,e++}if(" "!==t[e]){for(var d=s-n;d!==s&&0===o[d];)d++;for(var p=new Uint8Array(i+(s-d)),g=i;d!==s;)p[g++]=o[d++];return p}}}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,i=0,n=0,s=e.length;n!==s&&0===e[n];)n++,r++;for(var o=(s-n)*f+1>>>0,u=new Uint8Array(o);n!==s;){for(var c=e[n],l=0,d=o-1;(0!==c||l<i)&&-1!==d;d--,l++)c+=256*u[d]>>>0,u[d]=c%a>>>0,c=c/a>>>0;if(0!==c)throw new Error("Non-zero carry");i=l,n++}for(var p=o-i;p!==o&&0===u[p];)p++;for(var g=h.repeat(r);p<o;++p)g+=t.charAt(u[p]);return g},decodeUnsafe:c,decode:function(t){var r=c(t);if(r)return r;throw new Error(`Non-${e} character`)}}},nd=id;const sd=t=>{if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};class od{constructor(t,e,r){this.name=t,this.prefix=e,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class ad{constructor(t,e,r){if(this.name=t,this.prefix=e,void 0===e.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=r}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return ud(this,t)}}class hd{constructor(t){this.decoders=t}or(t){return ud(this,t)}decode(t){const e=t[0],r=this.decoders[e];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ud=(t,e)=>new hd({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class fd{constructor(t,e,r,i){this.name=t,this.prefix=e,this.baseEncode=r,this.baseDecode=i,this.encoder=new od(t,e,r),this.decoder=new ad(t,e,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const cd=({name:t,prefix:e,encode:r,decode:i})=>new fd(t,e,r,i),ld=({prefix:t,name:e,alphabet:r})=>{const{encode:i,decode:n}=nd(r,e);return cd({prefix:t,name:e,encode:i,decode:t=>sd(n(t))})},dd=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>cd({prefix:e,name:t,encode(t){return((t,e,r)=>{const i="="===e[e.length-1],n=(1<<r)-1;let s="",o=0,a=0;for(let h=0;h<t.length;++h)for(a=a<<8|t[h],o+=8;o>r;)o-=r,s+=e[n&a>>o];if(o&&(s+=e[n&a<<r-o]),i)for(;s.length*r&7;)s+="=";return s})(t,i,r)},decode(e){return((t,e,r,i)=>{const n={};for(let f=0;f<e.length;++f)n[e[f]]=f;let s=t.length;for(;"="===t[s-1];)--s;const o=new Uint8Array(s*r/8|0);let a=0,h=0,u=0;for(let f=0;f<s;++f){const e=n[t[f]];if(void 0===e)throw new SyntaxError(`Non-${i} character`);h=h<<r|e,a+=r,a>=8&&(a-=8,o[u++]=255&h>>a)}if(a>=r||255&h<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,i,r,t)}}),pd=cd({prefix:"\0",name:"identity",encode:t=>(t=>(new TextDecoder).decode(t))(t),decode:t=>(t=>(new TextEncoder).encode(t))(t)});var gd=Object.freeze({__proto__:null,identity:pd});const md=dd({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var vd=Object.freeze({__proto__:null,base2:md});const yd=dd({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var wd=Object.freeze({__proto__:null,base8:yd});const bd=ld({prefix:"9",name:"base10",alphabet:"0123456789"});var Ad=Object.freeze({__proto__:null,base10:bd});const Ed=dd({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Md=dd({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var _d=Object.freeze({__proto__:null,base16:Ed,base16upper:Md});const Sd=dd({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Id=dd({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Nd=dd({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),xd=dd({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Cd=dd({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Od=dd({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Bd=dd({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Pd=dd({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Rd=dd({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Td=Object.freeze({__proto__:null,base32:Sd,base32upper:Id,base32pad:Nd,base32padupper:xd,base32hex:Cd,base32hexupper:Od,base32hexpad:Bd,base32hexpadupper:Pd,base32z:Rd});const kd=ld({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Ud=ld({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Dd=Object.freeze({__proto__:null,base36:kd,base36upper:Ud});const Fd=ld({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ld=ld({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var qd=Object.freeze({__proto__:null,base58btc:Fd,base58flickr:Ld});const jd=dd({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),zd=dd({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Hd=dd({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Kd=dd({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Qd=Object.freeze({__proto__:null,base64:jd,base64pad:zd,base64url:Hd,base64urlpad:Kd});const Gd=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),Yd=Gd.reduce(((t,e,r)=>(t[r]=e,t)),[]),Jd=Gd.reduce(((t,e,r)=>(t[e.codePointAt(0)]=r,t)),[]);const Wd=cd({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(t){return t.reduce(((t,e)=>t+=Yd[e]),"")},decode:function(t){const e=[];for(const r of t){const t=Jd[r.codePointAt(0)];if(void 0===t)throw new Error(`Non-base256emoji character: ${r}`);e.push(t)}return new Uint8Array(e)}});var Vd=Object.freeze({__proto__:null,base256emoji:Wd}),Xd=function t(e,r,i){r=r||[];for(var n=i=i||0;e>=tp;)r[i++]=255&e|Zd,e/=128;for(;e&$d;)r[i++]=255&e|Zd,e>>>=7;return r[i]=0|e,t.bytes=i-n+1,r},Zd=128,$d=-128,tp=Math.pow(2,31);var ep=function t(e,r){var i,n=0,s=(r=r||0,0),o=r,a=e.length;do{if(o>=a)throw t.bytes=0,new RangeError("Could not decode varint");i=e[o++],n+=s<28?(i&ip)<<s:(i&ip)*Math.pow(2,s),s+=7}while(i>=rp);return t.bytes=o-r,n},rp=128,ip=127;var np=Math.pow(2,7),sp=Math.pow(2,14),op=Math.pow(2,21),ap=Math.pow(2,28),hp=Math.pow(2,35),up=Math.pow(2,42),fp=Math.pow(2,49),cp=Math.pow(2,56),lp=Math.pow(2,63),dp={encode:Xd,decode:ep,encodingLength:function(t){return t<np?1:t<sp?2:t<op?3:t<ap?4:t<hp?5:t<up?6:t<fp?7:t<cp?8:t<lp?9:10}},pp=dp;const gp=(t,e,r=0)=>(pp.encode(t,e,r),e),mp=t=>pp.encodingLength(t),vp=(t,e)=>{const r=e.byteLength,i=mp(t),n=i+mp(r),s=new Uint8Array(n+r);return gp(t,s,0),gp(r,s,i),s.set(e,n),new yp(t,r,e,s)};class yp{constructor(t,e,r,i){this.code=t,this.size=e,this.digest=r,this.bytes=i}}const wp=({name:t,code:e,encode:r})=>new bp(t,e,r);class bp{constructor(t,e,r){this.name=t,this.code=e,this.encode=r}digest(t){if(t instanceof Uint8Array){const e=this.encode(t);return e instanceof Uint8Array?vp(this.code,e):e.then((t=>vp(this.code,t)))}throw Error("Unknown type, must be binary type")}}const Ap=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Ep=wp({name:"sha2-256",code:18,encode:Ap("SHA-256")}),Mp=wp({name:"sha2-512",code:19,encode:Ap("SHA-512")});Object.freeze({__proto__:null,sha256:Ep,sha512:Mp});const _p=sd,Sp={code:0,name:"identity",encode:_p,digest:t=>vp(0,_p(t))};Object.freeze({__proto__:null,identity:Sp});new TextEncoder,new TextDecoder;const Ip={...gd,...vd,...wd,...Ad,..._d,...Td,...Dd,...qd,...Qd,...Vd};function Np(t,e,r,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:i}}}const xp=Np("utf8","u",(t=>"u"+new TextDecoder("utf8").decode(t)),(t=>(new TextEncoder).encode(t.substring(1)))),Cp=Np("ascii","a",(t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}),(t=>{const e=function(t=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}((t=t.substring(1)).length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e})),Op={utf8:xp,"utf-8":xp,hex:Ip.base16,latin1:Cp,ascii:Cp,binary:Cp,...Ip};const Bp="core",Pp=`wc@2:${Bp}:`,Rp="error",Tp={database:":memory:"},kp="client_ed25519_seed",Up=w.ONE_DAY,Dp=w.SIX_HOURS,Fp="wss://relay.walletconnect.org",Lp="relayer_message",qp="relayer_message_ack",jp="relayer_connect",zp="relayer_disconnect",Hp="relayer_error",Kp="relayer_connection_stalled",Qp="relayer_publish",Gp="payload",Yp="connect",Jp="disconnect",Wp="error",Vp="subscription_created",Xp="subscription_deleted",Zp="subscription_sync",$p="subscription_resubscribed",tg=1e3*w.FIVE_SECONDS,eg={wc_pairingDelete:{req:{ttl:w.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:w.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:w.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:w.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:w.ONE_DAY,prompt:!1,tag:0},res:{ttl:w.ONE_DAY,prompt:!1,tag:0}}},rg="pairing_create",ig="pairing_expire",ng="pairing_delete",sg="pairing_ping",og="history_created",ag="history_updated",hg="history_deleted",ug="history_sync",fg="expirer_created",cg="expirer_deleted",lg="expirer_expired",dg="expirer_sync",pg="verify-api",gg="https://verify.walletconnect.org",mg=gg,vg=["https://verify.walletconnect.com",gg];class yg{constructor(t,e){this.core=t,this.logger=e,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=Pp,this.init=async()=>{if(!this.initialized){const t=await this.getKeyChain();typeof t<"u"&&(this.keychain=t),this.initialized=!0}},this.has=t=>(this.isInitialized(),this.keychain.has(t)),this.set=async(t,e)=>{this.isInitialized(),this.keychain.set(t,e),await this.persist()},this.get=t=>{this.isInitialized();const e=this.keychain.get(t);if(typeof e>"u"){const{message:e}=ll("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(e)}return e},this.del=async t=>{this.isInitialized(),this.keychain.delete(t),await this.persist()},this.core=t,this.logger=ao(e,this.name)}get context(){return oo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,xa(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?Ca(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=ll("NOT_INITIALIZED",this.name);throw new Error(t)}}}class wg{constructor(t,e,r){this.core=t,this.logger=e,this.name="crypto",this.randomSessionIdentifier=Hc(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=t=>(this.isInitialized(),this.keychain.has(t)),this.getClientId=async()=>{this.isInitialized();return zo(Ho(await this.getClientSeed()).publicKey)},this.generateKeyPair=()=>{this.isInitialized();const t=function(){const t=I.TZ();return{privateKey:la(t.secretKey,Tc),publicKey:la(t.publicKey,Tc)}}();return this.setPrivateKey(t.publicKey,t.privateKey)},this.signJWT=async t=>{this.isInitialized();const e=Ho(await this.getClientSeed()),r=this.randomSessionIdentifier,i=Up;return await Ko(r,t,i,e)},this.generateSharedKey=(t,e,r)=>{this.isInitialized();const i=function(t,e){const r=I.Tc(ca(t,Tc),ca(e,Tc),!0);return la(new M.i(S.aD,r).expand(zc),Tc)}(this.getPrivateKey(t),e);return this.setSymKey(i,r)},this.setSymKey=async(t,e)=>{this.isInitialized();const r=e||function(t){return la((0,S.tW)(ca(t,Tc)),Tc)}(t);return await this.keychain.set(r,t),r},this.deleteKeyPair=async t=>{this.isInitialized(),await this.keychain.del(t)},this.deleteSymKey=async t=>{this.isInitialized(),await this.keychain.del(t)},this.encode=async(t,e,r)=>{this.isInitialized();const i=Jc(r),n=Ns(e);if(Wc(i)){const e=i.senderPublicKey,r=i.receiverPublicKey;t=await this.generateSharedKey(e,r)}const s=this.getSymKey(t),{type:o,senderPublicKey:a}=i;return Gc({type:o,symKey:s,message:n,senderPublicKey:a})},this.decode=async(t,e,r)=>{this.isInitialized();const i=function(t,e){const r=Yc(t);return Jc({type:Qc(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?la(r.senderPublicKey,Tc):void 0,receiverPublicKey:e?.receiverPublicKey})}(e,r);if(Wc(i)){const e=i.receiverPublicKey,r=i.senderPublicKey;t=await this.generateSharedKey(e,r)}try{const r=function(t){const e=new E.g6(ca(t.symKey,Tc)),{sealed:r,iv:i}=Yc(t.encoded),n=e.open(i,r);if(null===n)throw new Error("Failed to decrypt");return la(n,Uc)}({symKey:this.getSymKey(t),encoded:e});return Is(r)}catch(n){this.logger.error(`Failed to decode message from topic: '${t}', clientId: '${await this.getClientId()}'`),this.logger.error(n)}},this.getPayloadType=t=>Qc(Yc(t).type),this.getPayloadSenderPublicKey=t=>{const e=Yc(t);return e.senderPublicKey?la(e.senderPublicKey,Tc):void 0},this.core=t,this.logger=ao(e,this.name),this.keychain=r||new yg(this.core,this.logger)}get context(){return oo(this.logger)}async setPrivateKey(t,e){return await this.keychain.set(t,e),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(kp)}catch{t=Hc(),await this.keychain.set(kp,t)}return function(t,e="utf8"){const r=Op[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${t}`):globalThis.Buffer.from(t,"utf8")}(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=ll("NOT_INITIALIZED",this.name);throw new Error(t)}}}class bg extends co{constructor(t,e){super(t,e),this.logger=t,this.core=e,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=Pp,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const t=await this.getRelayerMessages();typeof t<"u"&&(this.messages=t),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(io){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(io)}finally{this.initialized=!0}}},this.set=async(t,e)=>{this.isInitialized();const r=Kc(e);let i=this.messages.get(t);return typeof i>"u"&&(i={}),typeof i[r]<"u"||(i[r]=e,this.messages.set(t,i),await this.persist()),r},this.get=t=>{this.isInitialized();let e=this.messages.get(t);return typeof e>"u"&&(e={}),e},this.has=(t,e)=>{this.isInitialized();return typeof this.get(t)[Kc(e)]<"u"},this.del=async t=>{this.isInitialized(),this.messages.delete(t),await this.persist()},this.logger=ao(t,this.name),this.core=e}get context(){return oo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,xa(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?Ca(t):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:t}=ll("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Ag extends lo{constructor(t,e){super(t,e),this.relayer=t,this.logger=e,this.events=new v.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=(0,w.toMiliseconds)(w.ONE_MINUTE),this.failedPublishTimeout=(0,w.toMiliseconds)(w.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(t,e,r)=>{var i;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:t,message:e,opts:r}});const n=r?.ttl||Dp,s=Vc(r),o=r?.prompt||!1,a=r?.tag||0,h=r?.id||kl().toString(),u={topic:t,message:e,opts:{ttl:n,relay:s,prompt:o,tag:a,id:h,attestation:r?.attestation}},f=`Failed to publish payload, please try again. id:${h} tag:${a}`,c=Date.now();let l,d=1;try{for(;void 0===l;){if(Date.now()-c>this.publishTimeout)throw new Error(f);this.logger.trace({id:h,attempts:d},`publisher.publish - attempt ${d}`),l=await await Oa(this.rpcPublish(t,e,n,s,o,a,h,r?.attestation).catch((t=>this.logger.warn(t))),this.publishTimeout,f),d++,l||await new Promise((t=>setTimeout(t,this.failedPublishTimeout)))}this.relayer.events.emit(Qp,u),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:h,topic:t,message:e,opts:r}})}catch(p){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(p),null!=(i=r?.internal)&&i.throwOnFailedPublish)throw p;this.queue.set(h,u)}},this.on=(t,e)=>{this.events.on(t,e)},this.once=(t,e)=>{this.events.once(t,e)},this.off=(t,e)=>{this.events.off(t,e)},this.removeListener=(t,e)=>{this.events.removeListener(t,e)},this.relayer=t,this.logger=ao(e,this.name),this.registerEventListeners()}get context(){return oo(this.logger)}rpcPublish(t,e,r,i,n,s,o,a){var h,u,f,c;const l={method:Xc(i.protocol).publish,params:{topic:t,message:e,ttl:r,prompt:n,tag:s,attestation:a},id:o};return gl(null==(h=l.params)?void 0:h.prompt)&&(null==(u=l.params)||delete u.prompt),gl(null==(f=l.params)?void 0:f.tag)&&(null==(c=l.params)||delete c.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:l}),this.relayer.request(l)}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach((async t=>{const{topic:e,message:r,opts:i}=t;await this.publish(e,r,i)}))}registerEventListeners(){this.relayer.core.heartbeat.on(Ls,(()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit(Kp);this.checkQueue()})),this.relayer.on(qp,(t=>{this.removeRequestFromQueue(t.id.toString())}))}}class Eg{constructor(){this.map=new Map,this.set=(t,e)=>{const r=this.get(t);this.exists(t,e)||this.map.set(t,[...r,e])},this.get=t=>this.map.get(t)||[],this.exists=(t,e)=>this.get(t).includes(e),this.delete=(t,e)=>{if(typeof e>"u")return void this.map.delete(t);if(!this.map.has(t))return;const r=this.get(t);if(!this.exists(t,e))return;const i=r.filter((t=>t!==e));i.length?this.map.set(t,i):this.map.delete(t)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var Mg=Object.defineProperty,_g=Object.defineProperties,Sg=Object.getOwnPropertyDescriptors,Ig=Object.getOwnPropertySymbols,Ng=Object.prototype.hasOwnProperty,xg=Object.prototype.propertyIsEnumerable,Cg=(t,e,r)=>e in t?Mg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Og=(t,e)=>{for(var r in e||(e={}))Ng.call(e,r)&&Cg(t,r,e[r]);if(Ig)for(var r of Ig(e))xg.call(e,r)&&Cg(t,r,e[r]);return t},Bg=(t,e)=>_g(t,Sg(e));class Pg extends mo{constructor(t,e){super(t,e),this.relayer=t,this.logger=e,this.subscriptions=new Map,this.topicMap=new Eg,this.events=new v.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Pp,this.subscribeTimeout=(0,w.toMiliseconds)(w.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(t,e)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:t,opts:e}});try{const r=Vc(e),i={topic:t,relay:r};this.pending.set(t,i);const n=await this.rpcSubscribe(t,r);return"string"==typeof n&&(this.onSubscribe(n,i),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:t,opts:e}})),n}catch(r){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(r),r}},this.unsubscribe=async(t,e)=>{await this.restartToComplete(),this.isInitialized(),typeof e?.id<"u"?await this.unsubscribeById(t,e.id,e):await this.unsubscribeByTopic(t,e)},this.isSubscribed=async t=>{if(this.topics.includes(t))return!0;const e=`${this.pendingSubscriptionWatchLabel}_${t}`;return await new Promise(((r,i)=>{const n=new w.Watch;n.start(e);const s=setInterval((()=>{!this.pending.has(t)&&this.topics.includes(t)&&(clearInterval(s),n.stop(e),r(!0)),n.elapsed(e)>=tg&&(clearInterval(s),n.stop(e),i(new Error("Subscription resolution timeout")))}),this.pollingInterval)})).catch((()=>!1))},this.on=(t,e)=>{this.events.on(t,e)},this.once=(t,e)=>{this.events.once(t,e)},this.off=(t,e)=>{this.events.off(t,e)},this.removeListener=(t,e)=>{this.events.removeListener(t,e)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=t,this.logger=ao(e,this.name),this.clientId=""}get context(){return oo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(t,e){let r=!1;try{r=this.getSubscription(t).topic===e}catch{}return r}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,e){const r=this.topicMap.get(t);await Promise.all(r.map((async r=>await this.unsubscribeById(t,r,e))))}async unsubscribeById(t,e,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:e,opts:r}});try{const i=Vc(r);await this.rpcUnsubscribe(t,e,i);const n=dl("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,e,n),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:e,opts:r}})}catch(Fs){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(Fs),Fs}}async rpcSubscribe(t,e){const r={method:Xc(e.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{return await await Oa(this.relayer.request(r).catch((t=>this.logger.warn(t))),this.subscribeTimeout)?Kc(t+this.clientId):null}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Kp)}return null}async rpcBatchSubscribe(t){if(!t.length)return;const e={method:Xc(t[0].relay.protocol).batchSubscribe,params:{topics:t.map((t=>t.topic))}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:e});try{return await await Oa(this.relayer.request(e).catch((t=>this.logger.warn(t))),this.subscribeTimeout)}catch{this.relayer.events.emit(Kp)}}async rpcBatchFetchMessages(t){if(!t.length)return;const e={method:Xc(t[0].relay.protocol).batchFetchMessages,params:{topics:t.map((t=>t.topic))}};let r;this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:e});try{r=await await Oa(this.relayer.request(e).catch((t=>this.logger.warn(t))),this.subscribeTimeout)}catch{this.relayer.events.emit(Kp)}return r}rpcUnsubscribe(t,e,r){const i={method:Xc(r.protocol).unsubscribe,params:{topic:t,id:e}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(t,e){this.setSubscription(t,Bg(Og({},e),{id:t})),this.pending.delete(e.topic)}onBatchSubscribe(t){t.length&&t.forEach((t=>{this.setSubscription(t.id,Og({},t)),this.pending.delete(t.topic)}))}async onUnsubscribe(t,e,r){this.events.removeAllListeners(e),this.hasSubscription(e,t)&&this.deleteSubscription(e,r),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,e){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:e}),this.addSubscription(t,e)}addSubscription(t,e){this.subscriptions.set(t,Og({},e)),this.topicMap.set(e.topic,t),this.events.emit(Vp,e)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const e=this.subscriptions.get(t);if(!e){const{message:e}=ll("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(e)}return e}deleteSubscription(t,e){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:e});const r=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(r.topic,t),this.events.emit(Xp,Bg(Og({},r),{reason:e}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Zp)}async reset(){if(this.cached.length){const t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let e=0;e<t;e++){const t=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchFetchMessages(t),await this.batchSubscribe(t)}}this.events.emit($p)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:t}=ll("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){if(!t.length)return;const e=await this.rpcBatchSubscribe(t);pl(e)&&this.onBatchSubscribe(e.map(((e,r)=>Bg(Og({},t[r]),{id:e}))))}async batchFetchMessages(t){if(!t.length)return;this.logger.trace(`Fetching batch messages for ${t.length} subscriptions`);const e=await this.rpcBatchFetchMessages(t);e&&e.messages&&(this.pendingBatchMessages=this.pendingBatchMessages.concat(e.messages))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;const t=[];this.pending.forEach((e=>{t.push(e)})),await this.batchSubscribe(t),this.pendingBatchMessages.length&&(await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),this.pendingBatchMessages=[])}registerEventListeners(){this.relayer.core.heartbeat.on(Ls,(async()=>{await this.checkPending()})),this.events.on(Vp,(async t=>{const e=Vp;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,data:t}),await this.persist()})),this.events.on(Xp,(async t=>{const e=Xp;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,data:t}),await this.persist()}))}isInitialized(){if(!this.initialized){const{message:t}=ll("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(){this.restartInProgress&&await new Promise((t=>{const e=setInterval((()=>{this.restartInProgress||(clearInterval(e),t())}),this.pollingInterval)}))}}var Rg=Object.defineProperty,Tg=Object.getOwnPropertySymbols,kg=Object.prototype.hasOwnProperty,Ug=Object.prototype.propertyIsEnumerable,Dg=(t,e,r)=>e in t?Rg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;class Fg extends po{constructor(t){super(t),this.protocol="wc",this.version=2,this.events=new v.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=(0,w.toMiliseconds)(w.THIRTY_SECONDS+w.ONE_SECOND),this.request=async t=>{var e,r;this.logger.debug("Publishing Request Payload");const i=t.id||kl().toString();await this.toEstablishConnection();try{const n=this.provider.request(t);this.requestsInFlight.set(i,{promise:n,request:t}),this.logger.trace({id:i,method:t.method,topic:null==(e=t.params)?void 0:e.topic},"relayer.request - attempt to publish...");const s=await new Promise((async(t,e)=>{const r=()=>{e(new Error(`relayer.request - publish interrupted, id: ${i}`))};this.provider.on(Jp,r);const s=await n;this.provider.off(Jp,r),t(s)}));return this.logger.trace({id:i,method:t.method,topic:null==(r=t.params)?void 0:r.topic},"relayer.request - published"),s}catch(n){throw this.logger.debug(`Failed to Publish Request: ${i}`),n}finally{this.requestsInFlight.delete(i)}},this.resetPingTimeout=()=>{if(Ea())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout((()=>{var t,e,r;null==(r=null==(e=null==(t=this.provider)?void 0:t.connection)?void 0:e.socket)||r.terminate()}),this.heartBeatTimeout)}catch(t){this.logger.warn(t)}},this.onPayloadHandler=t=>{this.onProviderPayload(t),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.trace("relayer connected"),this.startPingTimeout(),this.events.emit(jp)},this.onDisconnectHandler=()=>{this.logger.trace("relayer disconnected"),this.onProviderDisconnect()},this.onProviderErrorHandler=t=>{this.logger.error(t),this.events.emit(Hp,t),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(Gp,this.onPayloadHandler),this.provider.on(Yp,this.onConnectHandler),this.provider.on(Jp,this.onDisconnectHandler),this.provider.on(Wp,this.onProviderErrorHandler)},this.core=t.core,this.logger=typeof t.logger<"u"&&"string"!=typeof t.logger?ao(t.logger,this.name):zs()(so({level:t.logger||"error"})),this.messages=new bg(this.logger,t.core),this.subscriber=new Pg(this,this.logger),this.publisher=new Ag(this,this.logger),this.relayUrl=t?.relayUrl||Fp,this.projectId=t.projectId,this.bundleId=function(){var t;try{return Ma()&&typeof r.g<"u"&&typeof(null==r.g?void 0:r.g.Application)<"u"?null==(t=r.g.Application)?void 0:t.applicationId:void 0}catch{return}}(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),await this.transportOpen(),this.initialized=!0,setTimeout((async()=>{0===this.subscriber.topics.length&&0===this.subscriber.pending.size&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)}),1e4)}get context(){return oo(this.logger)}get connected(){var t,e,r;return 1===(null==(r=null==(e=null==(t=this.provider)?void 0:t.connection)?void 0:e.socket)?void 0:r.readyState)}get connecting(){var t,e,r;return 0===(null==(r=null==(e=null==(t=this.provider)?void 0:t.connection)?void 0:e.socket)?void 0:r.readyState)}async publish(t,e,r){this.isInitialized(),await this.publisher.publish(t,e,r),await this.recordMessageEvent({topic:t,message:e,publishedAt:Date.now()})}async subscribe(t,e){var r;this.isInitialized();let i,n=(null==(r=this.subscriber.topicMap.get(t))?void 0:r[0])||"";const s=e=>{e.topic===t&&(this.subscriber.off(Vp,s),i())};return await Promise.all([new Promise((t=>{i=t,this.subscriber.on(Vp,s)})),new Promise((async r=>{n=await this.subscriber.subscribe(t,e)||n,r()}))]),n}async unsubscribe(t,e){this.isInitialized(),await this.subscriber.unsubscribe(t,e)}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map((t=>t.promise)))}catch(t){this.logger.warn(t)}this.hasExperiencedNetworkDisruption||this.connected?await Oa(this.provider.disconnect(),2e3,"provider.disconnect()").catch((()=>this.onProviderDisconnect())):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(t){await this.confirmOnlineStateOrThrow(),t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportDisconnect()),await this.createProvider(),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise((async(t,e)=>{const r=()=>{this.provider.off(Jp,r),e(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(Jp,r),await Oa(this.provider.connect(),(0,w.toMiliseconds)(w.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch((t=>{e(t)})),this.subscriber.start().catch((t=>{this.logger.error(t),this.onDisconnectHandler()})),this.hasExperiencedNetworkDisruption=!1,t()}))}catch(e){this.logger.error(e);const t=e;if(this.hasExperiencedNetworkDisruption=!0,!this.isConnectionStalled(t.message))throw e}finally{this.connectionAttemptInProgress=!1}}async restartTransport(t){this.connectionAttemptInProgress||(this.relayUrl=t||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await yl())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(t){if(0===t?.length)return void this.logger.trace("Batch message events is empty. Ignoring...");const e=t.sort(((t,e)=>t.publishedAt-e.publishedAt));this.logger.trace(`Batch of ${e.length} message events sorted`);for(const r of e)try{await this.onMessageEvent(r)}catch(Fs){this.logger.warn(Fs)}this.logger.trace(`Batch of ${e.length} message events processed`)}startPingTimeout(){var t,e,r,i,n;if(Ea())try{null!=(e=null==(t=this.provider)?void 0:t.connection)&&e.socket&&(null==(n=null==(i=null==(r=this.provider)?void 0:r.connection)?void 0:i.socket)||n.once("ping",(()=>{this.resetPingTimeout()}))),this.resetPingTimeout()}catch(s){this.logger.warn(s)}}isConnectionStalled(t){return this.staleConnectionErrors.some((e=>t.includes(e)))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Xl(new td(Na({sdkVersion:"2.15.1",protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(t){const{topic:e,message:r}=t;await this.messages.set(e,r)}async shouldIgnoreMessageEvent(t){const{topic:e,message:r}=t;if(!r||0===r.length)return this.logger.debug(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isSubscribed(e))return this.logger.debug(`Ignoring message for non-subscribed topic ${e}`),!0;const i=this.messages.has(e,r);return i&&this.logger.debug(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),Yl(t)){if(!t.method.endsWith("_subscription"))return;const e=t.params,{topic:r,message:i,publishedAt:n,attestation:s}=e.data,o={topic:r,message:i,publishedAt:n,attestation:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(((t,e)=>{for(var r in e||(e={}))kg.call(e,r)&&Dg(t,r,e[r]);if(Tg)for(var r of Tg(e))Ug.call(e,r)&&Dg(t,r,e[r]);return t})({type:"event",event:e.id},o)),this.events.emit(e.id,o),await this.acknowledgePayload(t),await this.onMessageEvent(o)}else Jl(t)&&this.events.emit(qp,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(this.events.emit(Lp,t),await this.recordMessageEvent(t))}async acknowledgePayload(t){const e=Dl(t.id,!0);await this.provider.connection.send(e)}unregisterProviderListeners(){this.provider.off(Gp,this.onPayloadHandler),this.provider.off(Yp,this.onConnectHandler),this.provider.off(Jp,this.onDisconnectHandler),this.provider.off(Wp,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let t=await yl();wl((async e=>{t!==e&&(t=e,e?await this.restartTransport().catch((t=>this.logger.error(t))):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}))}async onProviderDisconnect(){await this.subscriber.stop(),this.requestsInFlight.clear(),clearTimeout(this.pingTimeout),this.events.emit(zp),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&setTimeout((async()=>{await this.transportOpen().catch((t=>this.logger.error(t)))}),(0,w.toMiliseconds)(.1))}isInitialized(){if(!this.initialized){const{message:t}=ll("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise((t=>{const e=setInterval((()=>{this.connected&&(clearInterval(e),t())}),this.connectionStatusPollingInterval)})),await this.transportOpen())}}var Lg=Object.defineProperty,qg=Object.getOwnPropertySymbols,jg=Object.prototype.hasOwnProperty,zg=Object.prototype.propertyIsEnumerable,Hg=(t,e,r)=>e in t?Lg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Kg=(t,e)=>{for(var r in e||(e={}))jg.call(e,r)&&Hg(t,r,e[r]);if(qg)for(var r of qg(e))zg.call(e,r)&&Hg(t,r,e[r]);return t};class Qg extends go{constructor(t,e,r,i=Pp,n=void 0){super(t,e,r,i),this.core=t,this.logger=e,this.name=r,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Pp,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((t=>{this.getKey&&null!==t&&!gl(t)?this.map.set(this.getKey(t),t):function(t){var e;return null==(e=t?.proposer)?void 0:e.publicKey}(t)?this.map.set(t.id,t):function(t){return t?.topic}(t)&&this.map.set(t.topic,t)})),this.cached=[],this.initialized=!0)},this.set=async(t,e)=>{this.isInitialized(),this.map.has(t)?await this.update(t,e):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:t,value:e}),this.map.set(t,e),await this.persist())},this.get=t=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:t}),this.getData(t)),this.getAll=t=>(this.isInitialized(),t?this.values.filter((e=>Object.keys(t).every((r=>rd()(e[r],t[r]))))):this.values),this.update=async(t,e)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:t,update:e});const r=Kg(Kg({},this.getData(t)),e);this.map.set(t,r),await this.persist()},this.delete=async(t,e)=>{this.isInitialized(),this.map.has(t)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:t,reason:e}),this.map.delete(t),this.addToRecentlyDeleted(t),await this.persist())},this.logger=ao(e,this.name),this.storagePrefix=i,this.getKey=n}get context(){return oo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(t){this.recentlyDeleted.push(t),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const e=this.map.get(t);if(!e){if(this.recentlyDeleted.includes(t)){const{message:e}=ll("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${t}`);throw this.logger.error(e),new Error(e)}const{message:e}=ll("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(e),new Error(e)}return e}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:t}=ll("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=ll("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Gg{constructor(t,e){this.core=t,this.logger=e,this.name="pairing",this.version="0.3",this.events=new(y()),this.initialized=!1,this.storagePrefix=Pp,this.ignoredPayloadTypes=[Fc],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:t})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...t])]},this.create=async t=>{this.isInitialized();const e=Hc(),r=await this.core.crypto.setSymKey(e),i=Pa(w.FIVE_MINUTES),n={protocol:"irn"},s={topic:r,expiry:i,relay:n,active:!1},o=ul({protocol:this.core.protocol,version:this.core.version,topic:r,symKey:e,relay:n,expiryTimestamp:i,methods:t?.methods});return this.core.expirer.set(r,i),await this.pairings.set(r,s),await this.core.relayer.subscribe(r),{topic:r,uri:o}},this.pair=async t=>{this.isInitialized(),this.isValidPair(t);const{topic:e,symKey:r,relay:i,expiryTimestamp:n,methods:s}=al(t.uri);let o;if(this.pairings.keys.includes(e)&&(o=this.pairings.get(e),o.active))throw new Error(`Pairing already exists: ${e}. Please try again with a new connection URI.`);const a=n||Pa(w.FIVE_MINUTES),h={topic:e,relay:i,expiry:a,active:!1,methods:s};return this.core.expirer.set(e,a),await this.pairings.set(e,h),t.activatePairing&&await this.activate({topic:e}),this.events.emit(rg,h),this.core.crypto.keychain.has(e)||await this.core.crypto.setSymKey(r,e),await this.core.relayer.subscribe(e,{relay:i}),h},this.activate=async({topic:t})=>{this.isInitialized();const e=Pa(w.THIRTY_DAYS);this.core.expirer.set(t,e),await this.pairings.update(t,{active:!0,expiry:e})},this.ping=async t=>{this.isInitialized(),await this.isValidPing(t);const{topic:e}=t;if(this.pairings.keys.includes(e)){const t=await this.sendRequest(e,"wc_pairingPing",{}),{done:r,resolve:i,reject:n}=function(t=w.FIVE_MINUTES,e){const r=(0,w.toMiliseconds)(t||w.FIVE_MINUTES);let i,n,s;return{resolve:t=>{s&&i&&(clearTimeout(s),i(t))},reject:t=>{s&&n&&(clearTimeout(s),n(t))},done:()=>new Promise(((t,o)=>{s=setTimeout((()=>{o(new Error(e))}),r),i=t,n=o}))}}();this.events.once(Ta("pairing_ping",t),(({error:t})=>{t?n(t):i()})),await r()}},this.updateExpiry=async({topic:t,expiry:e})=>{this.isInitialized(),await this.pairings.update(t,{expiry:e})},this.updateMetadata=async({topic:t,metadata:e})=>{this.isInitialized(),await this.pairings.update(t,{peerMetadata:e})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async t=>{this.isInitialized(),await this.isValidDisconnect(t);const{topic:e}=t;this.pairings.keys.includes(e)&&(await this.sendRequest(e,"wc_pairingDelete",dl("USER_DISCONNECTED")),await this.deletePairing(e))},this.sendRequest=async(t,e,r)=>{const i=Ul(e,r),n=await this.core.crypto.encode(t,i),s=eg[e].req;return this.core.history.set(t,i),this.core.relayer.publish(t,n,s),i.id},this.sendResult=async(t,e,r)=>{const i=Dl(t,r),n=await this.core.crypto.encode(e,i),s=await this.core.history.get(e,t),o=eg[s.request.method].res;await this.core.relayer.publish(e,n,o),await this.core.history.resolve(i)},this.sendError=async(t,e,r)=>{const i=Fl(t,r),n=await this.core.crypto.encode(e,i),s=await this.core.history.get(e,t),o=eg[s.request.method]?eg[s.request.method].res:eg.unregistered_method.res;await this.core.relayer.publish(e,n,o),await this.core.history.resolve(i)},this.deletePairing=async(t,e)=>{await this.core.relayer.unsubscribe(t),await Promise.all([this.pairings.delete(t,dl("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(t),e?Promise.resolve():this.core.expirer.del(t)])},this.cleanup=async()=>{const t=this.pairings.getAll().filter((t=>Ra(t.expiry)));await Promise.all(t.map((t=>this.deletePairing(t.topic))))},this.onRelayEventRequest=t=>{const{topic:e,payload:r}=t;switch(r.method){case"wc_pairingPing":return this.onPairingPingRequest(e,r);case"wc_pairingDelete":return this.onPairingDeleteRequest(e,r);default:return this.onUnknownRpcMethodRequest(e,r)}},this.onRelayEventResponse=async t=>{const{topic:e,payload:r}=t,i=(await this.core.history.get(e,r.id)).request.method;return"wc_pairingPing"===i?this.onPairingPingResponse(e,r):this.onUnknownRpcMethodResponse(i)},this.onPairingPingRequest=async(t,e)=>{const{id:r}=e;try{this.isValidPing({topic:t}),await this.sendResult(r,t,!0),this.events.emit(sg,{id:r,topic:t})}catch(i){await this.sendError(r,t,i),this.logger.error(i)}},this.onPairingPingResponse=(t,e)=>{const{id:r}=e;setTimeout((()=>{Wl(e)?this.events.emit(Ta("pairing_ping",r),{}):Vl(e)&&this.events.emit(Ta("pairing_ping",r),{error:e.error})}),500)},this.onPairingDeleteRequest=async(t,e)=>{const{id:r}=e;try{this.isValidDisconnect({topic:t}),await this.deletePairing(t),this.events.emit(ng,{id:r,topic:t})}catch(i){await this.sendError(r,t,i),this.logger.error(i)}},this.onUnknownRpcMethodRequest=async(t,e)=>{const{id:r,method:i}=e;try{if(this.registeredMethods.includes(i))return;const e=dl("WC_METHOD_UNSUPPORTED",i);await this.sendError(r,t,e),this.logger.error(e)}catch(n){await this.sendError(r,t,n),this.logger.error(n)}},this.onUnknownRpcMethodResponse=t=>{this.registeredMethods.includes(t)||this.logger.error(dl("WC_METHOD_UNSUPPORTED",t))},this.isValidPair=t=>{var e;if(!vl(t)){const{message:e}=ll("MISSING_OR_INVALID",`pair() params: ${t}`);throw new Error(e)}if(!function(t){if(ml(t,!1))try{return typeof new URL(t)<"u"}catch{return!1}return!1}(t.uri)){const{message:e}=ll("MISSING_OR_INVALID",`pair() uri: ${t.uri}`);throw new Error(e)}const r=al(t.uri);if(null==(e=r?.relay)||!e.protocol){const{message:t}=ll("MISSING_OR_INVALID","pair() uri#relay-protocol");throw new Error(t)}if(null==r||!r.symKey){const{message:t}=ll("MISSING_OR_INVALID","pair() uri#symKey");throw new Error(t)}if(null!=r&&r.expiryTimestamp&&(0,w.toMiliseconds)(r?.expiryTimestamp)<Date.now()){const{message:t}=ll("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(t)}},this.isValidPing=async t=>{if(!vl(t)){const{message:e}=ll("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(e)}const{topic:e}=t;await this.isValidPairingTopic(e)},this.isValidDisconnect=async t=>{if(!vl(t)){const{message:e}=ll("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(e)}const{topic:e}=t;await this.isValidPairingTopic(e)},this.isValidPairingTopic=async t=>{if(!ml(t,!1)){const{message:e}=ll("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(e)}if(!this.pairings.keys.includes(t)){const{message:e}=ll("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(e)}if(Ra(this.pairings.get(t).expiry)){await this.deletePairing(t);const{message:e}=ll("EXPIRED",`pairing topic: ${t}`);throw new Error(e)}},this.core=t,this.logger=ao(e,this.name),this.pairings=new Qg(this.core,this.logger,this.name,this.storagePrefix)}get context(){return oo(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=ll("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(Lp,(async t=>{const{topic:e,message:r}=t;if(!this.pairings.keys.includes(e)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))return;const i=await this.core.crypto.decode(e,r);try{Yl(i)?(this.core.history.set(e,i),this.onRelayEventRequest({topic:e,payload:i})):Jl(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:e,payload:i}),this.core.history.delete(e,i.id))}catch(n){this.logger.error(n)}}))}registerExpirerEvents(){this.core.expirer.on(lg,(async t=>{const{topic:e}=function(t){const[e,r]=t.split(":"),i={id:void 0,topic:void 0};if("topic"===e&&"string"==typeof r)i.topic=r;else{if("id"!==e||!Number.isInteger(Number(r)))throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);i.id=Number(r)}return i}(t.target);e&&this.pairings.keys.includes(e)&&(await this.deletePairing(e,!0),this.events.emit(ig,{topic:e}))}))}}class Yg extends fo{constructor(t,e){super(t,e),this.core=t,this.logger=e,this.records=new Map,this.events=new v.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Pp,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((t=>this.records.set(t.id,t))),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(t,e,r)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:t,request:e,chainId:r}),this.records.has(e.id))return;const i={id:e.id,topic:t,request:{method:e.method,params:e.params||null},chainId:r,expiry:Pa(w.THIRTY_DAYS)};this.records.set(i.id,i),this.persist(),this.events.emit(og,i)},this.resolve=async t=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:t}),!this.records.has(t.id))return;const e=await this.getRecord(t.id);typeof e.response>"u"&&(e.response=Vl(t)?{error:t.error}:{result:t.result},this.records.set(e.id,e),this.persist(),this.events.emit(ag,e))},this.get=async(t,e)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:t,id:e}),await this.getRecord(e)),this.delete=(t,e)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:e}),this.values.forEach((r=>{if(r.topic===t){if(typeof e<"u"&&r.id!==e)return;this.records.delete(r.id),this.events.emit(hg,r)}})),this.persist()},this.exists=async(t,e)=>(this.isInitialized(),!!this.records.has(e)&&(await this.getRecord(e)).topic===t),this.on=(t,e)=>{this.events.on(t,e)},this.once=(t,e)=>{this.events.once(t,e)},this.off=(t,e)=>{this.events.off(t,e)},this.removeListener=(t,e)=>{this.events.removeListener(t,e)},this.logger=ao(e,this.name)}get context(){return oo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach((e=>{if(typeof e.response<"u")return;const r={topic:e.topic,request:Ul(e.request.method,e.request.params,e.id),chainId:e.chainId};return t.push(r)})),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const e=this.records.get(t);if(!e){const{message:e}=ll("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(e)}return e}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(ug)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:t}=ll("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(og,(t=>{const e=og;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,record:t})})),this.events.on(ag,(t=>{const e=ag;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,record:t})})),this.events.on(hg,(t=>{const e=hg;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,record:t})})),this.core.heartbeat.on(Ls,(()=>{this.cleanup()}))}cleanup(){try{this.isInitialized();let t=!1;this.records.forEach((e=>{(0,w.toMiliseconds)(e.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${e.id}`),this.records.delete(e.id),this.events.emit(hg,e,!1),t=!0)})),t&&this.persist()}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=ll("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Jg extends vo{constructor(t,e){super(t,e),this.core=t,this.logger=e,this.expirations=new Map,this.events=new v.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Pp,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((t=>this.expirations.set(t.target,t))),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=t=>{try{const e=this.formatTarget(t);return typeof this.getExpiration(e)<"u"}catch{return!1}},this.set=(t,e)=>{this.isInitialized();const r=this.formatTarget(t),i={target:r,expiry:e};this.expirations.set(r,i),this.checkExpiry(r,i),this.events.emit(fg,{target:r,expiration:i})},this.get=t=>{this.isInitialized();const e=this.formatTarget(t);return this.getExpiration(e)},this.del=t=>{if(this.isInitialized(),this.has(t)){const e=this.formatTarget(t),r=this.getExpiration(e);this.expirations.delete(e),this.events.emit(cg,{target:e,expiration:r})}},this.on=(t,e)=>{this.events.on(t,e)},this.once=(t,e)=>{this.events.once(t,e)},this.off=(t,e)=>{this.events.off(t,e)},this.removeListener=(t,e)=>{this.events.removeListener(t,e)},this.logger=ao(e,this.name)}get context(){return oo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if("string"==typeof t)return function(t){return Ba("topic",t)}(t);if("number"==typeof t)return function(t){return Ba("id",t)}(t);const{message:e}=ll("UNKNOWN_TYPE","Target type: "+typeof t);throw new Error(e)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(dg)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:t}=ll("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const e=this.expirations.get(t);if(!e){const{message:e}=ll("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.warn(e),new Error(e)}return e}checkExpiry(t,e){const{expiry:r}=e;(0,w.toMiliseconds)(r)-Date.now()<=0&&this.expire(t,e)}expire(t,e){this.expirations.delete(t),this.events.emit(lg,{target:t,expiration:e})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach(((t,e)=>this.checkExpiry(e,t)))}registerEventListeners(){this.core.heartbeat.on(Ls,(()=>this.checkExpirations())),this.events.on(fg,(t=>{const e=fg;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,data:t}),this.persist()})),this.events.on(lg,(t=>{const e=lg;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,data:t}),this.persist()})),this.events.on(cg,(t=>{const e=cg;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,data:t}),this.persist()}))}isInitialized(){if(!this.initialized){const{message:t}=ll("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Wg extends yo{constructor(t,e){super(t,e),this.projectId=t,this.logger=e,this.name=pg,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async t=>{if(this.verifyDisabled||Ma()||!_a())return;const e=this.getVerifyUrl(t?.verifyUrl);this.verifyUrl!==e&&this.removeIframe(),this.verifyUrl=e;try{await this.createIframe()}catch(r){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(r),this.verifyDisabled=!0}},this.register=async t=>{this.initialized?this.sendPost(t.attestationId):(this.addToQueue(t.attestationId),await this.init())},this.resolve=async t=>{if(this.isDevEnv)return"";const e=this.getVerifyUrl(t?.verifyUrl);return this.fetchAttestation(t.attestationId,e)},this.fetchAttestation=async(t,e)=>{this.logger.info(`resolving attestation: ${t} from url: ${e}`);const r=this.startAbortTimer(5*w.ONE_SECOND),i=await fetch(`${e}/attestation/${t}`,{signal:this.abortController.signal});return clearTimeout(r),200===i.status?await i.json():void 0},this.addToQueue=t=>{this.queue.push(t)},this.processQueue=()=>{0!==this.queue.length&&(this.queue.forEach((t=>this.sendPost(t))),this.queue=[])},this.sendPost=t=>{var e;try{if(!this.iframe)return;null==(e=this.iframe.contentWindow)||e.postMessage(t,"*"),this.logger.info(`postMessage sent: ${t} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let t;const e=r=>{"verify_ready"===r.data&&(this.onInit(),window.removeEventListener("message",e),t())};await Promise.race([new Promise((r=>{const i=document.getElementById(pg);if(i)return this.iframe=i,this.onInit(),r();window.addEventListener("message",e);const n=document.createElement("iframe");n.id=pg,n.src=`${this.verifyUrl}/${this.projectId}`,n.style.display="none",document.body.append(n),this.iframe=n,t=r})),new Promise(((t,r)=>setTimeout((()=>{window.removeEventListener("message",e),r("verify iframe load timeout")}),(0,w.toMiliseconds)(w.FIVE_SECONDS))))])},this.onInit=()=>{this.initialized=!0,this.processQueue()},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=t=>{let e=t||mg;return vg.includes(e)||(this.logger.info(`verify url: ${e}, not included in trusted list, assigning default: ${mg}`),e=mg),e},this.logger=ao(e,this.name),this.verifyUrl=mg,this.abortController=new AbortController,this.isDevEnv=Ea()&&process.env.IS_VITEST}get context(){return oo(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout((()=>this.abortController.abort()),(0,w.toMiliseconds)(t))}}class Vg extends wo{constructor(t,e){super(t,e),this.projectId=t,this.logger=e,this.context="echo",this.registerDeviceToken=async t=>{const{clientId:e,token:r,notificationType:i,enableEncrypted:n=!1}=t,s=`https://echo.walletconnect.com/${this.projectId}/clients`;await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:e,type:i,token:r,always_raw:n})})},this.logger=ao(e,this.context)}}var Xg=Object.defineProperty,Zg=Object.getOwnPropertySymbols,$g=Object.prototype.hasOwnProperty,tm=Object.prototype.propertyIsEnumerable,em=(t,e,r)=>e in t?Xg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,rm=(t,e)=>{for(var r in e||(e={}))$g.call(e,r)&&em(t,r,e[r]);if(Zg)for(var r of Zg(e))tm.call(e,r)&&em(t,r,e[r]);return t};class im extends uo{constructor(t){var e;super(t),this.protocol="wc",this.version=2,this.name=Bp,this.events=new v.EventEmitter,this.initialized=!1,this.on=(t,e)=>this.events.on(t,e),this.once=(t,e)=>this.events.once(t,e),this.off=(t,e)=>this.events.off(t,e),this.removeListener=(t,e)=>this.events.removeListener(t,e),this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||Fp,this.customStoragePrefix=null!=t&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const r=so({level:"string"==typeof t?.logger&&t.logger?t.logger:Rp}),{logger:i,chunkLoggerController:n}=ho({opts:r,maxSizeInBytes:t?.maxLogBlobSizeInBytes,loggerOverride:t?.logger});this.logChunkController=n,null!=(e=this.logChunkController)&&e.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var t,e;null!=(t=this.logChunkController)&&t.downloadLogsBlobInBrowser&&(null==(e=this.logChunkController)||e.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=ao(i,this.name),this.heartbeat=new qs,this.crypto=new wg(this,this.logger,t?.keychain),this.history=new Yg(this,this.logger),this.expirer=new Jg(this,this.logger),this.storage=null!=t&&t.storage?t.storage:new ks(rm(rm({},Tp),t?.storageOptions)),this.relayer=new Fg({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Gg(this,this.logger),this.verify=new Wg(this.projectId||"",this.logger),this.echoClient=new Vg(this.projectId||"",this.logger)}static async init(t){const e=new im(t);await e.initialize();const r=await e.crypto.getClientId();return await e.storage.setItem("WALLETCONNECT_CLIENT_ID",r),e}get context(){return oo(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var t;return null==(t=this.logChunkController)?void 0:t.logsToBlob({clientId:await this.crypto.getClientId()})}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}}const nm=im;r(7757);function sm(t,e,r,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:i}}}const om=sm("utf8","u",(t=>"u"+new TextDecoder("utf8").decode(t)),(t=>(new TextEncoder).encode(t.substring(1)))),am=sm("ascii","a",(t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}),(t=>{const e=function(t=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}((t=t.substring(1)).length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}));var hm={utf8:om,"utf-8":om,hex:Wt.base16,latin1:am,ascii:am,binary:am,...Wt};function um(t,e="utf8"){const r=hm[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${t}`):globalThis.Buffer.from(t,"utf8")}function fm(t,e="utf8"){const r=hm[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?r.encoder.encode(t).substring(1):globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8")}const cm=":";function lm(t){const[e,r]=t.split(cm);return{namespace:e,reference:r}}function dm(t,e){return t.includes(":")?[t]:e.chains||[]}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const pm="ReactNative",gm={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function mm(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function vm(){return!(0,b.getDocument)()&&!!(0,b.getNavigator)()&&navigator.product===pm}function ym(){return!mm()&&!!(0,b.getNavigator)()&&!!(0,b.getDocument)()}function wm(){return vm()?gm.reactNative:mm()?gm.node:ym()?gm.browser:gm.unknown}function bm(t,e){return t.filter((t=>e.includes(t))).length===t.length}function Am(t=w.FIVE_MINUTES,e){const r=(0,w.toMiliseconds)(t||w.FIVE_MINUTES);let i,n,s;return{resolve:t=>{s&&i&&(clearTimeout(s),i(t))},reject:t=>{s&&n&&(clearTimeout(s),n(t))},done:()=>new Promise(((t,o)=>{s=setTimeout((()=>{o(new Error(e))}),r),i=t,n=o}))}}function Em(t,e){return(0,w.fromMiliseconds)((e||Date.now())+(0,w.toMiliseconds)(t))}function Mm(t){return Date.now()>=(0,w.toMiliseconds)(t)}function _m(t,e){return`${t}${e?`:${e}`:""}`}function Sm(t=[],e=[]){return[...new Set([...t,...e])]}var Im=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof r.g<"u"?r.g:typeof self<"u"?self:{};var Nm={exports:{}};!function(t){!function(){var e="input is invalid type",r="object"==typeof window,i=r?window:{};i.JS_SHA3_NO_WINDOW&&(r=!1);var n=!r&&"object"==typeof self;!i.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?i=Im:n&&(i=self);var s=!i.JS_SHA3_NO_COMMON_JS&&t.exports,o=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",a="0123456789abcdef".split(""),h=[4,1024,262144,67108864],u=[0,8,16,24],f=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],c=[224,256,384,512],l=[128,256],d=["hex","buffer","arrayBuffer","array","digest"],p={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),o&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var g=function(t,e,r){return function(i){return new O(t,e,t).update(i)[r]()}},m=function(t,e,r){return function(i,n){return new O(t,e,n).update(i)[r]()}},v=function(t,e,r){return function(e,i,n,s){return E["cshake"+t].update(e,i,n,s)[r]()}},y=function(t,e,r){return function(e,i,n,s){return E["kmac"+t].update(e,i,n,s)[r]()}},w=function(t,e,r,i){for(var n=0;n<d.length;++n){var s=d[n];t[s]=e(r,i,s)}return t},b=function(t,e){var r=g(t,e,"hex");return r.create=function(){return new O(t,e,t)},r.update=function(t){return r.create().update(t)},w(r,g,t,e)},A=[{name:"keccak",padding:[1,256,65536,16777216],bits:c,createMethod:b},{name:"sha3",padding:[6,1536,393216,100663296],bits:c,createMethod:b},{name:"shake",padding:[31,7936,2031616,520093696],bits:l,createMethod:function(t,e){var r=m(t,e,"hex");return r.create=function(r){return new O(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},w(r,m,t,e)}},{name:"cshake",padding:h,bits:l,createMethod:function(t,e){var r=p[t],i=v(t,0,"hex");return i.create=function(i,n,s){return n||s?new O(t,e,i).bytepad([n,s],r):E["shake"+t].create(i)},i.update=function(t,e,r,n){return i.create(e,r,n).update(t)},w(i,v,t,e)}},{name:"kmac",padding:h,bits:l,createMethod:function(t,e){var r=p[t],i=y(t,0,"hex");return i.create=function(i,n,s){return new B(t,e,n).bytepad(["KMAC",s],r).bytepad([i],r)},i.update=function(t,e,r,n){return i.create(t,r,n).update(e)},w(i,y,t,e)}}],E={},M=[],_=0;_<A.length;++_)for(var S=A[_],I=S.bits,N=0;N<I.length;++N){var x=S.name+"_"+I[N];if(M.push(x),E[x]=S.createMethod(I[N],S.padding),"sha3"!==S.name){var C=S.name+I[N];M.push(C),E[C]=E[x]}}function O(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var i=0;i<50;++i)this.s[i]=0}function B(t,e,r){O.call(this,t,e,r)}O.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var r,i=typeof t;if("string"!==i){if("object"!==i)throw new Error(e);if(null===t)throw new Error(e);if(o&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!o||!ArrayBuffer.isView(t)))throw new Error(e);r=!0}for(var n,s,a=this.blocks,h=this.byteCount,f=t.length,c=this.blockCount,l=0,d=this.s;l<f;){if(this.reset)for(this.reset=!1,a[0]=this.block,n=1;n<c+1;++n)a[n]=0;if(r)for(n=this.start;l<f&&n<h;++l)a[n>>2]|=t[l]<<u[3&n++];else for(n=this.start;l<f&&n<h;++l)(s=t.charCodeAt(l))<128?a[n>>2]|=s<<u[3&n++]:s<2048?(a[n>>2]|=(192|s>>6)<<u[3&n++],a[n>>2]|=(128|63&s)<<u[3&n++]):s<55296||s>=57344?(a[n>>2]|=(224|s>>12)<<u[3&n++],a[n>>2]|=(128|s>>6&63)<<u[3&n++],a[n>>2]|=(128|63&s)<<u[3&n++]):(s=65536+((1023&s)<<10|1023&t.charCodeAt(++l)),a[n>>2]|=(240|s>>18)<<u[3&n++],a[n>>2]|=(128|s>>12&63)<<u[3&n++],a[n>>2]|=(128|s>>6&63)<<u[3&n++],a[n>>2]|=(128|63&s)<<u[3&n++]);if(this.lastByteIndex=n,n>=h){for(this.start=n-h,this.block=a[c],n=0;n<c;++n)d[n]^=a[n];P(d),this.reset=!0}else this.start=n}return this},O.prototype.encode=function(t,e){var r=255&t,i=1,n=[r];for(r=255&(t>>=8);r>0;)n.unshift(r),r=255&(t>>=8),++i;return e?n.push(i):n.unshift(i),this.update(n),n.length},O.prototype.encodeString=function(t){var r,i=typeof t;if("string"!==i){if("object"!==i)throw new Error(e);if(null===t)throw new Error(e);if(o&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!o||!ArrayBuffer.isView(t)))throw new Error(e);r=!0}var n=0,s=t.length;if(r)n=s;else for(var a=0;a<t.length;++a){var h=t.charCodeAt(a);h<128?n+=1:h<2048?n+=2:h<55296||h>=57344?n+=3:(h=65536+((1023&h)<<10|1023&t.charCodeAt(++a)),n+=4)}return n+=this.encode(8*n),this.update(t),n},O.prototype.bytepad=function(t,e){for(var r=this.encode(e),i=0;i<t.length;++i)r+=this.encodeString(t[i]);var n=e-r%e,s=[];return s.length=n,this.update(s),this},O.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,i=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)i[e]^=t[e];P(i)}},O.prototype.toString=O.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,i=this.outputBlocks,n=this.extraBytes,s=0,o=0,h="";o<i;){for(s=0;s<e&&o<i;++s,++o)t=r[s],h+=a[t>>4&15]+a[15&t]+a[t>>12&15]+a[t>>8&15]+a[t>>20&15]+a[t>>16&15]+a[t>>28&15]+a[t>>24&15];o%e===0&&(P(r),s=0)}return n&&(t=r[s],h+=a[t>>4&15]+a[15&t],n>1&&(h+=a[t>>12&15]+a[t>>8&15]),n>2&&(h+=a[t>>20&15]+a[t>>16&15])),h},O.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,i=this.outputBlocks,n=this.extraBytes,s=0,o=0,a=this.outputBits>>3;t=n?new ArrayBuffer(i+1<<2):new ArrayBuffer(a);for(var h=new Uint32Array(t);o<i;){for(s=0;s<e&&o<i;++s,++o)h[o]=r[s];o%e===0&&P(r)}return n&&(h[s]=r[s],t=t.slice(0,a)),t},O.prototype.buffer=O.prototype.arrayBuffer,O.prototype.digest=O.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,i=this.s,n=this.outputBlocks,s=this.extraBytes,o=0,a=0,h=[];a<n;){for(o=0;o<r&&a<n;++o,++a)t=a<<2,e=i[o],h[t]=255&e,h[t+1]=e>>8&255,h[t+2]=e>>16&255,h[t+3]=e>>24&255;a%r===0&&P(i)}return s&&(t=a<<2,e=i[o],h[t]=255&e,s>1&&(h[t+1]=e>>8&255),s>2&&(h[t+2]=e>>16&255)),h},B.prototype=new O,B.prototype.finalize=function(){return this.encode(this.outputBits,!0),O.prototype.finalize.call(this)};var P=function(t){var e,r,i,n,s,o,a,h,u,c,l,d,p,g,m,v,y,w,b,A,E,M,_,S,I,N,x,C,O,B,P,R,T,k,U,D,F,L,q,j,z,H,K,Q,G,Y,J,W,V,X,Z,$,tt,et,rt,it,nt,st,ot,at,ht,ut,ft;for(i=0;i<48;i+=2)n=t[0]^t[10]^t[20]^t[30]^t[40],s=t[1]^t[11]^t[21]^t[31]^t[41],o=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],h=t[4]^t[14]^t[24]^t[34]^t[44],u=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],e=(d=t[8]^t[18]^t[28]^t[38]^t[48])^(o<<1|a>>>31),r=(p=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|o>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=n^(h<<1|u>>>31),r=s^(u<<1|h>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=o^(c<<1|l>>>31),r=a^(l<<1|c>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=h^(d<<1|p>>>31),r=u^(p<<1|d>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=c^(n<<1|s>>>31),r=l^(s<<1|n>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,g=t[0],m=t[1],Y=t[11]<<4|t[10]>>>28,J=t[10]<<4|t[11]>>>28,C=t[20]<<3|t[21]>>>29,O=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ht=t[30]<<9|t[31]>>>23,H=t[40]<<18|t[41]>>>14,K=t[41]<<18|t[40]>>>14,k=t[2]<<1|t[3]>>>31,U=t[3]<<1|t[2]>>>31,v=t[13]<<12|t[12]>>>20,y=t[12]<<12|t[13]>>>20,W=t[22]<<10|t[23]>>>22,V=t[23]<<10|t[22]>>>22,B=t[33]<<13|t[32]>>>19,P=t[32]<<13|t[33]>>>19,ut=t[42]<<2|t[43]>>>30,ft=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,D=t[14]<<6|t[15]>>>26,F=t[15]<<6|t[14]>>>26,w=t[25]<<11|t[24]>>>21,b=t[24]<<11|t[25]>>>21,X=t[34]<<15|t[35]>>>17,Z=t[35]<<15|t[34]>>>17,R=t[45]<<29|t[44]>>>3,T=t[44]<<29|t[45]>>>3,S=t[6]<<28|t[7]>>>4,I=t[7]<<28|t[6]>>>4,it=t[17]<<23|t[16]>>>9,nt=t[16]<<23|t[17]>>>9,L=t[26]<<25|t[27]>>>7,q=t[27]<<25|t[26]>>>7,A=t[36]<<21|t[37]>>>11,E=t[37]<<21|t[36]>>>11,$=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,Q=t[8]<<27|t[9]>>>5,G=t[9]<<27|t[8]>>>5,N=t[18]<<20|t[19]>>>12,x=t[19]<<20|t[18]>>>12,st=t[29]<<7|t[28]>>>25,ot=t[28]<<7|t[29]>>>25,j=t[38]<<8|t[39]>>>24,z=t[39]<<8|t[38]>>>24,M=t[48]<<14|t[49]>>>18,_=t[49]<<14|t[48]>>>18,t[0]=g^~v&w,t[1]=m^~y&b,t[10]=S^~N&C,t[11]=I^~x&O,t[20]=k^~D&L,t[21]=U^~F&q,t[30]=Q^~Y&W,t[31]=G^~J&V,t[40]=et^~it&st,t[41]=rt^~nt&ot,t[2]=v^~w&A,t[3]=y^~b&E,t[12]=N^~C&B,t[13]=x^~O&P,t[22]=D^~L&j,t[23]=F^~q&z,t[32]=Y^~W&X,t[33]=J^~V&Z,t[42]=it^~st&at,t[43]=nt^~ot&ht,t[4]=w^~A&M,t[5]=b^~E&_,t[14]=C^~B&R,t[15]=O^~P&T,t[24]=L^~j&H,t[25]=q^~z&K,t[34]=W^~X&$,t[35]=V^~Z&tt,t[44]=st^~at&ut,t[45]=ot^~ht&ft,t[6]=A^~M&g,t[7]=E^~_&m,t[16]=B^~R&S,t[17]=P^~T&I,t[26]=j^~H&k,t[27]=z^~K&U,t[36]=X^~$&Q,t[37]=Z^~tt&G,t[46]=at^~ut&et,t[47]=ht^~ft&rt,t[8]=M^~g&v,t[9]=_^~m&y,t[18]=R^~S&N,t[19]=T^~I&x,t[28]=H^~k&D,t[29]=K^~U&F,t[38]=$^~Q&Y,t[39]=tt^~G&J,t[48]=ut^~et&it,t[49]=ft^~rt&nt,t[0]^=f[i],t[1]^=f[i+1]};if(s)t.exports=E;else for(_=0;_<M.length;++_)i[M[_]]=E[M[_]]}()}(Nm);var xm=Nm.exports;let Cm=!1,Om=!1;const Bm={debug:1,default:2,info:2,warning:3,error:4,off:5};let Pm=Bm.default,Rm=null;const Tm=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch{t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var km,Um;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(km||(km={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(Um||(Um={}));const Dm="0123456789abcdef";class Fm{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Bm[r]&&this.throwArgumentError("invalid log level name","logLevel",t),!(Pm>Bm[r])&&console.log.apply(console,e)}debug(...t){this._log(Fm.levels.DEBUG,t)}info(...t){this._log(Fm.levels.INFO,t)}warn(...t){this._log(Fm.levels.WARNING,t)}makeError(t,e,r){if(Om)return this.makeError("censored error",e,{});e||(e=Fm.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=Dm[e[t]>>4],r+=Dm[15&e[t]];i.push(t+"=Uint8Array(0x"+r+")")}else i.push(t+"="+JSON.stringify(e))}catch{i.push(t+"="+JSON.stringify(r[t].toString()))}})),i.push(`code=${e}`),i.push(`version=${this.version}`);const n=t;let s="";switch(e){case Um.NUMERIC_FAULT:{s="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":s+="-"+e;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case Um.CALL_EXCEPTION:case Um.INSUFFICIENT_FUNDS:case Um.MISSING_NEW:case Um.NONCE_EXPIRED:case Um.REPLACEMENT_UNDERPRICED:case Um.TRANSACTION_REPLACED:case Um.UNPREDICTABLE_GAS_LIMIT:s=e}s&&(t+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(t+=" ("+i.join(", ")+")");const o=new Error(t);return o.reason=n,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Fm.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,i){t||this.throwError(e,r,i)}assertArgument(t,e,r,i){t||this.throwArgumentError(e,r,i)}checkNormalize(t){Tm&&this.throwError("platform missing String.prototype.normalize",Fm.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Tm})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Fm.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Fm.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Fm.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Fm.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){(t===Object||null==t)&&this.throwError("missing new",Fm.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Fm.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||null==t)&&this.throwError("missing new",Fm.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Rm||(Rm=new Fm("logger/5.7.0")),Rm}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Fm.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Cm){if(!t)return;this.globalLogger().throwError("error censorship permanent",Fm.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Om=!!t,Cm=!!e}static setLogLevel(t){const e=Bm[t.toLowerCase()];null!=e?Pm=e:Fm.globalLogger().warn("invalid log level - "+t)}static from(t){return new Fm(t)}}Fm.errors=Um,Fm.levels=km;const Lm=new Fm("bytes/5.7.0");function qm(t){return!!t.toHexString}function jm(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return jm(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function zm(t){return"number"==typeof t&&t==t&&t%1===0}function Hm(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t||!zm(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!zm(r)||r<0||r>=256)return!1}return!0}function Km(t,e){if(e||(e={}),"number"==typeof t){Lm.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),jm(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),qm(t)&&(t=t.toHexString()),Qm(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":Lm.throwArgumentError("hex data is odd-length","value",t));const i=[];for(let t=0;t<r.length;t+=2)i.push(parseInt(r.substring(t,t+2),16));return jm(new Uint8Array(i))}return Hm(t)?jm(new Uint8Array(t)):Lm.throwArgumentError("invalid arrayify value","value",t)}function Qm(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Gm="0123456789abcdef";function Ym(t,e){if(e||(e={}),"number"==typeof t){Lm.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=Gm[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),qm(t))return t.toHexString();if(Qm(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Lm.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Hm(t)){let e="0x";for(let r=0;r<t.length;r++){let i=t[r];e+=Gm[(240&i)>>4]+Gm[15&i]}return e}return Lm.throwArgumentError("invalid hexlify value","value",t)}function Jm(t,e,r){return"string"!=typeof t?t=Ym(t):(!Qm(t)||t.length%2)&&Lm.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Wm(t,e){for("string"!=typeof t?t=Ym(t):Qm(t)||Lm.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Lm.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Vm(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(function(t){return Qm(t)&&!(t.length%2)||Hm(t)}(t)){let r=Km(t);64===r.length?(e.v=27+(r[32]>>7),r[32]&=127,e.r=Ym(r.slice(0,32)),e.s=Ym(r.slice(32,64))):65===r.length?(e.r=Ym(r.slice(0,32)),e.s=Ym(r.slice(32,64)),e.v=r[64]):Lm.throwArgumentError("invalid signature string","signature",t),e.v<27&&(0===e.v||1===e.v?e.v+=27:Lm.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=Ym(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){const r=function(t,e){(t=Km(t)).length>e&&Lm.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),jm(r)}(Km(e._vs),32);e._vs=Ym(r);const i=r[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=i:e.recoveryParam!==i&&Lm.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const n=Ym(r);null==e.s?e.s=n:e.s!==n&&Lm.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==e.recoveryParam)null==e.v?Lm.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(null==e.v)e.v=27+e.recoveryParam;else{const r=0===e.v||1===e.v?e.v:1-e.v%2;e.recoveryParam!==r&&Lm.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=e.r&&Qm(e.r)?e.r=Wm(e.r,32):Lm.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&Qm(e.s)?e.s=Wm(e.s,32):Lm.throwArgumentError("signature missing or invalid s","signature",t);const r=Km(e.s);r[0]>=128&&Lm.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const i=Ym(r);e._vs&&(Qm(e._vs)||Lm.throwArgumentError("signature invalid _vs","signature",t),e._vs=Wm(e._vs,32)),null==e._vs?e._vs=i:e._vs!==i&&Lm.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function Xm(t){return"0x"+xm.keccak_256(Km(t))}var Zm={exports:{}},$m=function(t){var e=t.default;if("function"==typeof e){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var i=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,i.get?i:{enumerable:!0,get:function(){return t[e]}})})),r}(Object.freeze({__proto__:null,default:{}}));!function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function n(t,e,r){if(n.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(("le"===e||"be"===e)&&(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;try{s=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:$m.Buffer}catch{}function o(t,e){var i=t.charCodeAt(e);return i>=48&&i<=57?i-48:i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:void r(!1,"Invalid character in "+t)}function a(t,e,r){var i=o(t,r);return r-1>=e&&(i|=o(t,r-1)<<4),i}function h(t,e,i,n){for(var s=0,o=0,a=Math.min(t.length,i),h=e;h<a;h++){var u=t.charCodeAt(h)-48;s*=n,o=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&o<n,"Invalid character"),s+=o}return s}function u(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(n.isBN=function(t){return t instanceof n||null!==t&&"object"==typeof t&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,e){return t.cmp(e)>0?t:e},n.min=function(t,e){return t.cmp(e)<0?t:e},n.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,i):(this._parseBase(t,e,n),"le"===i&&this._initArray(this.toArray(),e,i)))},n.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},n.prototype._initArray=function(t,e,i){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var s,o,a=0;if("be"===i)for(n=t.length-1,s=0;n>=0;n-=3)o=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===i)for(n=0,s=0;n<t.length;n+=3)o=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},n.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,s=0,o=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=a(t,e,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;else for(i=(t.length-e)%2===0?e+1:e;i<t.length;i+=2)n=a(t,e,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;this._strip()},n.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var s=t.length-r,o=s%i,a=Math.min(s,s-o)+r,u=0,f=r;f<a;f+=i)u=h(t,f,f+i,e),this.imuln(n),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var c=1;for(u=h(t,f,t.length,e),f=0;f<o;f++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},n.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},n.prototype._move=function(t){u(t,this)},n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{n.prototype.inspect=f}else n.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var n=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<n|s)).toString(16);s=a>>>24-n&16777215,(n+=2)>=26&&(n-=26,o--),i=0!==s||o!==this.length-1?c[6-h.length]+h+i:h+i}for(0!==s&&(i=s.toString(16)+i);i.length%e!==0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var u=l[t],f=d[t];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modrn(f).toString(t);i=(p=p.idivn(f)).isZero()?g+i:c[u-g.length]+g+i}for(this.isZero()&&(i="0"+i);i.length%e!==0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},n.prototype.toJSON=function(){return this.toString(16,2)},s&&(n.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),n.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function p(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],s=0|e.words[0],o=n*s,a=67108863&o,h=o/67108864|0;r.words[0]=a;for(var u=1;u<i;u++){for(var f=h>>>26,c=67108863&h,l=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=l;d++){var p=u-d|0;f+=(o=(n=0|t.words[p])*(s=0|e.words[d])+c)/67108864|0,c=67108863&o}r.words[u]=0|c,h=0|f}return 0!==h?r.words[u]=0|h:r.length--,r._strip()}n.prototype.toArrayLike=function(t,e,i){this._strip();var n=this.byteLength(),s=i||Math.max(1,n);r(n<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,n),o},n.prototype._toArrayLikeLE=function(t,e){for(var r=0,i=0,n=0,s=0;n<this.length;n++){var o=this.words[n]<<s|i;t[r++]=255&o,r<t.length&&(t[r++]=o>>8&255),r<t.length&&(t[r++]=o>>16&255),6===s?(r<t.length&&(t[r++]=o>>24&255),i=0,s=0):(i=o>>>24,s+=2)}if(r<t.length)for(t[r++]=i;r<t.length;)t[r++]=0},n.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,i=0,n=0,s=0;n<this.length;n++){var o=this.words[n]<<s|i;t[r--]=255&o,r>=0&&(t[r--]=o>>8&255),r>=0&&(t[r--]=o>>16&255),6===s?(r>=0&&(t[r--]=o>>24&255),i=0,s=0):(i=o>>>24,s+=2)}if(r>=0)for(t[r--]=i;r>=0;)t[r--]=0},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},n.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 8191&e||(r+=13,e>>>=13),127&e||(r+=7,e>>>=7),15&e||(r+=4,e>>>=4),3&e||(r+=2,e>>>=2),1&e||r++,r},n.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},n.prototype.ior=function(t){return r(0===(this.negative|t.negative)),this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},n.prototype.iand=function(t){return r(0===(this.negative|t.negative)),this.iuand(t)},n.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this._strip()},n.prototype.ixor=function(t){return r(0===(this.negative|t.negative)),this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this._strip()},n.prototype.notn=function(t){return this.clone().inotn(t)},n.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<n:this.words[i]&~(1<<n),this._strip()},n.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,s=0;s<i.length;s++)e=(0|r.words[s])+(0|i.words[s])+n,this.words[s]=67108863&e,n=e>>>26;for(;0!==n&&s<r.length;s++)e=(0|r.words[s])+n,this.words[s]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},n.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var s=0,o=0;o<i.length;o++)s=(e=(0|r.words[o])-(0|i.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var i,n,s,o=t.words,a=e.words,h=r.words,u=0,f=0|o[0],c=8191&f,l=f>>>13,d=0|o[1],p=8191&d,g=d>>>13,m=0|o[2],v=8191&m,y=m>>>13,w=0|o[3],b=8191&w,A=w>>>13,E=0|o[4],M=8191&E,_=E>>>13,S=0|o[5],I=8191&S,N=S>>>13,x=0|o[6],C=8191&x,O=x>>>13,B=0|o[7],P=8191&B,R=B>>>13,T=0|o[8],k=8191&T,U=T>>>13,D=0|o[9],F=8191&D,L=D>>>13,q=0|a[0],j=8191&q,z=q>>>13,H=0|a[1],K=8191&H,Q=H>>>13,G=0|a[2],Y=8191&G,J=G>>>13,W=0|a[3],V=8191&W,X=W>>>13,Z=0|a[4],$=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,it=et>>>13,nt=0|a[6],st=8191&nt,ot=nt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,ft=0|a[8],ct=8191&ft,lt=ft>>>13,dt=0|a[9],pt=8191&dt,gt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(u+(i=Math.imul(c,j))|0)+((8191&(n=(n=Math.imul(c,z))+Math.imul(l,j)|0))<<13)|0;u=((s=Math.imul(l,z))+(n>>>13)|0)+(mt>>>26)|0,mt&=67108863,i=Math.imul(p,j),n=(n=Math.imul(p,z))+Math.imul(g,j)|0,s=Math.imul(g,z);var vt=(u+(i=i+Math.imul(c,K)|0)|0)+((8191&(n=(n=n+Math.imul(c,Q)|0)+Math.imul(l,K)|0))<<13)|0;u=((s=s+Math.imul(l,Q)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(v,j),n=(n=Math.imul(v,z))+Math.imul(y,j)|0,s=Math.imul(y,z),i=i+Math.imul(p,K)|0,n=(n=n+Math.imul(p,Q)|0)+Math.imul(g,K)|0,s=s+Math.imul(g,Q)|0;var yt=(u+(i=i+Math.imul(c,Y)|0)|0)+((8191&(n=(n=n+Math.imul(c,J)|0)+Math.imul(l,Y)|0))<<13)|0;u=((s=s+Math.imul(l,J)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(b,j),n=(n=Math.imul(b,z))+Math.imul(A,j)|0,s=Math.imul(A,z),i=i+Math.imul(v,K)|0,n=(n=n+Math.imul(v,Q)|0)+Math.imul(y,K)|0,s=s+Math.imul(y,Q)|0,i=i+Math.imul(p,Y)|0,n=(n=n+Math.imul(p,J)|0)+Math.imul(g,Y)|0,s=s+Math.imul(g,J)|0;var wt=(u+(i=i+Math.imul(c,V)|0)|0)+((8191&(n=(n=n+Math.imul(c,X)|0)+Math.imul(l,V)|0))<<13)|0;u=((s=s+Math.imul(l,X)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(M,j),n=(n=Math.imul(M,z))+Math.imul(_,j)|0,s=Math.imul(_,z),i=i+Math.imul(b,K)|0,n=(n=n+Math.imul(b,Q)|0)+Math.imul(A,K)|0,s=s+Math.imul(A,Q)|0,i=i+Math.imul(v,Y)|0,n=(n=n+Math.imul(v,J)|0)+Math.imul(y,Y)|0,s=s+Math.imul(y,J)|0,i=i+Math.imul(p,V)|0,n=(n=n+Math.imul(p,X)|0)+Math.imul(g,V)|0,s=s+Math.imul(g,X)|0;var bt=(u+(i=i+Math.imul(c,$)|0)|0)+((8191&(n=(n=n+Math.imul(c,tt)|0)+Math.imul(l,$)|0))<<13)|0;u=((s=s+Math.imul(l,tt)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(I,j),n=(n=Math.imul(I,z))+Math.imul(N,j)|0,s=Math.imul(N,z),i=i+Math.imul(M,K)|0,n=(n=n+Math.imul(M,Q)|0)+Math.imul(_,K)|0,s=s+Math.imul(_,Q)|0,i=i+Math.imul(b,Y)|0,n=(n=n+Math.imul(b,J)|0)+Math.imul(A,Y)|0,s=s+Math.imul(A,J)|0,i=i+Math.imul(v,V)|0,n=(n=n+Math.imul(v,X)|0)+Math.imul(y,V)|0,s=s+Math.imul(y,X)|0,i=i+Math.imul(p,$)|0,n=(n=n+Math.imul(p,tt)|0)+Math.imul(g,$)|0,s=s+Math.imul(g,tt)|0;var At=(u+(i=i+Math.imul(c,rt)|0)|0)+((8191&(n=(n=n+Math.imul(c,it)|0)+Math.imul(l,rt)|0))<<13)|0;u=((s=s+Math.imul(l,it)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(C,j),n=(n=Math.imul(C,z))+Math.imul(O,j)|0,s=Math.imul(O,z),i=i+Math.imul(I,K)|0,n=(n=n+Math.imul(I,Q)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,Q)|0,i=i+Math.imul(M,Y)|0,n=(n=n+Math.imul(M,J)|0)+Math.imul(_,Y)|0,s=s+Math.imul(_,J)|0,i=i+Math.imul(b,V)|0,n=(n=n+Math.imul(b,X)|0)+Math.imul(A,V)|0,s=s+Math.imul(A,X)|0,i=i+Math.imul(v,$)|0,n=(n=n+Math.imul(v,tt)|0)+Math.imul(y,$)|0,s=s+Math.imul(y,tt)|0,i=i+Math.imul(p,rt)|0,n=(n=n+Math.imul(p,it)|0)+Math.imul(g,rt)|0,s=s+Math.imul(g,it)|0;var Et=(u+(i=i+Math.imul(c,st)|0)|0)+((8191&(n=(n=n+Math.imul(c,ot)|0)+Math.imul(l,st)|0))<<13)|0;u=((s=s+Math.imul(l,ot)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(P,j),n=(n=Math.imul(P,z))+Math.imul(R,j)|0,s=Math.imul(R,z),i=i+Math.imul(C,K)|0,n=(n=n+Math.imul(C,Q)|0)+Math.imul(O,K)|0,s=s+Math.imul(O,Q)|0,i=i+Math.imul(I,Y)|0,n=(n=n+Math.imul(I,J)|0)+Math.imul(N,Y)|0,s=s+Math.imul(N,J)|0,i=i+Math.imul(M,V)|0,n=(n=n+Math.imul(M,X)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,X)|0,i=i+Math.imul(b,$)|0,n=(n=n+Math.imul(b,tt)|0)+Math.imul(A,$)|0,s=s+Math.imul(A,tt)|0,i=i+Math.imul(v,rt)|0,n=(n=n+Math.imul(v,it)|0)+Math.imul(y,rt)|0,s=s+Math.imul(y,it)|0,i=i+Math.imul(p,st)|0,n=(n=n+Math.imul(p,ot)|0)+Math.imul(g,st)|0,s=s+Math.imul(g,ot)|0;var Mt=(u+(i=i+Math.imul(c,ht)|0)|0)+((8191&(n=(n=n+Math.imul(c,ut)|0)+Math.imul(l,ht)|0))<<13)|0;u=((s=s+Math.imul(l,ut)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(k,j),n=(n=Math.imul(k,z))+Math.imul(U,j)|0,s=Math.imul(U,z),i=i+Math.imul(P,K)|0,n=(n=n+Math.imul(P,Q)|0)+Math.imul(R,K)|0,s=s+Math.imul(R,Q)|0,i=i+Math.imul(C,Y)|0,n=(n=n+Math.imul(C,J)|0)+Math.imul(O,Y)|0,s=s+Math.imul(O,J)|0,i=i+Math.imul(I,V)|0,n=(n=n+Math.imul(I,X)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,X)|0,i=i+Math.imul(M,$)|0,n=(n=n+Math.imul(M,tt)|0)+Math.imul(_,$)|0,s=s+Math.imul(_,tt)|0,i=i+Math.imul(b,rt)|0,n=(n=n+Math.imul(b,it)|0)+Math.imul(A,rt)|0,s=s+Math.imul(A,it)|0,i=i+Math.imul(v,st)|0,n=(n=n+Math.imul(v,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,i=i+Math.imul(p,ht)|0,n=(n=n+Math.imul(p,ut)|0)+Math.imul(g,ht)|0,s=s+Math.imul(g,ut)|0;var _t=(u+(i=i+Math.imul(c,ct)|0)|0)+((8191&(n=(n=n+Math.imul(c,lt)|0)+Math.imul(l,ct)|0))<<13)|0;u=((s=s+Math.imul(l,lt)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(F,j),n=(n=Math.imul(F,z))+Math.imul(L,j)|0,s=Math.imul(L,z),i=i+Math.imul(k,K)|0,n=(n=n+Math.imul(k,Q)|0)+Math.imul(U,K)|0,s=s+Math.imul(U,Q)|0,i=i+Math.imul(P,Y)|0,n=(n=n+Math.imul(P,J)|0)+Math.imul(R,Y)|0,s=s+Math.imul(R,J)|0,i=i+Math.imul(C,V)|0,n=(n=n+Math.imul(C,X)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,X)|0,i=i+Math.imul(I,$)|0,n=(n=n+Math.imul(I,tt)|0)+Math.imul(N,$)|0,s=s+Math.imul(N,tt)|0,i=i+Math.imul(M,rt)|0,n=(n=n+Math.imul(M,it)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,it)|0,i=i+Math.imul(b,st)|0,n=(n=n+Math.imul(b,ot)|0)+Math.imul(A,st)|0,s=s+Math.imul(A,ot)|0,i=i+Math.imul(v,ht)|0,n=(n=n+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,s=s+Math.imul(y,ut)|0,i=i+Math.imul(p,ct)|0,n=(n=n+Math.imul(p,lt)|0)+Math.imul(g,ct)|0,s=s+Math.imul(g,lt)|0;var St=(u+(i=i+Math.imul(c,pt)|0)|0)+((8191&(n=(n=n+Math.imul(c,gt)|0)+Math.imul(l,pt)|0))<<13)|0;u=((s=s+Math.imul(l,gt)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(F,K),n=(n=Math.imul(F,Q))+Math.imul(L,K)|0,s=Math.imul(L,Q),i=i+Math.imul(k,Y)|0,n=(n=n+Math.imul(k,J)|0)+Math.imul(U,Y)|0,s=s+Math.imul(U,J)|0,i=i+Math.imul(P,V)|0,n=(n=n+Math.imul(P,X)|0)+Math.imul(R,V)|0,s=s+Math.imul(R,X)|0,i=i+Math.imul(C,$)|0,n=(n=n+Math.imul(C,tt)|0)+Math.imul(O,$)|0,s=s+Math.imul(O,tt)|0,i=i+Math.imul(I,rt)|0,n=(n=n+Math.imul(I,it)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,it)|0,i=i+Math.imul(M,st)|0,n=(n=n+Math.imul(M,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,i=i+Math.imul(b,ht)|0,n=(n=n+Math.imul(b,ut)|0)+Math.imul(A,ht)|0,s=s+Math.imul(A,ut)|0,i=i+Math.imul(v,ct)|0,n=(n=n+Math.imul(v,lt)|0)+Math.imul(y,ct)|0,s=s+Math.imul(y,lt)|0;var It=(u+(i=i+Math.imul(p,pt)|0)|0)+((8191&(n=(n=n+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;u=((s=s+Math.imul(g,gt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(F,Y),n=(n=Math.imul(F,J))+Math.imul(L,Y)|0,s=Math.imul(L,J),i=i+Math.imul(k,V)|0,n=(n=n+Math.imul(k,X)|0)+Math.imul(U,V)|0,s=s+Math.imul(U,X)|0,i=i+Math.imul(P,$)|0,n=(n=n+Math.imul(P,tt)|0)+Math.imul(R,$)|0,s=s+Math.imul(R,tt)|0,i=i+Math.imul(C,rt)|0,n=(n=n+Math.imul(C,it)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,it)|0,i=i+Math.imul(I,st)|0,n=(n=n+Math.imul(I,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,i=i+Math.imul(M,ht)|0,n=(n=n+Math.imul(M,ut)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,ut)|0,i=i+Math.imul(b,ct)|0,n=(n=n+Math.imul(b,lt)|0)+Math.imul(A,ct)|0,s=s+Math.imul(A,lt)|0;var Nt=(u+(i=i+Math.imul(v,pt)|0)|0)+((8191&(n=(n=n+Math.imul(v,gt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((s=s+Math.imul(y,gt)|0)+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,i=Math.imul(F,V),n=(n=Math.imul(F,X))+Math.imul(L,V)|0,s=Math.imul(L,X),i=i+Math.imul(k,$)|0,n=(n=n+Math.imul(k,tt)|0)+Math.imul(U,$)|0,s=s+Math.imul(U,tt)|0,i=i+Math.imul(P,rt)|0,n=(n=n+Math.imul(P,it)|0)+Math.imul(R,rt)|0,s=s+Math.imul(R,it)|0,i=i+Math.imul(C,st)|0,n=(n=n+Math.imul(C,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,i=i+Math.imul(I,ht)|0,n=(n=n+Math.imul(I,ut)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ut)|0,i=i+Math.imul(M,ct)|0,n=(n=n+Math.imul(M,lt)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,lt)|0;var xt=(u+(i=i+Math.imul(b,pt)|0)|0)+((8191&(n=(n=n+Math.imul(b,gt)|0)+Math.imul(A,pt)|0))<<13)|0;u=((s=s+Math.imul(A,gt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(F,$),n=(n=Math.imul(F,tt))+Math.imul(L,$)|0,s=Math.imul(L,tt),i=i+Math.imul(k,rt)|0,n=(n=n+Math.imul(k,it)|0)+Math.imul(U,rt)|0,s=s+Math.imul(U,it)|0,i=i+Math.imul(P,st)|0,n=(n=n+Math.imul(P,ot)|0)+Math.imul(R,st)|0,s=s+Math.imul(R,ot)|0,i=i+Math.imul(C,ht)|0,n=(n=n+Math.imul(C,ut)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ut)|0,i=i+Math.imul(I,ct)|0,n=(n=n+Math.imul(I,lt)|0)+Math.imul(N,ct)|0,s=s+Math.imul(N,lt)|0;var Ct=(u+(i=i+Math.imul(M,pt)|0)|0)+((8191&(n=(n=n+Math.imul(M,gt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((s=s+Math.imul(_,gt)|0)+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,i=Math.imul(F,rt),n=(n=Math.imul(F,it))+Math.imul(L,rt)|0,s=Math.imul(L,it),i=i+Math.imul(k,st)|0,n=(n=n+Math.imul(k,ot)|0)+Math.imul(U,st)|0,s=s+Math.imul(U,ot)|0,i=i+Math.imul(P,ht)|0,n=(n=n+Math.imul(P,ut)|0)+Math.imul(R,ht)|0,s=s+Math.imul(R,ut)|0,i=i+Math.imul(C,ct)|0,n=(n=n+Math.imul(C,lt)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,lt)|0;var Ot=(u+(i=i+Math.imul(I,pt)|0)|0)+((8191&(n=(n=n+Math.imul(I,gt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((s=s+Math.imul(N,gt)|0)+(n>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,i=Math.imul(F,st),n=(n=Math.imul(F,ot))+Math.imul(L,st)|0,s=Math.imul(L,ot),i=i+Math.imul(k,ht)|0,n=(n=n+Math.imul(k,ut)|0)+Math.imul(U,ht)|0,s=s+Math.imul(U,ut)|0,i=i+Math.imul(P,ct)|0,n=(n=n+Math.imul(P,lt)|0)+Math.imul(R,ct)|0,s=s+Math.imul(R,lt)|0;var Bt=(u+(i=i+Math.imul(C,pt)|0)|0)+((8191&(n=(n=n+Math.imul(C,gt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((s=s+Math.imul(O,gt)|0)+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,i=Math.imul(F,ht),n=(n=Math.imul(F,ut))+Math.imul(L,ht)|0,s=Math.imul(L,ut),i=i+Math.imul(k,ct)|0,n=(n=n+Math.imul(k,lt)|0)+Math.imul(U,ct)|0,s=s+Math.imul(U,lt)|0;var Pt=(u+(i=i+Math.imul(P,pt)|0)|0)+((8191&(n=(n=n+Math.imul(P,gt)|0)+Math.imul(R,pt)|0))<<13)|0;u=((s=s+Math.imul(R,gt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,i=Math.imul(F,ct),n=(n=Math.imul(F,lt))+Math.imul(L,ct)|0,s=Math.imul(L,lt);var Rt=(u+(i=i+Math.imul(k,pt)|0)|0)+((8191&(n=(n=n+Math.imul(k,gt)|0)+Math.imul(U,pt)|0))<<13)|0;u=((s=s+Math.imul(U,gt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863;var Tt=(u+(i=Math.imul(F,pt))|0)+((8191&(n=(n=Math.imul(F,gt))+Math.imul(L,pt)|0))<<13)|0;return u=((s=Math.imul(L,gt))+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,h[0]=mt,h[1]=vt,h[2]=yt,h[3]=wt,h[4]=bt,h[5]=At,h[6]=Et,h[7]=Mt,h[8]=_t,h[9]=St,h[10]=It,h[11]=Nt,h[12]=xt,h[13]=Ct,h[14]=Ot,h[15]=Bt,h[16]=Pt,h[17]=Rt,h[18]=Tt,0!==u&&(h[19]=u,r.length++),r};function m(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,s=0;s<r.length-1;s++){var o=n;n=0;for(var a=67108863&i,h=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=h;u++){var f=s-u,c=(0|t.words[f])*(0|e.words[u]),l=67108863&c;a=67108863&(l=l+a|0),n+=(o=(o=o+(c/67108864|0)|0)+(l>>>26)|0)>>>26,o&=67108863}r.words[s]=a,i=o,o=n}return 0!==i?r.words[s]=i:r.length--,r._strip()}function v(t,e,r){return m(t,e,r)}Math.imul||(g=p),n.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?p(this,t,e):r<1024?m(this,t,e):v(this,t,e)},n.prototype.mul=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},n.prototype.mulf=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),v(this,t,e)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"==typeof t),r(t<67108864);for(var i=0,n=0;n<this.length;n++){var s=(0|this.words[n])*t,o=(67108863&s)+(67108863&i);i>>=26,i+=s/67108864|0,i+=o>>>26,this.words[n]=67108863&o}return 0!==i&&(this.words[n]=i,this.length++),e?this.ineg():this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=t.words[i]>>>n&1}return e}(t);if(0===e.length)return new n(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var s=r.sqr();i<e.length;i++,s=s.sqr())0!==e[i]&&(r=r.mul(s));return r},n.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,i=t%26,n=(t-i)/26,s=67108863>>>26-i<<26-i;if(0!==i){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<i;this.words[e]=h|o,o=a>>>26-i}o&&(this.words[e]=o,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this._strip()},n.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,e,i){var n;r("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=i;if(n-=o,n=Math.max(0,n),h){for(var u=0;u<o;u++)h.words[u]=this.words[u];h.length=o}if(0!==o)if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var f=0;for(u=this.length-1;u>=0&&(0!==f||u>=n);u--){var c=0|this.words[u];this.words[u]=f<<26-s|c>>>s,f=c&a}return h&&0!==f&&(h.words[h.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(t,e,i){return r(0===this.negative),this.iushrn(t,e,i)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,n=1<<e;return!(this.length<=i)&&!!(this.words[i]&n)},n.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this._strip()},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},n.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,e,i){var n,s=t.length+i;this._expand(s);var o,a=0;for(n=0;n<t.length;n++){o=(0|this.words[n+i])+a;var h=(0|t.words[n])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[n+i]=67108863&o}for(;n<this.length-i;n++)a=(o=(0|this.words[n+i])+a)>>26,this.words[n+i]=67108863&o;if(0===a)return this._strip();for(r(-1===a),a=0,n=0;n<this.length;n++)a=(o=-(0|this.words[n])+a)>>26,this.words[n]=67108863&o;return this.negative=1,this._strip()},n.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),s=t,o=0|s.words[s.length-1];0!==(r=26-this._countBits(o))&&(s=s.ushln(r),i.iushln(r),o=0|s.words[s.length-1]);var a,h=i.length-s.length;if("mod"!==e){(a=new n(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var f=i.clone()._ishlnsubmul(s,1,h);0===f.negative&&(i=f,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var l=67108864*(0|i.words[s.length+c])+(0|i.words[s.length+c-1]);for(l=Math.min(l/o|0,67108863),i._ishlnsubmul(s,l,c);0!==i.negative;)l--,i.negative=0,i._ishlnsubmul(s,1,c),i.isZero()||(i.negative^=1);a&&(a.words[c]=l)}return a&&a._strip(),i._strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},n.prototype.divmod=function(t,e,i){return r(!t.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(s=a.div.neg()),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.iadd(t)),{div:s,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(s=a.div.neg()),{div:s,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new n(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new n(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modrn(t.words[0]))}:this._wordDiv(t,e);var s,o,a},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),s=r.cmp(i);return s<0||1===n&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},n.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var i=(1<<26)%t,n=0,s=this.length-1;s>=0;s--)n=(i*n+(0|this.words[s]))%t;return e?-n:n},n.prototype.modn=function(t){return this.modrn(t)},n.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var i=0,n=this.length-1;n>=0;n--){var s=(0|this.words[n])+67108864*i;this.words[n]=s/t|0,i=s%t}return this._strip(),e?this.ineg():this},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var s=new n(1),o=new n(0),a=new n(0),h=new n(1),u=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++u;for(var f=i.clone(),c=e.clone();!e.isZero();){for(var l=0,d=1;!(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-->0;)(s.isOdd()||o.isOdd())&&(s.iadd(f),o.isub(c)),s.iushrn(1),o.iushrn(1);for(var p=0,g=1;!(i.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(i.iushrn(p);p-->0;)(a.isOdd()||h.isOdd())&&(a.iadd(f),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(i)>=0?(e.isub(i),s.isub(a),o.isub(h)):(i.isub(e),a.isub(s),h.isub(o))}return{a:a,b:h,gcd:i.iushln(u)}},n.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e,i=this,s=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var o=new n(1),a=new n(0),h=s.clone();i.cmpn(1)>0&&s.cmpn(1)>0;){for(var u=0,f=1;!(i.words[0]&f)&&u<26;++u,f<<=1);if(u>0)for(i.iushrn(u);u-->0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var c=0,l=1;!(s.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(s.iushrn(c);c-->0;)a.isOdd()&&a.iadd(h),a.iushrn(1);i.cmp(s)>=0?(i.isub(s),o.isub(a)):(s.isub(i),a.isub(o))}return(e=0===i.cmpn(1)?o:a).cmpn(0)<0&&e.iadd(t),e},n.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var s=e;e=r,r=s}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return 0===(1&this.words[0])},n.prototype.isOdd=function(){return 1===(1&this.words[0])},n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var s=n,o=i;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this._strip(),this.length>1)e=1;else{i&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},n.prototype.gtn=function(t){return 1===this.cmpn(t)},n.prototype.gt=function(t){return 1===this.cmp(t)},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return-1===this.cmpn(t)},n.prototype.lt=function(t){return-1===this.cmp(t)},n.prototype.lten=function(t){return this.cmpn(t)<=0},n.prototype.lte=function(t){return this.cmp(t)<=0},n.prototype.eqn=function(t){return 0===this.cmpn(t)},n.prototype.eq=function(t){return 0===this.cmp(t)},n.red=function(t){return new _(t)},n.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},n.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new n(e,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function A(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(t){if("string"==typeof t){var e=n._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function S(t){_.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new n(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},i(b,w),b.prototype.split=function(t,e){for(var r=4194303,i=Math.min(t.length,9),n=0;n<i;n++)e.words[n]=t.words[n];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[n-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(A,w),i(E,w),i(M,w),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},n._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new A;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return y[t]=e,e},_.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},_.prototype._verify2=function(t,e){r(0===(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},_.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(u(t,t.umod(this.m)._forceRed(this)),t)},_.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},_.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},_.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},_.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},_.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},_.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},_.prototype.isqr=function(t){return this.imul(t,t.clone())},_.prototype.sqr=function(t){return this.mul(t,t)},_.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2===1),3===e){var i=this.m.add(new n(1)).iushrn(2);return this.pow(t,i)}for(var s=this.m.subn(1),o=0;!s.isZero()&&0===s.andln(1);)o++,s.iushrn(1);r(!s.isZero());var a=new n(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new n(2*f*f).toRed(this);0!==this.pow(f,u).cmp(h);)f.redIAdd(h);for(var c=this.pow(f,s),l=this.pow(t,s.addn(1).iushrn(1)),d=this.pow(t,s),p=o;0!==d.cmp(a);){for(var g=d,m=0;0!==g.cmp(a);m++)g=g.redSqr();r(m<p);var v=this.pow(c,new n(1).iushln(p-m-1));l=l.redMul(v),c=v.redSqr(),d=d.redMul(c),p=m}return l},_.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},_.prototype.pow=function(t,e){if(e.isZero())return new n(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new n(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var s=r[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),i=e.length-1;i>=0;i--){for(var u=e.words[i],f=h-1;f>=0;f--){var c=u>>f&1;(s!==r[0]&&(s=this.sqr(s)),0!==c||0!==o)?(o<<=1,o|=c,(4===++a||0===i&&0===f)&&(s=this.mul(s,r[o]),a=0,o=0)):a=0}h=26}return s},_.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},_.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},n.mont=function(t){return new S(t)},i(S,_),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},S.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},S.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new n(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=r.isub(i).iushrn(this.shift),o=s;return s.cmp(this.m)>=0?o=s.isub(this.m):s.cmpn(0)<0&&(o=s.iadd(this.m)),o._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,Im)}(Zm);var tv=Zm.exports;const ev="bignumber/5.7.0";var rv=tv.BN;const iv=new Fm(ev),nv={},sv=9007199254740991;let ov=!1;class av{constructor(t,e){t!==nv&&iv.throwError("cannot call constructor directly; use BigNumber.from",Fm.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return uv(fv(this).fromTwos(t))}toTwos(t){return uv(fv(this).toTwos(t))}abs(){return"-"===this._hex[0]?av.from(this._hex.substring(1)):this}add(t){return uv(fv(this).add(fv(t)))}sub(t){return uv(fv(this).sub(fv(t)))}div(t){return av.from(t).isZero()&&cv("division-by-zero","div"),uv(fv(this).div(fv(t)))}mul(t){return uv(fv(this).mul(fv(t)))}mod(t){const e=fv(t);return e.isNeg()&&cv("division-by-zero","mod"),uv(fv(this).umod(e))}pow(t){const e=fv(t);return e.isNeg()&&cv("negative-power","pow"),uv(fv(this).pow(e))}and(t){const e=fv(t);return(this.isNegative()||e.isNeg())&&cv("unbound-bitwise-result","and"),uv(fv(this).and(e))}or(t){const e=fv(t);return(this.isNegative()||e.isNeg())&&cv("unbound-bitwise-result","or"),uv(fv(this).or(e))}xor(t){const e=fv(t);return(this.isNegative()||e.isNeg())&&cv("unbound-bitwise-result","xor"),uv(fv(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&cv("negative-width","mask"),uv(fv(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&cv("negative-width","shl"),uv(fv(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&cv("negative-width","shr"),uv(fv(this).shrn(t))}eq(t){return fv(this).eq(fv(t))}lt(t){return fv(this).lt(fv(t))}lte(t){return fv(this).lte(fv(t))}gt(t){return fv(this).gt(fv(t))}gte(t){return fv(this).gte(fv(t))}isNegative(){return"-"===this._hex[0]}isZero(){return fv(this).isZero()}toNumber(){try{return fv(this).toNumber()}catch{cv("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return iv.throwError("this platform does not support BigInt",Fm.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?ov||(ov=!0,iv.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?iv.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Fm.errors.UNEXPECTED_ARGUMENT,{}):iv.throwError("BigNumber.toString does not accept parameters",Fm.errors.UNEXPECTED_ARGUMENT,{})),fv(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof av)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new av(nv,hv(t)):t.match(/^-?[0-9]+$/)?new av(nv,hv(new rv(t))):iv.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&cv("underflow","BigNumber.from",t),(t>=sv||t<=-9007199254740991)&&cv("overflow","BigNumber.from",t),av.from(String(t));const e=t;if("bigint"==typeof e)return av.from(e.toString());if(Hm(e))return av.from(Ym(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return av.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(Qm(t)||"-"===t[0]&&Qm(t.substring(1))))return av.from(t)}return iv.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function hv(t){if("string"!=typeof t)return hv(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&iv.throwArgumentError("invalid hex","value",t),"0x00"===(t=hv(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function uv(t){return av.from(hv(t))}function fv(t){const e=av.from(t).toHexString();return"-"===e[0]?new rv("-"+e.substring(3),16):new rv(e.substring(2),16)}function cv(t,e,r){const i={fault:t,operation:e};return null!=r&&(i.value=r),iv.throwError(t,Fm.errors.NUMERIC_FAULT,i)}const lv=new Fm(ev),dv={},pv=av.from(0),gv=av.from(-1);function mv(t,e,r,i){const n={fault:e,operation:r};return void 0!==i&&(n.value=i),lv.throwError(t,Fm.errors.NUMERIC_FAULT,n)}let vv="0";for(;vv.length<256;)vv+=vv;function yv(t){if("number"!=typeof t)try{t=av.from(t).toNumber()}catch{}return"number"==typeof t&&t>=0&&t<=256&&!(t%1)?"1"+vv.substring(0,t):lv.throwArgumentError("invalid decimal size","decimals",t)}function wv(t,e){null==e&&(e=0);const r=yv(e),i=(t=av.from(t)).lt(pv);i&&(t=t.mul(gv));let n=t.mod(r).toString();for(;n.length<r.length-1;)n="0"+n;n=n.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return t=1===r.length?s:s+"."+n,i&&(t="-"+t),t}function bv(t,e){null==e&&(e=0);const r=yv(e);("string"!=typeof t||!t.match(/^-?[0-9.]+$/))&&lv.throwArgumentError("invalid decimal value","value",t);const i="-"===t.substring(0,1);i&&(t=t.substring(1)),"."===t&&lv.throwArgumentError("missing value","value",t);const n=t.split(".");n.length>2&&lv.throwArgumentError("too many decimal points","value",t);let s=n[0],o=n[1];for(s||(s="0"),o||(o="0");"0"===o[o.length-1];)o=o.substring(0,o.length-1);for(o.length>r.length-1&&mv("fractional component exceeds decimals","underflow","parseFixed"),""===o&&(o="0");o.length<r.length-1;)o+="0";const a=av.from(s),h=av.from(o);let u=a.mul(r).add(h);return i&&(u=u.mul(gv)),u}class Av{constructor(t,e,r,i){t!==dv&&lv.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Fm.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=e,this.width=r,this.decimals=i,this.name=(e?"":"u")+"fixed"+String(r)+"x"+String(i),this._multiplier=yv(i),Object.freeze(this)}static from(t){if(t instanceof Av)return t;"number"==typeof t&&(t=`fixed128x${t}`);let e=!0,r=128,i=18;if("string"==typeof t){if("fixed"!==t)if("ufixed"===t)e=!1;else{const n=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);n||lv.throwArgumentError("invalid fixed format","format",t),e="u"!==n[1],r=parseInt(n[2]),i=parseInt(n[3])}}else if(t){const n=(e,r,i)=>null==t[e]?i:(typeof t[e]!==r&&lv.throwArgumentError("invalid fixed format ("+e+" not "+r+")","format."+e,t[e]),t[e]);e=n("signed","boolean",e),r=n("width","number",r),i=n("decimals","number",i)}return r%8&&lv.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&lv.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Av(dv,e,r,i)}}class Ev{constructor(t,e,r,i){t!==dv&&lv.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Fm.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=e,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&lv.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const e=bv(this._value,this.format.decimals),r=bv(t._value,t.format.decimals);return Ev.fromValue(e.add(r),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const e=bv(this._value,this.format.decimals),r=bv(t._value,t.format.decimals);return Ev.fromValue(e.sub(r),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const e=bv(this._value,this.format.decimals),r=bv(t._value,t.format.decimals);return Ev.fromValue(e.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const e=bv(this._value,this.format.decimals),r=bv(t._value,t.format.decimals);return Ev.fromValue(e.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=Ev.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return this.isNegative()&&r&&(e=e.subUnsafe(Mv.toFormat(e.format))),e}ceiling(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=Ev.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return!this.isNegative()&&r&&(e=e.addUnsafe(Mv.toFormat(e.format))),e}round(t){null==t&&(t=0);const e=this.toString().split(".");if(1===e.length&&e.push("0"),(t<0||t>80||t%1)&&lv.throwArgumentError("invalid decimal count","decimals",t),e[1].length<=t)return this;const r=Ev.from("1"+vv.substring(0,t),this.format),i=_v.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(i).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(t){if(null==t)return this._hex;t%8&&lv.throwArgumentError("invalid byte width","width",t);return Wm(av.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString(),t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Ev.fromString(this._value,t)}static fromValue(t,e,r){return null==r&&null!=e&&!function(t){return null!=t&&(av.isBigNumber(t)||"number"==typeof t&&t%1===0||"string"==typeof t&&!!t.match(/^-?[0-9]+$/)||Qm(t)||"bigint"==typeof t||Hm(t))}(e)&&(r=e,e=null),null==e&&(e=0),null==r&&(r="fixed"),Ev.fromString(wv(t,e),Av.from(r))}static fromString(t,e){null==e&&(e="fixed");const r=Av.from(e),i=bv(t,r.decimals);!r.signed&&i.lt(pv)&&mv("unsigned value cannot be negative","overflow","value",t);let n=null;r.signed?n=i.toTwos(r.width).toHexString():(n=i.toHexString(),n=Wm(n,r.width/8));const s=wv(i,r.decimals);return new Ev(dv,n,s,r)}static fromBytes(t,e){null==e&&(e="fixed");const r=Av.from(e);if(Km(t).length>r.width/8)throw new Error("overflow");let i=av.from(t);r.signed&&(i=i.fromTwos(r.width));const n=i.toTwos((r.signed?0:1)+r.width).toHexString(),s=wv(i,r.decimals);return new Ev(dv,n,s,r)}static from(t,e){if("string"==typeof t)return Ev.fromString(t,e);if(Hm(t))return Ev.fromBytes(t,e);try{return Ev.fromValue(t,0,e)}catch(io){if(io.code!==Fm.errors.INVALID_ARGUMENT)throw io}return lv.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!(!t||!t._isFixedNumber)}}const Mv=Ev.from(1),_v=Ev.from("0.5"),Sv=new Fm("strings/5.7.0");var Iv,Nv;function xv(t,e,r,i,n){if(t===Nv.BAD_PREFIX||t===Nv.UNEXPECTED_CONTINUE){let t=0;for(let i=e+1;i<r.length&&r[i]>>6===2;i++)t++;return t}return t===Nv.OVERRUN?r.length-e-1:0}function Cv(t,e=Iv.current){e!=Iv.current&&(Sv.checkNormalize(),t=t.normalize(e));let r=[];for(let i=0;i<t.length;i++){const e=t.charCodeAt(i);if(e<128)r.push(e);else if(e<2048)r.push(e>>6|192),r.push(63&e|128);else if(55296==(64512&e)){i++;const n=t.charCodeAt(i);if(i>=t.length||56320!==(64512&n))throw new Error("invalid utf-8 string");const s=65536+((1023&e)<<10)+(1023&n);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(63&s|128)}else r.push(e>>12|224),r.push(e>>6&63|128),r.push(63&e|128)}return Km(r)}function Ov(t,e){e||(e=function(t){return[parseInt(t,16)]});let r=0,i={};return t.split(",").forEach((t=>{let n=t.split(":");r+=parseInt(n[0],16),i[r]=e(n[1])})),i}function Bv(t){let e=0;return t.split(",").map((t=>{let r=t.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let i=e+parseInt(r[0],16);return e=parseInt(r[1],16),{l:i,h:e}}))}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(Iv||(Iv={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(Nv||(Nv={})),Object.freeze({error:function(t,e,r,i,n){return Sv.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:xv,replace:function(t,e,r,i,n){return t===Nv.OVERLONG?(i.push(n),0):(i.push(65533),xv(t,e,r))}}),Bv("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((t=>parseInt(t,16))),Ov("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Ov("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Ov("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(t){if(t.length%4!==0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e})),Bv("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");const Pv="hash/5.7.0";function Rv(t,e){null==e&&(e=1);const r=[],i=r.forEach,n=function(t,e){i.call(t,(function(t){e>0&&Array.isArray(t)?n(t,e-1):r.push(t)}))};return n(t,e),r}function Tv(t){return function(t){let e=0;return()=>t[e++]}(function(t){let e=0;function r(){return t[e++]<<8|t[e++]}let i=r(),n=1,s=[0,1];for(let b=1;b<i;b++)s.push(n+=r());let o=r(),a=e;e+=o;let h=0,u=0;function f(){return 0==h&&(u=u<<8|t[e++],h=8),u>>--h&1}const c=Math.pow(2,31),l=c>>>1,d=l>>1,p=c-1;let g=0;for(let b=0;b<31;b++)g=g<<1|f();let m=[],v=0,y=c;for(;;){let t=Math.floor(((g-v+1)*n-1)/y),e=0,r=i;for(;r-e>1;){let i=e+r>>>1;t<s[i]?r=i:e=i}if(0==e)break;m.push(e);let o=v+Math.floor(y*s[e]/n),a=v+Math.floor(y*s[e+1]/n)-1;for(;!((o^a)&l);)g=g<<1&p|f(),o=o<<1&p,a=a<<1&p|1;for(;o&~a&d;)g=g&l|g<<1&p>>>1|f(),o=o<<1^l,a=(a^l)<<1|l|1;v=o,y=1+a-o}let w=i-4;return m.map((e=>{switch(e-w){case 3:return w+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return w+256+(t[a++]<<8|t[a++]);case 1:return w+t[a++];default:return e-1}}))}(t))}function kv(t){return 1&t?~t>>1:t>>1}function Uv(t,e){let r=Array(t);for(let i=0,n=-1;i<t;i++)r[i]=n+=1+e();return r}function Dv(t,e){let r=Array(t);for(let i=0,n=0;i<t;i++)r[i]=n+=kv(e());return r}function Fv(t,e){let r=Uv(t(),t),i=t(),n=Uv(i,t),s=function(t,e){let r=Array(t);for(let i=0;i<t;i++)r[i]=1+e();return r}(i,t);for(let o=0;o<i;o++)for(let t=0;t<s[o];t++)r.push(n[o]+t);return e?r.map((t=>e[t])):r}function Lv(t,e,r){let i=Array(t).fill(void 0).map((()=>[]));for(let n=0;n<e;n++)Dv(t,r).forEach(((t,e)=>i[e].push(t)));return i}function qv(t,e){let r=1+e(),i=e(),n=function(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(r)}return e}(e);return Rv(Lv(n.length,1+t,e).map(((t,e)=>{const s=t[0],o=t.slice(1);return Array(n[e]).fill(void 0).map(((t,e)=>{let n=e*i;return[s+e*r,o.map((t=>t+n))]}))})))}function jv(t,e){return Lv(1+e(),1+t,e).map((t=>[t[0],t.slice(1)]))}const zv=Tv(function(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Km(e)}("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"));new Set(Fv(zv)),new Set(Fv(zv)),function(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(qv(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(jv(r,t))}(function(t){const e={};for(let r=0;r<t.length;r++){const i=t[r];e[i[0]]=i[1]}})(Rv(e))}(zv),function(t){let e=Fv(t).sort(((t,e)=>t-e));(function r(){let i=[];for(;;){let n=Fv(t,e);if(0==n.length)break;i.push({set:new Set(n),node:r()})}i.sort(((t,e)=>e.set.size-t.set.size));let n=t(),s=n%3;n=n/3|0;let o=!!(1&n);n>>=1;let a=1==n,h=2==n;return{branches:i,valid:s,fe0f:o,save:a,check:h}})()}(zv),new Fm(Pv);new Uint8Array(32).fill(0);const Hv="\x19Ethereum Signed Message:\n";function Kv(t){return"string"==typeof t&&(t=Cv(t)),Xm(function(t){const e=t.map((t=>Km(t))),r=e.reduce(((t,e)=>t+e.length),0),i=new Uint8Array(r);return e.reduce(((t,e)=>(i.set(e,t),t+e.length)),0),jm(i)}([Cv(Hv),Cv(String(t.length)),t]))}new Fm("rlp/5.7.0");const Qv=new Fm("address/5.7.0");function Gv(t){Qm(t,20)||Qv.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let n=0;n<40;n++)r[n]=e[n].charCodeAt(0);const i=Km(Xm(r));for(let n=0;n<40;n+=2)i[n>>1]>>4>=8&&(e[n]=e[n].toUpperCase()),(15&i[n>>1])>=8&&(e[n+1]=e[n+1].toUpperCase());return"0x"+e.join("")}const Yv={};for(let dx=0;dx<10;dx++)Yv[String(dx)]=String(dx);for(let dx=0;dx<26;dx++)Yv[String.fromCharCode(65+dx)]=String(10+dx);const Jv=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function Wv(t){let e=null;if("string"!=typeof t&&Qv.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=Gv(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Qv.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==function(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>Yv[t])).join("");for(;e.length>=Jv;){let t=e.substring(0,Jv);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}(t)&&Qv.throwArgumentError("bad icap checksum","address",t),e=function(t){return new rv(t,36).toString(16)}(t.substring(4));e.length<40;)e="0"+e;e=Gv("0x"+e)}else Qv.throwArgumentError("invalid address","address",t);return e}function Vv(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}new Fm("properties/5.7.0"),new Fm(Pv);new Uint8Array(32).fill(0),av.from(-1);const Xv=av.from(0),Zv=av.from(1);av.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Wm(Zv.toHexString(),32),Wm(Xv.toHexString(),32);var $v={},ty={},ey=ry;function ry(t,e){if(!t)throw new Error(e||"Assertion failed")}ry.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var iy={exports:{}};"function"==typeof Object.create?iy.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:iy.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}};var ny=ey,sy=iy.exports;function oy(t,e){return!(55296!==(64512&t.charCodeAt(e))||e<0||e+1>=t.length)&&56320===(64512&t.charCodeAt(e+1))}function ay(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function hy(t){return 1===t.length?"0"+t:t}function uy(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}ty.inherits=sy,ty.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var i=0,n=0;n<t.length;n++){var s=t.charCodeAt(n);s<128?r[i++]=s:s<2048?(r[i++]=s>>6|192,r[i++]=63&s|128):oy(t,n)?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++n)),r[i++]=s>>18|240,r[i++]=s>>12&63|128,r[i++]=s>>6&63|128,r[i++]=63&s|128):(r[i++]=s>>12|224,r[i++]=s>>6&63|128,r[i++]=63&s|128)}else for(n=0;n<t.length;n++)r[n]=0|t[n];return r},ty.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=hy(t[r].toString(16));return e},ty.htonl=ay,ty.toHex32=function(t,e){for(var r="",i=0;i<t.length;i++){var n=t[i];"little"===e&&(n=ay(n)),r+=uy(n.toString(16))}return r},ty.zero2=hy,ty.zero8=uy,ty.join32=function(t,e,r,i){var n=r-e;ny(n%4===0);for(var s=new Array(n/4),o=0,a=e;o<s.length;o++,a+=4){var h;h="big"===i?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=h>>>0}return s},ty.split32=function(t,e){for(var r=new Array(4*t.length),i=0,n=0;i<t.length;i++,n+=4){var s=t[i];"big"===e?(r[n]=s>>>24,r[n+1]=s>>>16&255,r[n+2]=s>>>8&255,r[n+3]=255&s):(r[n+3]=s>>>24,r[n+2]=s>>>16&255,r[n+1]=s>>>8&255,r[n]=255&s)}return r},ty.rotr32=function(t,e){return t>>>e|t<<32-e},ty.rotl32=function(t,e){return t<<e|t>>>32-e},ty.sum32=function(t,e){return t+e>>>0},ty.sum32_3=function(t,e,r){return t+e+r>>>0},ty.sum32_4=function(t,e,r,i){return t+e+r+i>>>0},ty.sum32_5=function(t,e,r,i,n){return t+e+r+i+n>>>0},ty.sum64=function(t,e,r,i){var n=t[e],s=i+t[e+1]>>>0,o=(s<i?1:0)+r+n;t[e]=o>>>0,t[e+1]=s},ty.sum64_hi=function(t,e,r,i){return(e+i>>>0<e?1:0)+t+r>>>0},ty.sum64_lo=function(t,e,r,i){return e+i>>>0},ty.sum64_4_hi=function(t,e,r,i,n,s,o,a){var h=0,u=e;return h+=(u=u+i>>>0)<e?1:0,h+=(u=u+s>>>0)<s?1:0,t+r+n+o+(h+=(u=u+a>>>0)<a?1:0)>>>0},ty.sum64_4_lo=function(t,e,r,i,n,s,o,a){return e+i+s+a>>>0},ty.sum64_5_hi=function(t,e,r,i,n,s,o,a,h,u){var f=0,c=e;return f+=(c=c+i>>>0)<e?1:0,f+=(c=c+s>>>0)<s?1:0,f+=(c=c+a>>>0)<a?1:0,t+r+n+o+h+(f+=(c=c+u>>>0)<u?1:0)>>>0},ty.sum64_5_lo=function(t,e,r,i,n,s,o,a,h,u){return e+i+s+a+u>>>0},ty.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},ty.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},ty.shr64_hi=function(t,e,r){return t>>>r},ty.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0};var fy={},cy=ty,ly=ey;function dy(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}fy.BlockHash=dy,dy.prototype.update=function(t,e){if(t=cy.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=cy.join32(t,0,t.length-r,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},dy.prototype.digest=function(t){return this.update(this._pad()),ly(null===this.pending),this._digest(t)},dy.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(t<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=t>>>24&255,i[n++]=t>>>16&255,i[n++]=t>>>8&255,i[n++]=255&t}else for(i[n++]=255&t,i[n++]=t>>>8&255,i[n++]=t>>>16&255,i[n++]=t>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,s=8;s<this.padLength;s++)i[n++]=0;return i};var py={},gy={},my=ty.rotr32;function vy(t,e,r){return t&e^~t&r}function yy(t,e,r){return t&e^t&r^e&r}function wy(t,e,r){return t^e^r}gy.ft_1=function(t,e,r,i){return 0===t?vy(e,r,i):1===t||3===t?wy(e,r,i):2===t?yy(e,r,i):void 0},gy.ch32=vy,gy.maj32=yy,gy.p32=wy,gy.s0_256=function(t){return my(t,2)^my(t,13)^my(t,22)},gy.s1_256=function(t){return my(t,6)^my(t,11)^my(t,25)},gy.g0_256=function(t){return my(t,7)^my(t,18)^t>>>3},gy.g1_256=function(t){return my(t,17)^my(t,19)^t>>>10};var by=ty,Ay=fy,Ey=gy,My=by.rotl32,_y=by.sum32,Sy=by.sum32_5,Iy=Ey.ft_1,Ny=Ay.BlockHash,xy=[1518500249,1859775393,2400959708,3395469782];function Cy(){if(!(this instanceof Cy))return new Cy;Ny.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}by.inherits(Cy,Ny);var Oy=Cy;Cy.blockSize=512,Cy.outSize=160,Cy.hmacStrength=80,Cy.padLength=64,Cy.prototype._update=function(t,e){for(var r=this.W,i=0;i<16;i++)r[i]=t[e+i];for(;i<r.length;i++)r[i]=My(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],h=this.h[4];for(i=0;i<r.length;i++){var u=~~(i/20),f=Sy(My(n,5),Iy(u,s,o,a),h,r[i],xy[u]);h=a,a=o,o=My(s,30),s=n,n=f}this.h[0]=_y(this.h[0],n),this.h[1]=_y(this.h[1],s),this.h[2]=_y(this.h[2],o),this.h[3]=_y(this.h[3],a),this.h[4]=_y(this.h[4],h)},Cy.prototype._digest=function(t){return"hex"===t?by.toHex32(this.h,"big"):by.split32(this.h,"big")};var By=ty,Py=fy,Ry=gy,Ty=ey,ky=By.sum32,Uy=By.sum32_4,Dy=By.sum32_5,Fy=Ry.ch32,Ly=Ry.maj32,qy=Ry.s0_256,jy=Ry.s1_256,zy=Ry.g0_256,Hy=Ry.g1_256,Ky=Py.BlockHash,Qy=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Gy(){if(!(this instanceof Gy))return new Gy;Ky.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Qy,this.W=new Array(64)}By.inherits(Gy,Ky);var Yy=Gy;Gy.blockSize=512,Gy.outSize=256,Gy.hmacStrength=192,Gy.padLength=64,Gy.prototype._update=function(t,e){for(var r=this.W,i=0;i<16;i++)r[i]=t[e+i];for(;i<r.length;i++)r[i]=Uy(Hy(r[i-2]),r[i-7],zy(r[i-15]),r[i-16]);var n=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],h=this.h[4],u=this.h[5],f=this.h[6],c=this.h[7];for(Ty(this.k.length===r.length),i=0;i<r.length;i++){var l=Dy(c,jy(h),Fy(h,u,f),this.k[i],r[i]),d=ky(qy(n),Ly(n,s,o));c=f,f=u,u=h,h=ky(a,l),a=o,o=s,s=n,n=ky(l,d)}this.h[0]=ky(this.h[0],n),this.h[1]=ky(this.h[1],s),this.h[2]=ky(this.h[2],o),this.h[3]=ky(this.h[3],a),this.h[4]=ky(this.h[4],h),this.h[5]=ky(this.h[5],u),this.h[6]=ky(this.h[6],f),this.h[7]=ky(this.h[7],c)},Gy.prototype._digest=function(t){return"hex"===t?By.toHex32(this.h,"big"):By.split32(this.h,"big")};var Jy=ty,Wy=Yy;function Vy(){if(!(this instanceof Vy))return new Vy;Wy.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Jy.inherits(Vy,Wy);var Xy=Vy;Vy.blockSize=512,Vy.outSize=224,Vy.hmacStrength=192,Vy.padLength=64,Vy.prototype._digest=function(t){return"hex"===t?Jy.toHex32(this.h.slice(0,7),"big"):Jy.split32(this.h.slice(0,7),"big")};var Zy=ty,$y=fy,tw=ey,ew=Zy.rotr64_hi,rw=Zy.rotr64_lo,iw=Zy.shr64_hi,nw=Zy.shr64_lo,sw=Zy.sum64,ow=Zy.sum64_hi,aw=Zy.sum64_lo,hw=Zy.sum64_4_hi,uw=Zy.sum64_4_lo,fw=Zy.sum64_5_hi,cw=Zy.sum64_5_lo,lw=$y.BlockHash,dw=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function pw(){if(!(this instanceof pw))return new pw;lw.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=dw,this.W=new Array(160)}Zy.inherits(pw,lw);var gw=pw;function mw(t,e,r,i,n){var s=t&r^~t&n;return s<0&&(s+=4294967296),s}function vw(t,e,r,i,n,s){var o=e&i^~e&s;return o<0&&(o+=4294967296),o}function yw(t,e,r,i,n){var s=t&r^t&n^r&n;return s<0&&(s+=4294967296),s}function ww(t,e,r,i,n,s){var o=e&i^e&s^i&s;return o<0&&(o+=4294967296),o}function bw(t,e){var r=ew(t,e,28)^ew(e,t,2)^ew(e,t,7);return r<0&&(r+=4294967296),r}function Aw(t,e){var r=rw(t,e,28)^rw(e,t,2)^rw(e,t,7);return r<0&&(r+=4294967296),r}function Ew(t,e){var r=ew(t,e,14)^ew(t,e,18)^ew(e,t,9);return r<0&&(r+=4294967296),r}function Mw(t,e){var r=rw(t,e,14)^rw(t,e,18)^rw(e,t,9);return r<0&&(r+=4294967296),r}function _w(t,e){var r=ew(t,e,1)^ew(t,e,8)^iw(t,e,7);return r<0&&(r+=4294967296),r}function Sw(t,e){var r=rw(t,e,1)^rw(t,e,8)^nw(t,e,7);return r<0&&(r+=4294967296),r}function Iw(t,e){var r=ew(t,e,19)^ew(e,t,29)^iw(t,e,6);return r<0&&(r+=4294967296),r}function Nw(t,e){var r=rw(t,e,19)^rw(e,t,29)^nw(t,e,6);return r<0&&(r+=4294967296),r}pw.blockSize=1024,pw.outSize=512,pw.hmacStrength=192,pw.padLength=128,pw.prototype._prepareBlock=function(t,e){for(var r=this.W,i=0;i<32;i++)r[i]=t[e+i];for(;i<r.length;i+=2){var n=Iw(r[i-4],r[i-3]),s=Nw(r[i-4],r[i-3]),o=r[i-14],a=r[i-13],h=_w(r[i-30],r[i-29]),u=Sw(r[i-30],r[i-29]),f=r[i-32],c=r[i-31];r[i]=hw(n,s,o,a,h,u,f,c),r[i+1]=uw(n,s,o,a,h,u,f,c)}},pw.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,i=this.h[0],n=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],h=this.h[5],u=this.h[6],f=this.h[7],c=this.h[8],l=this.h[9],d=this.h[10],p=this.h[11],g=this.h[12],m=this.h[13],v=this.h[14],y=this.h[15];tw(this.k.length===r.length);for(var w=0;w<r.length;w+=2){var b=v,A=y,E=Ew(c,l),M=Mw(c,l),_=mw(c,l,d,p,g),S=vw(c,l,d,p,g,m),I=this.k[w],N=this.k[w+1],x=r[w],C=r[w+1],O=fw(b,A,E,M,_,S,I,N,x,C),B=cw(b,A,E,M,_,S,I,N,x,C);b=bw(i,n),A=Aw(i,n),E=yw(i,n,s,o,a),M=ww(i,n,s,o,a,h);var P=ow(b,A,E,M),R=aw(b,A,E,M);v=g,y=m,g=d,m=p,d=c,p=l,c=ow(u,f,O,B),l=aw(f,f,O,B),u=a,f=h,a=s,h=o,s=i,o=n,i=ow(O,B,P,R),n=aw(O,B,P,R)}sw(this.h,0,i,n),sw(this.h,2,s,o),sw(this.h,4,a,h),sw(this.h,6,u,f),sw(this.h,8,c,l),sw(this.h,10,d,p),sw(this.h,12,g,m),sw(this.h,14,v,y)},pw.prototype._digest=function(t){return"hex"===t?Zy.toHex32(this.h,"big"):Zy.split32(this.h,"big")};var xw=ty,Cw=gw;function Ow(){if(!(this instanceof Ow))return new Ow;Cw.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}xw.inherits(Ow,Cw);var Bw=Ow;Ow.blockSize=1024,Ow.outSize=384,Ow.hmacStrength=192,Ow.padLength=128,Ow.prototype._digest=function(t){return"hex"===t?xw.toHex32(this.h.slice(0,12),"big"):xw.split32(this.h.slice(0,12),"big")},py.sha1=Oy,py.sha224=Xy,py.sha256=Yy,py.sha384=Bw,py.sha512=gw;var Pw={},Rw=ty,Tw=fy,kw=Rw.rotl32,Uw=Rw.sum32,Dw=Rw.sum32_3,Fw=Rw.sum32_4,Lw=Tw.BlockHash;function qw(){if(!(this instanceof qw))return new qw;Lw.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function jw(t,e,r,i){return t<=15?e^r^i:t<=31?e&r|~e&i:t<=47?(e|~r)^i:t<=63?e&i|r&~i:e^(r|~i)}function zw(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Hw(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}Rw.inherits(qw,Lw),Pw.ripemd160=qw,qw.blockSize=512,qw.outSize=160,qw.hmacStrength=192,qw.padLength=64,qw.prototype._update=function(t,e){for(var r=this.h[0],i=this.h[1],n=this.h[2],s=this.h[3],o=this.h[4],a=r,h=i,u=n,f=s,c=o,l=0;l<80;l++){var d=Uw(kw(Fw(r,jw(l,i,n,s),t[Kw[l]+e],zw(l)),Gw[l]),o);r=o,o=s,s=kw(n,10),n=i,i=d,d=Uw(kw(Fw(a,jw(79-l,h,u,f),t[Qw[l]+e],Hw(l)),Yw[l]),c),a=c,c=f,f=kw(u,10),u=h,h=d}d=Dw(this.h[1],n,f),this.h[1]=Dw(this.h[2],s,c),this.h[2]=Dw(this.h[3],o,a),this.h[3]=Dw(this.h[4],r,h),this.h[4]=Dw(this.h[0],i,u),this.h[0]=d},qw.prototype._digest=function(t){return"hex"===t?Rw.toHex32(this.h,"little"):Rw.split32(this.h,"little")};var Kw=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Qw=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Gw=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Yw=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Jw=ty,Ww=ey;function Vw(t,e,r){if(!(this instanceof Vw))return new Vw(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Jw.toArray(e,r))}var Xw=Vw;function Zw(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(e??r.path)}},t(r,r.exports),r.exports}Vw.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),Ww(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},Vw.prototype.update=function(t,e){return this.inner.update(t,e),this},Vw.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},function(t){var e=t;e.utils=ty,e.common=fy,e.sha=py,e.ripemd=Pw,e.hmac=Xw,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}($v);var $w=tb;function tb(t,e){if(!t)throw new Error(e||"Assertion failed")}tb.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var eb=Zw((function(t,e){var r=e;function i(t){return 1===t.length?"0"+t:t}function n(t){for(var e="",r=0;r<t.length;r++)e+=i(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var i=0;i<t.length;i++)r[i]=0|t[i];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(t="0"+t);for(i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(i=0;i<t.length;i++){var n=t.charCodeAt(i),s=n>>8,o=255&n;s?r.push(s,o):r.push(o)}return r},r.zero2=i,r.toHex=n,r.encode=function(t,e){return"hex"===e?n(t):t}})),rb=Zw((function(t,e){var r=e;r.assert=$w,r.toArray=eb.toArray,r.zero2=eb.zero2,r.toHex=eb.toHex,r.encode=eb.encode,r.getNAF=function(t,e,r){var i=new Array(Math.max(t.bitLength(),r)+1);i.fill(0);for(var n=1<<e+1,s=t.clone(),o=0;o<i.length;o++){var a,h=s.andln(n-1);s.isOdd()?(a=h>(n>>1)-1?(n>>1)-h:h,s.isubn(a)):a=0,i[o]=a,s.iushrn(1)}return i},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var i,n=0,s=0;t.cmpn(-n)>0||e.cmpn(-s)>0;){var o,a,h=t.andln(3)+n&3,u=e.andln(3)+s&3;3===h&&(h=-1),3===u&&(u=-1),1&h?o=3!==(i=t.andln(7)+n&7)&&5!==i||2!==u?h:-h:o=0,r[0].push(o),1&u?a=3!==(i=e.andln(7)+s&7)&&5!==i||2!==h?u:-u:a=0,r[1].push(a),2*n===o+1&&(n=1-n),2*s===a+1&&(s=1-s),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var i="_"+e;t.prototype[e]=function(){return void 0!==this[i]?this[i]:this[i]=r.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new tv(t,"hex","le")}})),ib=rb.getNAF,nb=rb.getJSF,sb=rb.assert;function ob(t,e){this.type=t,this.p=new tv(e.p,16),this.red=e.prime?tv.red(e.prime):tv.mont(this.p),this.zero=new tv(0).toRed(this.red),this.one=new tv(1).toRed(this.red),this.two=new tv(2).toRed(this.red),this.n=e.n&&new tv(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var ab=ob;function hb(t,e){this.curve=t,this.type=e,this.precomputed=null}ob.prototype.point=function(){throw new Error("Not implemented")},ob.prototype.validate=function(){throw new Error("Not implemented")},ob.prototype._fixedNafMul=function(t,e){sb(t.precomputed);var r=t._getDoubles(),i=ib(e,1,this._bitLength),n=(1<<r.step+1)-(r.step%2===0?2:1);n/=3;var s,o,a=[];for(s=0;s<i.length;s+=r.step){o=0;for(var h=s+r.step-1;h>=s;h--)o=(o<<1)+i[h];a.push(o)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),c=n;c>0;c--){for(s=0;s<a.length;s++)(o=a[s])===c?f=f.mixedAdd(r.points[s]):o===-c&&(f=f.mixedAdd(r.points[s].neg()));u=u.add(f)}return u.toP()},ob.prototype._wnafMul=function(t,e){var r=4,i=t._getNAFPoints(r);r=i.wnd;for(var n=i.points,s=ib(e,r,this._bitLength),o=this.jpoint(null,null,null),a=s.length-1;a>=0;a--){for(var h=0;a>=0&&0===s[a];a--)h++;if(a>=0&&h++,o=o.dblp(h),a<0)break;var u=s[a];sb(0!==u),o="affine"===t.type?u>0?o.mixedAdd(n[u-1>>1]):o.mixedAdd(n[-u-1>>1].neg()):u>0?o.add(n[u-1>>1]):o.add(n[-u-1>>1].neg())}return"affine"===t.type?o.toP():o},ob.prototype._wnafMulAdd=function(t,e,r,i,n){var s,o,a,h=this._wnafT1,u=this._wnafT2,f=this._wnafT3,c=0;for(s=0;s<i;s++){var l=(a=e[s])._getNAFPoints(t);h[s]=l.wnd,u[s]=l.points}for(s=i-1;s>=1;s-=2){var d=s-1,p=s;if(1===h[d]&&1===h[p]){var g=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(g[1]=e[d].add(e[p]),g[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(g[1]=e[d].toJ().mixedAdd(e[p]),g[2]=e[d].add(e[p].neg())):(g[1]=e[d].toJ().mixedAdd(e[p]),g[2]=e[d].toJ().mixedAdd(e[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],v=nb(r[d],r[p]);for(c=Math.max(v[0].length,c),f[d]=new Array(c),f[p]=new Array(c),o=0;o<c;o++){var y=0|v[0][o],w=0|v[1][o];f[d][o]=m[3*(y+1)+(w+1)],f[p][o]=0,u[d]=g}}else f[d]=ib(r[d],h[d],this._bitLength),f[p]=ib(r[p],h[p],this._bitLength),c=Math.max(f[d].length,c),c=Math.max(f[p].length,c)}var b=this.jpoint(null,null,null),A=this._wnafT4;for(s=c;s>=0;s--){for(var E=0;s>=0;){var M=!0;for(o=0;o<i;o++)A[o]=0|f[o][s],0!==A[o]&&(M=!1);if(!M)break;E++,s--}if(s>=0&&E++,b=b.dblp(E),s<0)break;for(o=0;o<i;o++){var _=A[o];0!==_&&(_>0?a=u[o][_-1>>1]:_<0&&(a=u[o][-_-1>>1].neg()),b="affine"===a.type?b.mixedAdd(a):b.add(a))}}for(s=0;s<i;s++)u[s]=null;return n?b:b.toP()},ob.BasePoint=hb,hb.prototype.eq=function(){throw new Error("Not implemented")},hb.prototype.validate=function(){return this.curve.validate(this)},ob.prototype.decodePoint=function(t,e){t=rb.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1===2*r)return 6===t[0]?sb(t[t.length-1]%2===0):7===t[0]&&sb(t[t.length-1]%2===1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},hb.prototype.encodeCompressed=function(t){return this.encode(t,!0)},hb.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},hb.prototype.encode=function(t,e){return rb.encode(this._encode(e),t)},hb.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},hb.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},hb.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<e;n+=t){for(var s=0;s<t;s++)i=i.dbl();r.push(i)}return{step:t,points:r}},hb.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,i=1===r?null:this.dbl(),n=1;n<r;n++)e[n]=e[n-1].add(i);return{wnd:t,points:e}},hb.prototype._getBeta=function(){return null},hb.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var ub=Zw((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),fb=rb.assert;function cb(t){ab.call(this,"short",t),this.a=new tv(t.a,16).toRed(this.red),this.b=new tv(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}ub(cb,ab);var lb=cb;function db(t,e,r,i){ab.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new tv(e,16),this.y=new tv(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function pb(t,e,r,i){ab.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new tv(0)):(this.x=new tv(e,16),this.y=new tv(r,16),this.z=new tv(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}cb.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r,i;if(t.beta)e=new tv(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new tv(t.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(e))?r=s[0]:(r=s[1],fb(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return i=t.basis?t.basis.map((function(t){return{a:new tv(t.a,16),b:new tv(t.b,16)}})):this._getEndoBasis(r),{beta:e,lambda:r,basis:i}}},cb.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:tv.mont(t),r=new tv(2).toRed(e).redInvm(),i=r.redNeg(),n=new tv(3).toRed(e).redNeg().redSqrt().redMul(r);return[i.redAdd(n).fromRed(),i.redSub(n).fromRed()]},cb.prototype._getEndoBasis=function(t){for(var e,r,i,n,s,o,a,h,u,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),c=t,l=this.n.clone(),d=new tv(1),p=new tv(0),g=new tv(0),m=new tv(1),v=0;0!==c.cmpn(0);){var y=l.div(c);h=l.sub(y.mul(c)),u=g.sub(y.mul(d));var w=m.sub(y.mul(p));if(!i&&h.cmp(f)<0)e=a.neg(),r=d,i=h.neg(),n=u;else if(i&&2===++v)break;a=h,l=c,c=h,g=d,d=u,m=p,p=w}s=h.neg(),o=u;var b=i.sqr().add(n.sqr());return s.sqr().add(o.sqr()).cmp(b)>=0&&(s=e,o=r),i.negative&&(i=i.neg(),n=n.neg()),s.negative&&(s=s.neg(),o=o.neg()),[{a:i,b:n},{a:s,b:o}]},cb.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],i=e[1],n=i.b.mul(t).divRound(this.n),s=r.b.neg().mul(t).divRound(this.n),o=n.mul(r.a),a=s.mul(i.a),h=n.mul(r.b),u=s.mul(i.b);return{k1:t.sub(o).sub(a),k2:h.add(u).neg()}},cb.prototype.pointFromX=function(t,e){(t=new tv(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(0!==i.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var n=i.fromRed().isOdd();return(e&&!n||!e&&n)&&(i=i.redNeg()),this.point(t,i)},cb.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,i=this.a.redMul(e),n=e.redSqr().redMul(e).redIAdd(i).redIAdd(this.b);return 0===r.redSqr().redISub(n).cmpn(0)},cb.prototype._endoWnafMulAdd=function(t,e,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(e[s]),a=t[s],h=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),h=h.neg(!0)),i[2*s]=a,i[2*s+1]=h,n[2*s]=o.k1,n[2*s+1]=o.k2}for(var u=this._wnafMulAdd(1,i,n,2*s,r),f=0;f<2*s;f++)i[f]=null,n[f]=null;return u},ub(db,ab.BasePoint),cb.prototype.point=function(t,e,r){return new db(this,t,e,r)},cb.prototype.pointFromJSON=function(t,e){return db.fromJSON(this,t,e)},db.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,i=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return e}},db.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},db.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var i=t.point(e[0],e[1],r);if(!e[2])return i;function n(e){return t.point(e[0],e[1],r)}var s=e[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(n))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(n))}},i},db.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},db.prototype.isInfinity=function(){return this.inf},db.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),i=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},db.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),i=t.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(i),s=n.redSqr().redISub(this.x.redAdd(this.x)),o=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},db.prototype.getX=function(){return this.x.fromRed()},db.prototype.getY=function(){return this.y.fromRed()},db.prototype.mul=function(t){return t=new tv(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},db.prototype.mulAdd=function(t,e,r){var i=[this,e],n=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},db.prototype.jmulAdd=function(t,e,r){var i=[this,e],n=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},db.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},db.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,i=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return e},db.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},ub(pb,ab.BasePoint),cb.prototype.jpoint=function(t,e,r){return new pb(this,t,e,r)},pb.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),i=this.y.redMul(e).redMul(t);return this.curve.point(r,i)},pb.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},pb.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(e),n=t.x.redMul(r),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(r.redMul(this.z)),a=i.redSub(n),h=s.redSub(o);if(0===a.cmpn(0))return 0!==h.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),f=u.redMul(a),c=i.redMul(u),l=h.redSqr().redIAdd(f).redISub(c).redISub(c),d=h.redMul(c.redISub(l)).redISub(s.redMul(f)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(l,d,p)},pb.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,i=t.x.redMul(e),n=this.y,s=t.y.redMul(e).redMul(this.z),o=r.redSub(i),a=n.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=o.redSqr(),u=h.redMul(o),f=r.redMul(h),c=a.redSqr().redIAdd(u).redISub(f).redISub(f),l=a.redMul(f.redISub(c)).redISub(n.redMul(u)),d=this.z.redMul(o);return this.curve.jpoint(c,l,d)},pb.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,s=this.x,o=this.y,a=this.z,h=a.redSqr().redSqr(),u=o.redAdd(o);for(e=0;e<t;e++){var f=s.redSqr(),c=u.redSqr(),l=c.redSqr(),d=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(h)),p=s.redMul(c),g=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),v=d.redMul(m);v=v.redIAdd(v).redISub(l);var y=u.redMul(a);e+1<t&&(h=h.redMul(l)),s=g,a=y,u=v}return this.curve.jpoint(s,u.redMul(n),a)},pb.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},pb.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i),h=a.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),t=h,e=a.redMul(o.redISub(h)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),c=this.y.redSqr(),l=c.redSqr(),d=this.x.redAdd(c).redSqr().redISub(f).redISub(l);d=d.redIAdd(d);var p=f.redAdd(f).redIAdd(f),g=p.redSqr(),m=l.redIAdd(l);m=(m=m.redIAdd(m)).redIAdd(m),t=g.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},pb.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),h=a.redSqr().redISub(o).redISub(o);t=h;var u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),e=a.redMul(o.redISub(h)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),c=this.y.redSqr(),l=this.x.redMul(c),d=this.x.redSub(f).redMul(this.x.redAdd(f));d=d.redAdd(d).redIAdd(d);var p=l.redIAdd(l),g=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(c).redISub(f);var m=c.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),e=d.redMul(p.redISub(t)).redISub(m)}return this.curve.jpoint(t,e,r)},pb.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),s=e.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(n)),h=e.redAdd(e),u=(h=h.redIAdd(h)).redMul(o),f=a.redSqr().redISub(u.redAdd(u)),c=u.redISub(f),l=o.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=a.redMul(c).redISub(l),p=r.redAdd(r).redMul(i);return this.curve.jpoint(f,d,p)},pb.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),i=e.redSqr(),n=t.redAdd(t).redIAdd(t),s=n.redSqr(),o=this.x.redAdd(e).redSqr().redISub(t).redISub(i),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),h=i.redIAdd(i);h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var u=n.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(h),f=e.redMul(u);f=(f=f.redIAdd(f)).redIAdd(f);var c=this.x.redMul(a).redISub(f);c=(c=c.redIAdd(c)).redIAdd(c);var l=this.y.redMul(u.redMul(h.redISub(u)).redISub(o.redMul(a)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(c,l,d)},pb.prototype.mul=function(t,e){return t=new tv(t,e),this.curve._wnafMul(this,t)},pb.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var i=e.redMul(this.z),n=r.redMul(t.z);return 0===this.y.redMul(n).redISub(t.y.redMul(i)).cmpn(0)},pb.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var i=t.clone(),n=this.curve.redN.redMul(e);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),0===this.x.cmp(r))return!0}},pb.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},pb.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var gb=Zw((function(t,e){var r=e;r.base=ab,r.short=lb,r.mont=null,r.edwards=null})),mb=Zw((function(t,e){var r,i=e,n=rb.assert;function s(t){"short"===t.type?this.curve=new gb.short(t):"edwards"===t.type?this.curve=new gb.edwards(t):this.curve=new gb.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var r=new s(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=s,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:$v.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:$v.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:$v.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:$v.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:$v.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:$v.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:$v.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch{r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:$v.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function vb(t){if(!(this instanceof vb))return new vb(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=eb.toArray(t.entropy,t.entropyEnc||"hex"),r=eb.toArray(t.nonce,t.nonceEnc||"hex"),i=eb.toArray(t.pers,t.persEnc||"hex");$w(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,i)}var yb=vb;vb.prototype._init=function(t,e,r){var i=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},vb.prototype._hmac=function(){return new $v.hmac(this.hash,this.K)},vb.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},vb.prototype.reseed=function(t,e,r,i){"string"!=typeof e&&(i=r,r=e,e=null),t=eb.toArray(t,e),r=eb.toArray(r,i),$w(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},vb.prototype.generate=function(t,e,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(i=r,r=e,e=null),r&&(r=eb.toArray(r,i||"hex"),this._update(r));for(var n=[];n.length<t;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var s=n.slice(0,t);return this._update(r),this._reseed++,eb.encode(s,e)};var wb=rb.assert;function bb(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Ab=bb;bb.fromPublic=function(t,e,r){return e instanceof bb?e:new bb(t,{pub:e,pubEnc:r})},bb.fromPrivate=function(t,e,r){return e instanceof bb?e:new bb(t,{priv:e,privEnc:r})},bb.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},bb.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},bb.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},bb.prototype._importPrivate=function(t,e){this.priv=new tv(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},bb.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?wb(t.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&wb(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},bb.prototype.derive=function(t){return t.validate()||wb(t.validate(),"public point not validated"),t.mul(this.priv).getX()},bb.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},bb.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},bb.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Eb=rb.assert;function Mb(t,e){if(t instanceof Mb)return t;this._importDER(t,e)||(Eb(t.r&&t.s,"Signature without r or s"),this.r=new tv(t.r,16),this.s=new tv(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var _b=Mb;function Sb(){this.place=0}function Ib(t,e){var r=t[e.place++];if(!(128&r))return r;var i=15&r;if(0===i||i>4)return!1;for(var n=0,s=0,o=e.place;s<i;s++,o++)n<<=8,n|=t[o],n>>>=0;return!(n<=127)&&(e.place=o,n)}function Nb(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function xb(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}Mb.prototype._importDER=function(t,e){t=rb.toArray(t,e);var r=new Sb;if(48!==t[r.place++])return!1;var i=Ib(t,r);if(!1===i||i+r.place!==t.length||2!==t[r.place++])return!1;var n=Ib(t,r);if(!1===n)return!1;var s=t.slice(r.place,n+r.place);if(r.place+=n,2!==t[r.place++])return!1;var o=Ib(t,r);if(!1===o||t.length!==o+r.place)return!1;var a=t.slice(r.place,o+r.place);if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new tv(s),this.s=new tv(a),this.recoveryParam=null,!0},Mb.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=Nb(e),r=Nb(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var i=[2];xb(i,e.length),(i=i.concat(e)).push(2),xb(i,r.length);var n=i.concat(r),s=[48];return xb(s,n.length),s=s.concat(n),rb.encode(s,t)};var Cb=function(){throw new Error("unsupported")},Ob=rb.assert;function Bb(t){if(!(this instanceof Bb))return new Bb(t);"string"==typeof t&&(Ob(Object.prototype.hasOwnProperty.call(mb,t),"Unknown curve "+t),t=mb[t]),t instanceof mb.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Pb=Bb;Bb.prototype.keyPair=function(t){return new Ab(this,t)},Bb.prototype.keyFromPrivate=function(t,e){return Ab.fromPrivate(this,t,e)},Bb.prototype.keyFromPublic=function(t,e){return Ab.fromPublic(this,t,e)},Bb.prototype.genKeyPair=function(t){t||(t={});for(var e=new yb({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Cb(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new tv(2));;){var n=new tv(e.generate(r));if(!(n.cmp(i)>0))return n.iaddn(1),this.keyFromPrivate(n)}},Bb.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},Bb.prototype.sign=function(t,e,r,i){"object"==typeof r&&(i=r,r=null),i||(i={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new tv(t,16));for(var n=this.n.byteLength(),s=e.getPrivate().toArray("be",n),o=t.toArray("be",n),a=new yb({hash:this.hash,entropy:s,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),h=this.n.sub(new tv(1)),u=0;;u++){var f=i.k?i.k(u):new tv(a.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(h)>=0)){var c=this.g.mul(f);if(!c.isInfinity()){var l=c.getX(),d=l.umod(this.n);if(0!==d.cmpn(0)){var p=f.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var g=(c.getY().isOdd()?1:0)|(0!==l.cmp(d)?2:0);return i.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),g^=1),new _b({r:d,s:p,recoveryParam:g})}}}}}},Bb.prototype.verify=function(t,e,r,i){t=this._truncateToN(new tv(t,16)),r=this.keyFromPublic(r,i);var n=(e=new _b(e,"hex")).r,s=e.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o,a=s.invm(this.n),h=a.mul(t).umod(this.n),u=a.mul(n).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(h,r.getPublic(),u)).isInfinity()&&o.eqXToP(n):!(o=this.g.mulAdd(h,r.getPublic(),u)).isInfinity()&&0===o.getX().umod(this.n).cmp(n)},Bb.prototype.recoverPubKey=function(t,e,r,i){Ob((3&r)===r,"The recovery param is more than two bits"),e=new _b(e,i);var n=this.n,s=new tv(t),o=e.r,a=e.s,h=1&r,u=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");o=u?this.curve.pointFromX(o.add(this.curve.n),h):this.curve.pointFromX(o,h);var f=e.r.invm(n),c=n.sub(s).mul(f).umod(n),l=a.mul(f).umod(n);return this.g.mulAdd(c,o,l)},Bb.prototype.getKeyRecoveryParam=function(t,e,r,i){if(null!==(e=new _b(e,i)).recoveryParam)return e.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(t,e,n)}catch{continue}if(s.eq(r))return n}throw new Error("Unable to find valid recovery factor")};var Rb=Zw((function(t,e){var r=e;r.version="6.5.4",r.utils=rb,r.rand=function(){throw new Error("unsupported")},r.curve=gb,r.curves=mb,r.ec=Pb,r.eddsa=null})),Tb=Rb.ec;const kb=new Fm("signing-key/5.7.0");let Ub=null;function Db(){return Ub||(Ub=new Tb("secp256k1")),Ub}class Fb{constructor(t){Vv(this,"curve","secp256k1"),Vv(this,"privateKey",Ym(t)),32!==function(t){if("string"!=typeof t)t=Ym(t);else if(!Qm(t)||t.length%2)return null;return(t.length-2)/2}(this.privateKey)&&kb.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const e=Db().keyFromPrivate(Km(this.privateKey));Vv(this,"publicKey","0x"+e.getPublic(!1,"hex")),Vv(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),Vv(this,"_isSigningKey",!0)}_addPoint(t){const e=Db().keyFromPublic(Km(this.publicKey)),r=Db().keyFromPublic(Km(t));return"0x"+e.pub.add(r.pub).encodeCompressed("hex")}signDigest(t){const e=Db().keyFromPrivate(Km(this.privateKey)),r=Km(t);32!==r.length&&kb.throwArgumentError("bad digest length","digest",t);const i=e.sign(r,{canonical:!0});return Vm({recoveryParam:i.recoveryParam,r:Wm("0x"+i.r.toString(16),32),s:Wm("0x"+i.s.toString(16),32)})}computeSharedSecret(t){const e=Db().keyFromPrivate(Km(this.privateKey)),r=Db().keyFromPublic(Km(Lb(t)));return Wm("0x"+e.derive(r.getPublic()).toString(16),32)}static isSigningKey(t){return!(!t||!t._isSigningKey)}}function Lb(t,e){const r=Km(t);if(32===r.length){const t=new Fb(r);return e?"0x"+Db().keyFromPrivate(r).getPublic(!0,"hex"):t.publicKey}return 33===r.length?e?Ym(r):"0x"+Db().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?e?"0x"+Db().keyFromPublic(r).getPublic(!0,"hex"):Ym(r):kb.throwArgumentError("invalid public or private key","key","[REDACTED]")}var qb;function jb(t,e){return function(t){return Wv(Jm(Xm(Jm(Lb(t),1)),12))}(function(t,e){const r=Vm(e),i={r:Km(r.r),s:Km(r.s)};return"0x"+Db().recoverPubKey(Km(t),i,r.recoveryParam).encode("hex",!1)}(Km(t),e))}new Fm("transactions/5.7.0"),function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(qb||(qb={}));const zb="https://rpc.walletconnect.com/v1";async function Hb(t,e,r,i,n,s){switch(r.t){case"eip191":return function(t,e,r){return jb(Kv(e),r).toLowerCase()===t.toLowerCase()}(t,e,r.s);case"eip1271":return await async function(t,e,r,i,n,s){try{const o="0x1626ba7e",a="0000000000000000000000000000000000000000000000000000000000000040",h="0000000000000000000000000000000000000000000000000000000000000041",u=r.substring(2),f=o+Kv(e).substring(2)+a+h+u,c=await fetch(`${s||zb}/?chainId=${i}&projectId=${n}`,{method:"POST",body:JSON.stringify({id:Kb(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:f},"latest"]})}),{result:l}=await c.json();return!!l&&l.slice(0,o.length).toLowerCase()===o.toLowerCase()}catch(o){return console.error("isValidEip1271Signature: ",o),!1}}(t,e,r.s,i,n,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function Kb(){return Date.now()+Math.floor(1e3*Math.random())}var Qb=Object.defineProperty,Gb=Object.defineProperties,Yb=Object.getOwnPropertyDescriptors,Jb=Object.getOwnPropertySymbols,Wb=Object.prototype.hasOwnProperty,Vb=Object.prototype.propertyIsEnumerable,Xb=(t,e,r)=>e in t?Qb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Zb=(t,e)=>{for(var r in e||(e={}))Wb.call(e,r)&&Xb(t,r,e[r]);if(Jb)for(var r of Jb(e))Vb.call(e,r)&&Xb(t,r,e[r]);return t},$b=(t,e)=>Gb(t,Yb(e));const tA=t=>t?.split(":"),eA=t=>{const e=t&&tA(t);if(e)return t.includes("did:pkh:")?e[3]:e[1]},rA=t=>{const e=t&&tA(t);if(e)return e[2]+":"+e[3]},iA=t=>{const e=t&&tA(t);if(e)return e.pop()};async function nA(t){const{cacao:e,projectId:r}=t,{s:i,p:n}=e,s=sA(n,n.iss),o=iA(n.iss);return await Hb(o,s,i,eA(n.iss),r)}const sA=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,i=iA(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let n=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${eA(e)}`,h=`Nonce: ${t.nonce}`,u=`Issued At: ${t.iat}`,f=t.exp?`Expiration Time: ${t.exp}`:void 0,c=t.nbf?`Not Before: ${t.nbf}`:void 0,l=t.requestId?`Request ID: ${t.requestId}`:void 0,d=t.resources?`Resources:${t.resources.map((t=>`\n- ${t}`)).join("")}`:void 0,p=mA(t.resources);if(p){n=dA(n,uA(p))}return[r,i,"",n,"",s,o,a,h,u,f,c,l,d].filter((t=>null!=t)).join("\n")};function oA(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(null==e||!e.length)throw new Error("No resources found in `att` property");e.forEach((e=>{const r=t.att[e];if(Array.isArray(r))throw new Error(`Resource must be an object: ${e}`);if("object"!=typeof r)throw new Error(`Resource must be an object: ${e}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${e}`);Object.keys(r).forEach((t=>{const e=r[t];if(!Array.isArray(e))throw new Error(`Ability limits ${t} must be an array of objects, found: ${e}`);if(!e.length)throw new Error(`Value of ${t} is empty array, must be an array with objects`);e.forEach((e=>{if("object"!=typeof e)throw new Error(`Ability limits (${t}) must be an array of objects, found: ${e}`)}))}))}))}function aA(t,e,r={}){e=e?.sort(((t,e)=>t.localeCompare(e)));const i=e.map((e=>({[`${t}/${e}`]:[r]})));return Object.assign({},...i)}function hA(t){return oA(t),`urn:recap:${function(t){return Buffer.from(JSON.stringify(t)).toString("base64")}(t).replace(/=/g,"")}`}function uA(t){const e=function(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}(t.replace("urn:recap:",""));return oA(e),e}function fA(t,e,r){const i=function(t,e,r,i={}){return r?.sort(((t,e)=>t.localeCompare(e))),{att:{[t]:aA(e,r,i)}}}(t,e,r);return hA(i)}function cA(t){return t&&t.includes("urn:recap:")}function lA(t,e){const r=function(t,e){oA(t),oA(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort(((t,e)=>t.localeCompare(e))),i={att:{}};return r.forEach((r=>{var n,s;Object.keys((null==(n=t.att)?void 0:n[r])||{}).concat(Object.keys((null==(s=e.att)?void 0:s[r])||{})).sort(((t,e)=>t.localeCompare(e))).forEach((n=>{var s,o;i.att[r]=$b(Zb({},i.att[r]),{[n]:(null==(s=t.att[r])?void 0:s[n])||(null==(o=e.att[r])?void 0:o[n])})}))})),i}(uA(t),uA(e));return hA(r)}function dA(t="",e){oA(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const i=[];let n=0;Object.keys(e.att).forEach((t=>{const r=Object.keys(e.att[t]).map((t=>({ability:t.split("/")[0],action:t.split("/")[1]})));r.sort(((t,e)=>t.action.localeCompare(e.action)));const s={};r.forEach((t=>{s[t.ability]||(s[t.ability]=[]),s[t.ability].push(t.action)}));const o=Object.keys(s).map((e=>(n++,`(${n}) '${e}': '${s[e].join("', '")}' for '${t}'.`)));i.push(o.join(", ").replace(".,","."))}));return`${t?t+" ":""}${`${r}${i.join(" ")}`}`}function pA(t){var e;const r=uA(t);oA(r);const i=null==(e=r.att)?void 0:e.eip155;return i?Object.keys(i).map((t=>t.split("/")[1])):[]}function gA(t){const e=uA(t);oA(e);const r=[];return Object.values(e.att).forEach((t=>{Object.values(t).forEach((t=>{var e;null!=(e=t?.[0])&&e.chains&&r.push(t[0].chains)}))})),[...new Set(r.flat())]}function mA(t){if(!t)return;const e=t?.[t.length-1];return cA(e)?e:void 0}const vA="base16",yA="utf8",wA=1;function bA(t){return fm((0,S.tW)(um(t,vA)),vA)}function AA(t){return fm((0,S.tW)(um(t,yA)),vA)}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function EA(t){const e=[];return t.forEach((t=>{const[r,i]=t.split(":");e.push(`${r}:${i}`)})),e}function MA(t,e){e=e.map((t=>t.replace("did:pkh:","")));const r=function(t){const e={};return t?.forEach((t=>{const[r,i]=t.split(":");e[r]||(e[r]={accounts:[],chains:[],events:[]}),e[r].accounts.push(t),e[r].chains.push(`${r}:${i}`)})),e}(e);for(const[i,n]of Object.entries(r))n.methods?n.methods=Sm(n.methods,t):n.methods=t,n.events=["chainChanged","accountsChanged"];return r}const _A={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},SA={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function IA(t,e){const{message:r,code:i}=SA[t];return{message:e?`${r} ${e}`:r,code:i}}function NA(t,e){const{message:r,code:i}=_A[t];return{message:e?`${r} ${e}`:r,code:i}}function xA(t,e){return!!Array.isArray(t)&&(!(typeof e<"u"&&t.length)||t.every(e))}function CA(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function OA(t){return typeof t>"u"}function BA(t,e){return!(!e||!OA(t))||"string"==typeof t&&!!t.trim().length}function PA(t,e){return!(!e||!OA(t))||"number"==typeof t&&!isNaN(t)}function RA(t){return!(!BA(t,!1)||!t.includes(":"))&&2===t.split(":").length}function TA(t){let e=!0;return xA(t)?t.length&&(e=t.every((t=>BA(t,!1)))):e=!1,e}function kA(t,e,r){let i=null;return Object.entries(t).forEach((([t,n])=>{if(i)return;const s=function(t,e,r){let i=null;return xA(e)&&e.length?e.forEach((t=>{i||RA(t)||(i=NA("UNSUPPORTED_CHAINS",`${r}, chain ${t} should be a string and conform to "namespace:chainId" format`))})):RA(t)||(i=NA("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),i}(t,dm(t,n),`${e} ${r}`);s&&(i=s)})),i}function UA(t,e){let r=null;return xA(t)?t.forEach((t=>{r||function(t){if(BA(t,!1)&&t.includes(":")){const e=t.split(":");if(3===e.length){const t=e[0]+":"+e[1];return!!e[2]&&RA(t)}}return!1}(t)||(r=NA("UNSUPPORTED_ACCOUNTS",`${e}, account ${t} should be a string and conform to "namespace:chainId:address" format`))})):r=NA("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function DA(t,e){let r=null;return Object.values(t).forEach((t=>{if(r)return;const i=function(t,e){let r=null;return TA(t?.methods)?TA(t?.events)||(r=NA("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=NA("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}(t,`${e}, namespace`);i&&(r=i)})),r}function FA(t,e){let r=null;if(t&&CA(t)){const i=DA(t,e);i&&(r=i);const n=function(t,e){let r=null;return Object.values(t).forEach((t=>{if(r)return;const i=UA(t?.accounts,`${e} namespace`);i&&(r=i)})),r}(t,e);n&&(r=n)}else r=IA("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function LA(t){return BA(t.protocol,!0)}function qA(t){return typeof t<"u"&&null!==typeof t}function jA(t,e){return!(!RA(e)||!function(t){const e=[];return Object.values(t).forEach((t=>{e.push(...EA(t.accounts))})),e}(t).includes(e))}function zA(t,e,r){return!!BA(r,!1)&&function(t,e){const r=[];return Object.values(t).forEach((t=>{EA(t.accounts).includes(e)&&r.push(...t.methods)})),r}(t,e).includes(r)}function HA(t,e,r){return!!BA(r,!1)&&function(t,e){const r=[];return Object.values(t).forEach((t=>{EA(t.accounts).includes(e)&&r.push(...t.events)})),r}(t,e).includes(r)}function KA(t,e,r){let i=null;const n=function(t){const e={};return Object.keys(t).forEach((r=>{var i;r.includes(":")?e[r]=t[r]:null==(i=t[r].chains)||i.forEach((i=>{e[i]={methods:t[r].methods,events:t[r].events}}))})),e}(t),s=function(t){const e={};return Object.keys(t).forEach((r=>{if(r.includes(":"))e[r]=t[r];else{const i=EA(t[r].accounts);i?.forEach((i=>{e[i]={accounts:t[r].accounts.filter((t=>t.includes(`${i}:`))),methods:t[r].methods,events:t[r].events}}))}})),e}(e),o=Object.keys(n),a=Object.keys(s),h=QA(Object.keys(t)),u=QA(Object.keys(e)),f=h.filter((t=>!u.includes(t)));return f.length&&(i=IA("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${f.toString()}\n      Received: ${Object.keys(e).toString()}`)),bm(o,a)||(i=IA("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.\n      Required: ${o.toString()}\n      Approved: ${a.toString()}`)),Object.keys(e).forEach((t=>{if(!t.includes(":")||i)return;const n=EA(e[t].accounts);n.includes(t)||(i=IA("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${t}\n        Required: ${t}\n        Approved: ${n.toString()}`))})),o.forEach((t=>{i||(bm(n[t].methods,s[t].methods)?bm(n[t].events,s[t].events)||(i=IA("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${t}`)):i=IA("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${t}`))})),i}function QA(t){return[...new Set(t.map((t=>t.includes(":")?t.split(":")[0]:t)))]}const GA={};class YA{static get(t){return GA[t]}static set(t,e){GA[t]=e}static delete(t){delete GA[t]}}const JA="client",WA=`wc@2:${JA}:`,VA=JA,XA="error",ZA="WALLETCONNECT_DEEPLINK_CHOICE",$A="Proposal expired",tE=w.SEVEN_DAYS,eE={wc_sessionPropose:{req:{ttl:w.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:w.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:w.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:w.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:w.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:w.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:w.ONE_DAY,prompt:!1,tag:1104},res:{ttl:w.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:w.ONE_DAY,prompt:!1,tag:1106},res:{ttl:w.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:w.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:w.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:w.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:w.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:w.ONE_DAY,prompt:!1,tag:1112},res:{ttl:w.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:w.ONE_DAY,prompt:!1,tag:1114},res:{ttl:w.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:w.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:w.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:w.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:w.FIVE_MINUTES,prompt:!1,tag:1119}}},rE={min:w.FIVE_MINUTES,max:w.SEVEN_DAYS},iE="IDLE",nE="ACTIVE",sE=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],oE="wc@1.5:auth:",aE=`${oE}:PUB_KEY`;var hE=Object.defineProperty,uE=Object.defineProperties,fE=Object.getOwnPropertyDescriptors,cE=Object.getOwnPropertySymbols,lE=Object.prototype.hasOwnProperty,dE=Object.prototype.propertyIsEnumerable,pE=(t,e,r)=>e in t?hE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gE=(t,e)=>{for(var r in e||(e={}))lE.call(e,r)&&pE(t,r,e[r]);if(cE)for(var r of cE(e))dE.call(e,r)&&pE(t,r,e[r]);return t},mE=(t,e)=>uE(t,fE(e));class vE extends Ao{constructor(t){super(t),this.name="engine",this.events=new(y()),this.initialized=!1,this.requestQueue={state:iE,queue:[]},this.sessionRequestQueue={state:iE,queue:[]},this.requestQueueDelay=w.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.relayMessageCache=[],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(eE)}),this.initialized=!0,setTimeout((()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()}),(0,w.toMiliseconds)(this.requestQueueDelay)))},this.connect=async t=>{await this.isInitialized();const e=mE(gE({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(e);const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:n,sessionProperties:s,relays:o}=e;let a,h=r,u=!1;try{h&&(u=this.client.core.pairing.pairings.get(h).active)}catch(y){throw this.client.logger.error(`connect() -> pairing.get(${h}) failed`),y}if(!h||!u){const{topic:t,uri:e}=await this.client.core.pairing.create();h=t,a=e}if(!h){const{message:t}=IA("NO_MATCHING_KEY",`connect() pairing topic: ${h}`);throw new Error(t)}const f=await this.client.core.crypto.generateKeyPair(),c=eE.wc_sessionPropose.req.ttl||w.FIVE_MINUTES,l=Em(c),d=gE({requiredNamespaces:i,optionalNamespaces:n,relays:o??[{protocol:"irn"}],proposer:{publicKey:f,metadata:this.client.metadata},expiryTimestamp:l,pairingTopic:h},s&&{sessionProperties:s}),{reject:p,resolve:g,done:m}=Am(c,$A);this.events.once(_m("session_connect"),(async({error:t,session:e})=>{if(t)p(t);else if(e){e.self.publicKey=f;const t=mE(gE({},e),{pairingTopic:d.pairingTopic,requiredNamespaces:d.requiredNamespaces,optionalNamespaces:d.optionalNamespaces});await this.client.session.set(e.topic,t),await this.setExpiry(e.topic,e.expiry),h&&await this.client.core.pairing.updateMetadata({topic:h,metadata:e.peer.metadata}),this.cleanupDuplicatePairings(t),g(t)}}));const v=await this.sendRequest({topic:h,method:"wc_sessionPropose",params:d,throwOnFailedPublish:!0});return await this.setProposal(v,gE({id:v},d)),{uri:a,approval:m}},this.pair=async t=>{await this.isInitialized();try{return await this.client.core.pairing.pair(t)}catch(e){throw this.client.logger.error("pair() failed"),e}},this.approve=async t=>{await this.isInitialized();try{await this.isValidApprove(t)}catch(m){throw this.client.logger.error("approve() -> isValidApprove() failed"),m}const{id:e,relayProtocol:r,namespaces:i,sessionProperties:n,sessionConfig:s}=t;let o;try{o=this.client.proposal.get(e)}catch(m){throw this.client.logger.error(`approve() -> proposal.get(${e}) failed`),m}const{pairingTopic:a,proposer:h,requiredNamespaces:u,optionalNamespaces:f}=o,c=await this.client.core.crypto.generateKeyPair(),l=h.publicKey,d=await this.client.core.crypto.generateSharedKey(c,l),p=gE(gE({relay:{protocol:r??"irn"},namespaces:i,controller:{publicKey:c,metadata:this.client.metadata},expiry:Em(tE)},n&&{sessionProperties:n}),s&&{sessionConfig:s});await this.client.core.relayer.subscribe(d);const g=mE(gE({},p),{topic:d,requiredNamespaces:u,optionalNamespaces:f,pairingTopic:a,acknowledged:!1,self:p.controller,peer:{publicKey:h.publicKey,metadata:h.metadata},controller:c});await this.client.session.set(d,g);try{await this.sendRequest({topic:d,method:"wc_sessionSettle",params:p,throwOnFailedPublish:!0}),await this.sendResult({id:e,topic:a,result:{relay:{protocol:r??"irn"},responderPublicKey:c},throwOnFailedPublish:!0})}catch(m){throw this.client.logger.error(m),this.client.session.delete(d,NA("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(d),m}return await this.client.core.pairing.updateMetadata({topic:a,metadata:h.metadata}),await this.client.proposal.delete(e,NA("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:a}),await this.setExpiry(d,Em(tE)),{topic:d,acknowledged:()=>Promise.resolve(this.client.session.get(d))}},this.reject=async t=>{await this.isInitialized();try{await this.isValidReject(t)}catch(n){throw this.client.logger.error("reject() -> isValidReject() failed"),n}const{id:e,reason:r}=t;let i;try{i=this.client.proposal.get(e).pairingTopic}catch(n){throw this.client.logger.error(`reject() -> proposal.get(${e}) failed`),n}i&&(await this.sendError({id:e,topic:i,error:r,rpcOpts:eE.wc_sessionPropose.reject}),await this.client.proposal.delete(e,NA("USER_DISCONNECTED")))},this.update=async t=>{await this.isInitialized();try{await this.isValidUpdate(t)}catch(u){throw this.client.logger.error("update() -> isValidUpdate() failed"),u}const{topic:e,namespaces:r}=t,{done:i,resolve:n,reject:s}=Am(),o=Tl(),a=kl().toString(),h=this.client.session.get(e).namespaces;return this.events.once(_m("session_update",o),(({error:t})=>{t?s(t):n()})),await this.client.session.update(e,{namespaces:r}),await this.sendRequest({topic:e,method:"wc_sessionUpdate",params:{namespaces:r},throwOnFailedPublish:!0,clientRpcId:o,relayRpcId:a}).catch((t=>{this.client.logger.error(t),this.client.session.update(e,{namespaces:h}),s(t)})),{acknowledged:i}},this.extend=async t=>{await this.isInitialized();try{await this.isValidExtend(t)}catch(o){throw this.client.logger.error("extend() -> isValidExtend() failed"),o}const{topic:e}=t,r=Tl(),{done:i,resolve:n,reject:s}=Am();return this.events.once(_m("session_extend",r),(({error:t})=>{t?s(t):n()})),await this.setExpiry(e,Em(tE)),this.sendRequest({topic:e,method:"wc_sessionExtend",params:{},clientRpcId:r,throwOnFailedPublish:!0}).catch((t=>{s(t)})),{acknowledged:i}},this.request=async t=>{await this.isInitialized();try{await this.isValidRequest(t)}catch(l){throw this.client.logger.error("request() -> isValidRequest() failed"),l}const{chainId:e,request:i,topic:n,expiry:s=eE.wc_sessionRequest.req.ttl}=t,o=this.client.session.get(n),a=Tl(),h=kl().toString(),{done:u,resolve:f,reject:c}=Am(s,"Request expired. Please try again.");return this.events.once(_m("session_request",a),(({error:t,result:e})=>{t?c(t):f(e)})),await Promise.all([new Promise((async t=>{await this.sendRequest({clientRpcId:a,relayRpcId:h,topic:n,method:"wc_sessionRequest",params:{request:mE(gE({},i),{expiryTimestamp:Em(s)}),chainId:e},expiry:s,throwOnFailedPublish:!0}).catch((t=>c(t))),this.client.events.emit("session_request_sent",{topic:n,request:i,chainId:e,id:a}),t()})),new Promise((async t=>{var e;if(null==(e=o.sessionConfig)||!e.disableDeepLink){const t=await async function(t,e){try{return await t.getItem(e)||(ym()?localStorage.getItem(e):void 0)}catch(s){console.error(s)}}(this.client.core.storage,ZA);!async function({id:t,topic:e,wcDeepLink:i}){try{if(!i)return;const n="string"==typeof i?JSON.parse(i):i;let s=n?.href;if("string"!=typeof s)return;s.endsWith("/")&&(s=s.slice(0,-1));const o=`${s}/wc?requestId=${t}&sessionTopic=${e}`,a=wm();a===gm.browser?o.startsWith("https://")||o.startsWith("http://")?window.open(o,"_blank","noreferrer noopener"):window.open(o,"_self","noreferrer noopener"):a===gm.reactNative&&typeof(null==r.g?void 0:r.g.Linking)<"u"&&await r.g.Linking.openURL(o)}catch(n){console.error(n)}}({id:a,topic:n,wcDeepLink:t})}t()})),u()]).then((t=>t[2]))},this.respond=async t=>{await this.isInitialized(),await this.isValidRespond(t);const{topic:e,response:r}=t,{id:i}=r;Wl(r)?await this.sendResult({id:i,topic:e,result:r.result,throwOnFailedPublish:!0}):Vl(r)&&await this.sendError({id:i,topic:e,error:r.error}),this.cleanupAfterResponse(t)},this.ping=async t=>{await this.isInitialized();try{await this.isValidPing(t)}catch(Fs){throw this.client.logger.error("ping() -> isValidPing() failed"),Fs}const{topic:e}=t;if(this.client.session.keys.includes(e)){const t=Tl(),r=kl().toString(),{done:i,resolve:n,reject:s}=Am();this.events.once(_m("session_ping",t),(({error:t})=>{t?s(t):n()})),await Promise.all([this.sendRequest({topic:e,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:t,relayRpcId:r}),i()])}else this.client.core.pairing.pairings.keys.includes(e)&&await this.client.core.pairing.ping({topic:e})},this.emit=async t=>{await this.isInitialized(),await this.isValidEmit(t);const{topic:e,event:r,chainId:i}=t,n=kl().toString();await this.sendRequest({topic:e,method:"wc_sessionEvent",params:{event:r,chainId:i},throwOnFailedPublish:!0,relayRpcId:n})},this.disconnect=async t=>{await this.isInitialized(),await this.isValidDisconnect(t);const{topic:e}=t;if(this.client.session.keys.includes(e))await this.sendRequest({topic:e,method:"wc_sessionDelete",params:NA("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:e,emitEvent:!1});else{if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=IA("MISMATCHED_TOPIC",`Session or pairing topic not found: ${e}`);throw new Error(t)}await this.client.core.pairing.disconnect({topic:e})}},this.find=t=>(this.isInitialized(),this.client.session.getAll().filter((e=>function(t,e){const{requiredNamespaces:r}=e,i=Object.keys(t.namespaces),n=Object.keys(r);let s=!0;return!!bm(n,i)&&(i.forEach((e=>{const{accounts:i,methods:n,events:o}=t.namespaces[e],a=EA(i),h=r[e];(!bm(dm(e,h),a)||!bm(h.methods,n)||!bm(h.events,o))&&(s=!1)})),s)}(e,t)))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async t=>{this.isInitialized(),this.isValidAuthenticate(t);const{chains:e,statement:r="",uri:i,domain:n,nonce:s,type:o,exp:a,nbf:h,methods:u=[],expiry:f}=t,c=[...t.resources||[]],{topic:l,uri:d}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"]});this.client.logger.info({message:"Generated new pairing",pairing:{topic:l,uri:d}});const p=await this.client.core.crypto.generateKeyPair(),g=bA(p);if(await Promise.all([this.client.auth.authKeys.set(aE,{responseTopic:g,publicKey:p}),this.client.auth.pairingTopics.set(g,{topic:g,pairingTopic:l})]),await this.client.core.relayer.subscribe(g),this.client.logger.info(`sending request to new pairing topic: ${l}`),u.length>0){const{namespace:t}=lm(e[0]);let r=fA(t,"request",u);mA(c)&&(r=lA(r,c.pop())),c.push(r)}const m=f&&f>eE.wc_sessionAuthenticate.req.ttl?f:eE.wc_sessionAuthenticate.req.ttl,v={authPayload:{type:o??"caip122",chains:e,statement:r,aud:i,domain:n,version:"1",nonce:s,iat:(new Date).toISOString(),exp:a,nbf:h,resources:c},requester:{publicKey:p,metadata:this.client.metadata},expiryTimestamp:Em(m)},y={requiredNamespaces:{},optionalNamespaces:{eip155:{chains:e,methods:[...new Set(["personal_sign",...u])],events:["chainChanged","accountsChanged"]}},relays:[{protocol:"irn"}],pairingTopic:l,proposer:{publicKey:p,metadata:this.client.metadata},expiryTimestamp:Em(eE.wc_sessionPropose.req.ttl)},{done:w,resolve:b,reject:A}=Am(m,"Request expired"),E=async({error:t,session:e})=>{if(this.events.off(_m("session_request",_),M),t)A(t);else if(e){e.self.publicKey=p,await this.client.session.set(e.topic,e),await this.setExpiry(e.topic,e.expiry),l&&await this.client.core.pairing.updateMetadata({topic:l,metadata:e.peer.metadata});const t=this.client.session.get(e.topic);await this.deleteProposal(S),b({session:t})}},M=async t=>{if(await this.deletePendingAuthRequest(_,{message:"fulfilled",code:0}),t.error){const e=NA("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return t.error.code===e.code?void 0:(this.events.off(_m("session_connect"),E),A(t.error.message))}await this.deleteProposal(S),this.events.off(_m("session_connect"),E);const{cacaos:e,responder:r}=t.result,i=[],n=[];for(const a of e){await nA({cacao:a,projectId:this.client.core.projectId})||(this.client.logger.error(a,"Signature verification failed"),A(NA("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:t}=a,e=mA(t.resources),r=[rA(t.iss)],s=iA(t.iss);if(e){const t=pA(e),n=gA(e);i.push(...t),r.push(...n)}for(const i of r)n.push(`${i}:${s}`)}const s=await this.client.core.crypto.generateSharedKey(p,r.publicKey);let o;i.length>0&&(o={topic:s,acknowledged:!0,self:{publicKey:p,metadata:this.client.metadata},peer:r,controller:r.publicKey,expiry:Em(tE),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:l,namespaces:MA([...new Set(i)],[...new Set(n)])},await this.client.core.relayer.subscribe(s),await this.client.session.set(s,o),l&&await this.client.core.pairing.updateMetadata({topic:l,metadata:r.metadata}),o=this.client.session.get(s)),b({auths:e,session:o})},_=Tl(),S=Tl();this.events.once(_m("session_connect"),E),this.events.once(_m("session_request",_),M);try{await Promise.all([this.sendRequest({topic:l,method:"wc_sessionAuthenticate",params:v,expiry:t.expiry,throwOnFailedPublish:!0,clientRpcId:_}),this.sendRequest({topic:l,method:"wc_sessionPropose",params:y,expiry:eE.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:S})])}catch(ho){throw this.events.off(_m("session_connect"),E),this.events.off(_m("session_request",_),M),ho}return await this.setProposal(S,gE({id:S},y)),await this.setAuthRequest(_,{request:mE(gE({},v),{verifyContext:{}}),pairingTopic:l}),{uri:d,response:w}},this.approveSessionAuthenticate=async t=>{this.isInitialized();const{id:e,auths:r}=t,i=this.getPendingAuthRequest(e);if(!i)throw new Error(`Could not find pending auth request with id ${e}`);const n=i.requester.publicKey,s=await this.client.core.crypto.generateKeyPair(),o=bA(n),a={type:wA,receiverPublicKey:n,senderPublicKey:s},h=[],u=[];for(const l of r){if(!await nA({cacao:l,projectId:this.client.core.projectId})){const t=NA("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:e,topic:o,error:t,encodeOpts:a}),new Error(t.message)}const{p:t}=l,r=mA(t.resources),i=[rA(t.iss)],n=iA(t.iss);if(r){const t=pA(r),e=gA(r);h.push(...t),i.push(...e)}for(const e of i)u.push(`${e}:${n}`)}const f=await this.client.core.crypto.generateSharedKey(s,n);let c;return h?.length>0&&(c={topic:f,acknowledged:!0,self:{publicKey:s,metadata:this.client.metadata},peer:{publicKey:n,metadata:i.requester.metadata},controller:n,expiry:Em(tE),authentication:r,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:i.pairingTopic,namespaces:MA([...new Set(h)],[...new Set(u)])},await this.client.core.relayer.subscribe(f),await this.client.session.set(f,c),await this.client.core.pairing.updateMetadata({topic:i.pairingTopic,metadata:i.requester.metadata})),await this.sendResult({topic:o,id:e,result:{cacaos:r,responder:{publicKey:s,metadata:this.client.metadata}},encodeOpts:a,throwOnFailedPublish:!0}),await this.client.auth.requests.delete(e,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:i.pairingTopic}),{session:c}},this.rejectSessionAuthenticate=async t=>{await this.isInitialized();const{id:e,reason:r}=t,i=this.getPendingAuthRequest(e);if(!i)throw new Error(`Could not find pending auth request with id ${e}`);const n=i.requester.publicKey,s=await this.client.core.crypto.generateKeyPair(),o=bA(n),a={type:wA,receiverPublicKey:n,senderPublicKey:s};await this.sendError({id:e,topic:o,error:r,encodeOpts:a,rpcOpts:eE.wc_sessionAuthenticate.reject}),await this.client.auth.requests.delete(e,{message:"rejected",code:0}),await this.client.proposal.delete(e,NA("USER_DISCONNECTED"))},this.formatAuthMessage=t=>{this.isInitialized();const{request:e,iss:r}=t;return sA(e,r)},this.processRelayMessageCache=()=>{setTimeout((async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{const t=this.relayMessageCache.shift();t&&await this.onRelayMessage(t)}catch(t){this.client.logger.error(t)}}),50)},this.cleanupDuplicatePairings=async t=>{if(t.pairingTopic)try{const e=this.client.core.pairing.pairings.get(t.pairingTopic),r=this.client.core.pairing.pairings.getAll().filter((r=>{var i,n;return(null==(i=r.peerMetadata)?void 0:i.url)&&(null==(n=r.peerMetadata)?void 0:n.url)===t.peer.metadata.url&&r.topic&&r.topic!==e.topic}));if(0===r.length)return;this.client.logger.info(`Cleaning up ${r.length} duplicate pairing(s)`),await Promise.all(r.map((t=>this.client.core.pairing.disconnect({topic:t.topic})))),this.client.logger.info("Duplicate pairings clean up finished")}catch(e){this.client.logger.error(e)}},this.deleteSession=async t=>{var e;const{topic:r,expirerHasDeleted:i=!1,emitEvent:n=!0,id:s=0}=t,{self:o}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),await this.client.session.delete(r,NA("USER_DISCONNECTED")),this.addToRecentlyDeleted(r,"session"),this.client.core.crypto.keychain.has(o.publicKey)&&await this.client.core.crypto.deleteKeyPair(o.publicKey),this.client.core.crypto.keychain.has(r)&&await this.client.core.crypto.deleteSymKey(r),i||this.client.core.expirer.del(r),this.client.core.storage.removeItem(ZA).catch((t=>this.client.logger.warn(t))),this.getPendingSessionRequests().forEach((t=>{t.topic===r&&this.deletePendingSessionRequest(t.id,NA("USER_DISCONNECTED"))})),r===(null==(e=this.sessionRequestQueue.queue[0])?void 0:e.topic)&&(this.sessionRequestQueue.state=iE),n&&this.client.events.emit("session_delete",{id:s,topic:r})},this.deleteProposal=async(t,e)=>{await Promise.all([this.client.proposal.delete(t,NA("USER_DISCONNECTED")),e?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,"proposal")},this.deletePendingSessionRequest=async(t,e,r=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,e),r?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter((e=>e.id!==t)),r&&(this.sessionRequestQueue.state=iE,this.client.events.emit("session_request_expire",{id:t}))},this.deletePendingAuthRequest=async(t,e,r=!1)=>{await Promise.all([this.client.auth.requests.delete(t,e),r?Promise.resolve():this.client.core.expirer.del(t)])},this.setExpiry=async(t,e)=>{this.client.session.keys.includes(t)&&(this.client.core.expirer.set(t,e),await this.client.session.update(t,{expiry:e}))},this.setProposal=async(t,e)=>{this.client.core.expirer.set(t,Em(eE.wc_sessionPropose.req.ttl)),await this.client.proposal.set(t,e)},this.setAuthRequest=async(t,e)=>{const{request:r,pairingTopic:i}=e;this.client.core.expirer.set(t,r.expiryTimestamp),await this.client.auth.requests.set(t,{authPayload:r.authPayload,requester:r.requester,expiryTimestamp:r.expiryTimestamp,id:t,pairingTopic:i,verifyContext:r.verifyContext})},this.setPendingSessionRequest=async t=>{const{id:e,topic:r,params:i,verifyContext:n}=t,s=i.request.expiryTimestamp||Em(eE.wc_sessionRequest.req.ttl);this.client.core.expirer.set(e,s),await this.client.pendingRequest.set(e,{id:e,topic:r,params:i,verifyContext:n})},this.sendRequest=async t=>{const{topic:e,method:r,params:i,expiry:n,relayRpcId:s,clientRpcId:o,throwOnFailedPublish:a}=t,h=Ul(r,i,o);if(ym()&&sE.includes(r)){const t=AA(JSON.stringify(h));this.client.core.verify.register({attestationId:t})}let u;try{u=await this.client.core.crypto.encode(e,h)}catch(c){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${e} failed`),c}const f=eE[r].req;return n&&(f.ttl=n),s&&(f.id=s),this.client.core.history.set(e,h),a?(f.internal=mE(gE({},f.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(e,u,f)):this.client.core.relayer.publish(e,u,f).catch((t=>this.client.logger.error(t))),h.id},this.sendResult=async t=>{const{id:e,topic:r,result:i,throwOnFailedPublish:n,encodeOpts:s}=t,o=Dl(e,i);let a,h;try{a=await this.client.core.crypto.encode(r,o,s)}catch(f){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${r} failed`),f}try{h=await this.client.core.history.get(r,e)}catch(f){throw this.client.logger.error(`sendResult() -> history.get(${r}, ${e}) failed`),f}const u=eE[h.request.method].res;n?(u.internal=mE(gE({},u.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,a,u)):this.client.core.relayer.publish(r,a,u).catch((t=>this.client.logger.error(t))),await this.client.core.history.resolve(o)},this.sendError=async t=>{const{id:e,topic:r,error:i,encodeOpts:n,rpcOpts:s}=t,o=Fl(e,i);let a,h;try{a=await this.client.core.crypto.encode(r,o,n)}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${r} failed`),f}try{h=await this.client.core.history.get(r,e)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${r}, ${e}) failed`),f}const u=s||eE[h.request.method].res;this.client.core.relayer.publish(r,a,u),await this.client.core.history.resolve(o)},this.cleanup=async()=>{const t=[],e=[];this.client.session.getAll().forEach((e=>{let r=!1;Mm(e.expiry)&&(r=!0),this.client.core.crypto.keychain.has(e.topic)||(r=!0),r&&t.push(e.topic)})),this.client.proposal.getAll().forEach((t=>{Mm(t.expiryTimestamp)&&e.push(t.id)})),await Promise.all([...t.map((t=>this.deleteSession({topic:t}))),...e.map((t=>this.deleteProposal(t)))])},this.onRelayEventRequest=async t=>{this.requestQueue.queue.push(t),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state!==nE){for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=nE;const e=this.requestQueue.queue.shift();if(e)try{await this.processRequest(e)}catch(t){this.client.logger.warn(t)}}this.requestQueue.state=iE}else this.client.logger.info("Request queue already active, skipping...")},this.processRequest=async t=>{const{topic:e,payload:r}=t,i=r.method;if(!this.shouldIgnorePairingRequest({topic:e,requestMethod:i}))switch(i){case"wc_sessionPropose":return await this.onSessionProposeRequest(e,r);case"wc_sessionSettle":return await this.onSessionSettleRequest(e,r);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(e,r);case"wc_sessionExtend":return await this.onSessionExtendRequest(e,r);case"wc_sessionPing":return await this.onSessionPingRequest(e,r);case"wc_sessionDelete":return await this.onSessionDeleteRequest(e,r);case"wc_sessionRequest":return await this.onSessionRequest(e,r);case"wc_sessionEvent":return await this.onSessionEventRequest(e,r);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest(e,r);default:return this.client.logger.info(`Unsupported request method ${i}`)}},this.onRelayEventResponse=async t=>{const{topic:e,payload:r}=t,i=(await this.client.core.history.get(e,r.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(e,r);case"wc_sessionSettle":return this.onSessionSettleResponse(e,r);case"wc_sessionUpdate":return this.onSessionUpdateResponse(e,r);case"wc_sessionExtend":return this.onSessionExtendResponse(e,r);case"wc_sessionPing":return this.onSessionPingResponse(e,r);case"wc_sessionRequest":return this.onSessionRequestResponse(e,r);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(e,r);default:return this.client.logger.info(`Unsupported response method ${i}`)}},this.onRelayEventUnknownPayload=t=>{const{topic:e}=t,{message:r}=IA("MISSING_OR_INVALID",`Decoded payload on topic ${e} is not identifiable as a JSON-RPC request or a response.`);throw new Error(r)},this.shouldIgnorePairingRequest=t=>{const{topic:e,requestMethod:r}=t,i=this.expectedPairingMethodMap.get(e);return!(!i||i.includes(r))&&!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)},this.onSessionProposeRequest=async(t,e)=>{const{params:r,id:i}=e;try{this.isValidConnect(gE({},e.params));const n=r.expiryTimestamp||Em(eE.wc_sessionPropose.req.ttl),s=gE({id:i,pairingTopic:t,expiryTimestamp:n},r);await this.setProposal(i,s);const o=AA(JSON.stringify(e)),a=await this.getVerifyContext(o,s.proposer.metadata);this.client.events.emit("session_proposal",{id:i,params:s,verifyContext:a})}catch(n){await this.sendError({id:i,topic:t,error:n,rpcOpts:eE.wc_sessionPropose.autoReject}),this.client.logger.error(n)}},this.onSessionProposeResponse=async(t,e)=>{const{id:r}=e;if(Wl(e)){const{result:i}=e;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});const n=this.client.proposal.get(r);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:n});const s=n.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:s});const o=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:o});const a=await this.client.core.crypto.generateSharedKey(s,o);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:a});const h=await this.client.core.relayer.subscribe(a);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:h}),await this.client.core.pairing.activate({topic:t})}else if(Vl(e)){await this.client.proposal.delete(r,NA("USER_DISCONNECTED"));const t=_m("session_connect");if(0===this.events.listenerCount(t))throw new Error(`emitting ${t} without any listeners, 954`);this.events.emit(_m("session_connect"),{error:e.error})}},this.onSessionSettleRequest=async(t,e)=>{const{id:r,params:i}=e;try{this.isValidSessionSettleRequest(i);const{relay:r,controller:n,expiry:s,namespaces:o,sessionProperties:a,sessionConfig:h}=e.params,u=gE(gE({topic:t,relay:r,expiry:s,namespaces:o,acknowledged:!0,pairingTopic:"",requiredNamespaces:{},optionalNamespaces:{},controller:n.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:n.publicKey,metadata:n.metadata}},a&&{sessionProperties:a}),h&&{sessionConfig:h}),f=_m("session_connect");if(0===this.events.listenerCount(f))throw new Error(`emitting ${f} without any listeners 997`);this.events.emit(_m("session_connect"),{session:u}),await this.sendResult({id:e.id,topic:t,result:!0,throwOnFailedPublish:!0})}catch(n){await this.sendError({id:r,topic:t,error:n}),this.client.logger.error(n)}},this.onSessionSettleResponse=async(t,e)=>{const{id:r}=e;Wl(e)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit(_m("session_approve",r),{})):Vl(e)&&(await this.client.session.delete(t,NA("USER_DISCONNECTED")),this.events.emit(_m("session_approve",r),{error:e.error}))},this.onSessionUpdateRequest=async(t,e)=>{const{params:r,id:i}=e;try{const e=`${t}_session_update`,s=YA.get(e);if(s&&this.isRequestOutOfSync(s,i))return this.client.logger.info(`Discarding out of sync request - ${i}`),void this.sendError({id:i,topic:t,error:NA("INVALID_UPDATE_REQUEST")});this.isValidUpdate(gE({topic:t},r));try{YA.set(e,i),await this.client.session.update(t,{namespaces:r.namespaces}),await this.sendResult({id:i,topic:t,result:!0,throwOnFailedPublish:!0})}catch(n){throw YA.delete(e),n}this.client.events.emit("session_update",{id:i,topic:t,params:r})}catch(s){await this.sendError({id:i,topic:t,error:s}),this.client.logger.error(s)}},this.isRequestOutOfSync=(t,e)=>parseInt(e.toString().slice(0,-3))<=parseInt(t.toString().slice(0,-3)),this.onSessionUpdateResponse=(t,e)=>{const{id:r}=e,i=_m("session_update",r);if(0===this.events.listenerCount(i))throw new Error(`emitting ${i} without any listeners`);Wl(e)?this.events.emit(_m("session_update",r),{}):Vl(e)&&this.events.emit(_m("session_update",r),{error:e.error})},this.onSessionExtendRequest=async(t,e)=>{const{id:r}=e;try{this.isValidExtend({topic:t}),await this.setExpiry(t,Em(tE)),await this.sendResult({id:r,topic:t,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:r,topic:t})}catch(io){await this.sendError({id:r,topic:t,error:io}),this.client.logger.error(io)}},this.onSessionExtendResponse=(t,e)=>{const{id:r}=e,i=_m("session_extend",r);if(0===this.events.listenerCount(i))throw new Error(`emitting ${i} without any listeners`);Wl(e)?this.events.emit(_m("session_extend",r),{}):Vl(e)&&this.events.emit(_m("session_extend",r),{error:e.error})},this.onSessionPingRequest=async(t,e)=>{const{id:r}=e;try{this.isValidPing({topic:t}),await this.sendResult({id:r,topic:t,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:r,topic:t})}catch(io){await this.sendError({id:r,topic:t,error:io}),this.client.logger.error(io)}},this.onSessionPingResponse=(t,e)=>{const{id:r}=e,i=_m("session_ping",r);if(0===this.events.listenerCount(i))throw new Error(`emitting ${i} without any listeners`);setTimeout((()=>{Wl(e)?this.events.emit(_m("session_ping",r),{}):Vl(e)&&this.events.emit(_m("session_ping",r),{error:e.error})}),500)},this.onSessionDeleteRequest=async(t,e)=>{const{id:r}=e;try{this.isValidDisconnect({topic:t,reason:e.params}),await Promise.all([new Promise((e=>{this.client.core.relayer.once(Qp,(async()=>{e(await this.deleteSession({topic:t,id:r}))}))})),this.sendResult({id:r,topic:t,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:t,error:NA("USER_DISCONNECTED")})])}catch(io){this.client.logger.error(io)}},this.onSessionRequest=async(t,e)=>{var r;const{id:i,params:n}=e;try{await this.isValidRequest(gE({topic:t},n));const e=AA(JSON.stringify(Ul("wc_sessionRequest",n,i))),s=this.client.session.get(t),o={id:i,topic:t,params:n,verifyContext:await this.getVerifyContext(e,s.peer.metadata)};await this.setPendingSessionRequest(o),null!=(r=this.client.signConfig)&&r.disableRequestQueue?this.emitSessionRequest(o):(this.addSessionRequestToSessionRequestQueue(o),this.processSessionRequestQueue())}catch(s){await this.sendError({id:i,topic:t,error:s}),this.client.logger.error(s)}},this.onSessionRequestResponse=(t,e)=>{const{id:r}=e,i=_m("session_request",r);if(0===this.events.listenerCount(i))throw new Error(`emitting ${i} without any listeners`);Wl(e)?this.events.emit(_m("session_request",r),{result:e.result}):Vl(e)&&this.events.emit(_m("session_request",r),{error:e.error})},this.onSessionEventRequest=async(t,e)=>{const{id:r,params:i}=e;try{const e=`${t}_session_event_${i.event.name}`,n=YA.get(e);if(n&&this.isRequestOutOfSync(n,r))return void this.client.logger.info(`Discarding out of sync request - ${r}`);this.isValidEmit(gE({topic:t},i)),this.client.events.emit("session_event",{id:r,topic:t,params:i}),YA.set(e,r)}catch(n){await this.sendError({id:r,topic:t,error:n}),this.client.logger.error(n)}},this.onSessionAuthenticateResponse=(t,e)=>{const{id:r}=e;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:t,payload:e}),Wl(e)?this.events.emit(_m("session_request",r),{result:e.result}):Vl(e)&&this.events.emit(_m("session_request",r),{error:e.error})},this.onSessionAuthenticateRequest=async(t,e)=>{try{const{requester:r,authPayload:i,expiryTimestamp:n}=e.params,s=AA(JSON.stringify(e)),o=await this.getVerifyContext(s,this.client.metadata),a={requester:r,pairingTopic:t,id:e.id,authPayload:i,verifyContext:o,expiryTimestamp:n};await this.setAuthRequest(e.id,{request:a,pairingTopic:t}),this.client.events.emit("session_authenticate",{topic:t,params:e.params,id:e.id,verifyContext:o})}catch(Fs){this.client.logger.error(Fs);const i=e.params.requester.publicKey,n=await this.client.core.crypto.generateKeyPair(),s={type:wA,receiverPublicKey:i,senderPublicKey:n};await this.sendError({id:e.id,topic:t,error:Fs,encodeOpts:s,rpcOpts:eE.wc_sessionAuthenticate.autoReject})}},this.addSessionRequestToSessionRequestQueue=t=>{this.sessionRequestQueue.queue.push(t)},this.cleanupAfterResponse=t=>{this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0}),setTimeout((()=>{this.sessionRequestQueue.state=iE,this.processSessionRequestQueue()}),(0,w.toMiliseconds)(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:t,error:e})=>{const r=this.client.core.history.pending;r.length>0&&r.filter((e=>e.topic===t&&"wc_sessionRequest"===e.request.method)).forEach((t=>{const r=_m("session_request",t.request.id);if(0===this.events.listenerCount(r))throw new Error(`emitting ${r} without any listeners`);this.events.emit(_m("session_request",t.request.id),{error:e})}))},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===nE)return void this.client.logger.info("session request queue is already active.");const t=this.sessionRequestQueue.queue[0];if(t)try{this.sessionRequestQueue.state=nE,this.emitSessionRequest(t)}catch(e){this.client.logger.error(e)}else this.client.logger.info("session request queue is empty.")},this.emitSessionRequest=t=>{this.client.events.emit("session_request",t)},this.onPairingCreated=t=>{if(t.methods&&this.expectedPairingMethodMap.set(t.topic,t.methods),t.active)return;const e=this.client.proposal.getAll().find((e=>e.pairingTopic===t.topic));e&&this.onSessionProposeRequest(t.topic,Ul("wc_sessionPropose",{requiredNamespaces:e.requiredNamespaces,optionalNamespaces:e.optionalNamespaces,relays:e.relays,proposer:e.proposer,sessionProperties:e.sessionProperties},e.id))},this.isValidConnect=async t=>{if(!qA(t)){const{message:e}=IA("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw new Error(e)}const{pairingTopic:e,requiredNamespaces:r,optionalNamespaces:i,sessionProperties:n,relays:s}=t;if(OA(e)||await this.isValidPairingTopic(e),!function(t,e){let r=!1;return e&&!t?r=!0:t&&xA(t)&&t.length&&t.forEach((t=>{r=LA(t)})),r}(s,!0)){const{message:t}=IA("MISSING_OR_INVALID",`connect() relays: ${s}`);throw new Error(t)}!OA(r)&&0!==CA(r)&&this.validateNamespaces(r,"requiredNamespaces"),!OA(i)&&0!==CA(i)&&this.validateNamespaces(i,"optionalNamespaces"),OA(n)||this.validateSessionProps(n,"sessionProperties")},this.validateNamespaces=(t,e)=>{const r=function(t,e,r){let i=null;if(t&&CA(t)){const n=DA(t,e);n&&(i=n);const s=kA(t,e,r);s&&(i=s)}else i=IA("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return i}(t,"connect()",e);if(r)throw new Error(r.message)},this.isValidApprove=async t=>{if(!qA(t))throw new Error(IA("MISSING_OR_INVALID",`approve() params: ${t}`).message);const{id:e,namespaces:r,relayProtocol:i,sessionProperties:n}=t;this.checkRecentlyDeleted(e),await this.isValidProposalId(e);const s=this.client.proposal.get(e),o=FA(r,"approve()");if(o)throw new Error(o.message);const a=KA(s.requiredNamespaces,r,"approve()");if(a)throw new Error(a.message);if(!BA(i,!0)){const{message:t}=IA("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(t)}OA(n)||this.validateSessionProps(n,"sessionProperties")},this.isValidReject=async t=>{if(!qA(t)){const{message:e}=IA("MISSING_OR_INVALID",`reject() params: ${t}`);throw new Error(e)}const{id:e,reason:r}=t;if(this.checkRecentlyDeleted(e),await this.isValidProposalId(e),!function(t){return!(!t||"object"!=typeof t||!t.code||!PA(t.code,!1)||!t.message||!BA(t.message,!1))}(r)){const{message:t}=IA("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(r)}`);throw new Error(t)}},this.isValidSessionSettleRequest=t=>{if(!qA(t)){const{message:e}=IA("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw new Error(e)}const{relay:e,controller:r,namespaces:i,expiry:n}=t;if(!LA(e)){const{message:t}=IA("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(t)}const s=function(t,e){let r=null;return BA(t?.publicKey,!1)||(r=IA("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}(r,"onSessionSettleRequest()");if(s)throw new Error(s.message);const o=FA(i,"onSessionSettleRequest()");if(o)throw new Error(o.message);if(Mm(n)){const{message:t}=IA("EXPIRED","onSessionSettleRequest()");throw new Error(t)}},this.isValidUpdate=async t=>{if(!qA(t)){const{message:e}=IA("MISSING_OR_INVALID",`update() params: ${t}`);throw new Error(e)}const{topic:e,namespaces:r}=t;this.checkRecentlyDeleted(e),await this.isValidSessionTopic(e);const i=this.client.session.get(e),n=FA(r,"update()");if(n)throw new Error(n.message);const s=KA(i.requiredNamespaces,r,"update()");if(s)throw new Error(s.message)},this.isValidExtend=async t=>{if(!qA(t)){const{message:e}=IA("MISSING_OR_INVALID",`extend() params: ${t}`);throw new Error(e)}const{topic:e}=t;this.checkRecentlyDeleted(e),await this.isValidSessionTopic(e)},this.isValidRequest=async t=>{if(!qA(t)){const{message:e}=IA("MISSING_OR_INVALID",`request() params: ${t}`);throw new Error(e)}const{topic:e,request:r,chainId:i,expiry:n}=t;this.checkRecentlyDeleted(e),await this.isValidSessionTopic(e);const{namespaces:s}=this.client.session.get(e);if(!jA(s,i)){const{message:t}=IA("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(t)}if(!function(t){return!(OA(t)||!BA(t.method,!1))}(r)){const{message:t}=IA("MISSING_OR_INVALID",`request() ${JSON.stringify(r)}`);throw new Error(t)}if(!zA(s,i,r.method)){const{message:t}=IA("MISSING_OR_INVALID",`request() method: ${r.method}`);throw new Error(t)}if(n&&!function(t,e){return PA(t,!1)&&t<=e.max&&t>=e.min}(n,rE)){const{message:t}=IA("MISSING_OR_INVALID",`request() expiry: ${n}. Expiry must be a number (in seconds) between ${rE.min} and ${rE.max}`);throw new Error(t)}},this.isValidRespond=async t=>{var e;if(!qA(t)){const{message:e}=IA("MISSING_OR_INVALID",`respond() params: ${t}`);throw new Error(e)}const{topic:r,response:i}=t;try{await this.isValidSessionTopic(r)}catch(n){throw null!=(e=t?.response)&&e.id&&this.cleanupAfterResponse(t),n}if(!function(t){return!(OA(t)||OA(t.result)&&OA(t.error)||!PA(t.id,!1)||!BA(t.jsonrpc,!1))}(i)){const{message:t}=IA("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(t)}},this.isValidPing=async t=>{if(!qA(t)){const{message:e}=IA("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(e)}const{topic:e}=t;await this.isValidSessionOrPairingTopic(e)},this.isValidEmit=async t=>{if(!qA(t)){const{message:e}=IA("MISSING_OR_INVALID",`emit() params: ${t}`);throw new Error(e)}const{topic:e,event:r,chainId:i}=t;await this.isValidSessionTopic(e);const{namespaces:n}=this.client.session.get(e);if(!jA(n,i)){const{message:t}=IA("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(t)}if(!function(t){return!(OA(t)||!BA(t.name,!1))}(r)){const{message:t}=IA("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(r)}`);throw new Error(t)}if(!HA(n,i,r.name)){const{message:t}=IA("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(r)}`);throw new Error(t)}},this.isValidDisconnect=async t=>{if(!qA(t)){const{message:e}=IA("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(e)}const{topic:e}=t;await this.isValidSessionOrPairingTopic(e)},this.isValidAuthenticate=t=>{const{chains:e,uri:r,domain:i,nonce:n}=t;if(!Array.isArray(e)||0===e.length)throw new Error("chains is required and must be a non-empty array");if(!BA(r,!1))throw new Error("uri is required parameter");if(!BA(i,!1))throw new Error("domain is required parameter");if(!BA(n,!1))throw new Error("nonce is required parameter");if([...new Set(e.map((t=>lm(t).namespace)))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:s}=lm(e[0]);if("eip155"!==s)throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async(t,e)=>{const r={verified:{verifyUrl:e.verifyUrl||mg,validation:"UNKNOWN",origin:e.url||""}};try{const i=await this.client.core.verify.resolve({attestationId:t,verifyUrl:e.verifyUrl});i&&(r.verified.origin=i.origin,r.verified.isScam=i.isScam,r.verified.validation=i.origin===new URL(e.url).origin?"VALID":"INVALID")}catch(io){this.client.logger.info(io)}return this.client.logger.info(`Verify context: ${JSON.stringify(r)}`),r},this.validateSessionProps=(t,e)=>{Object.values(t).forEach((t=>{if(!BA(t,!1)){const{message:r}=IA("MISSING_OR_INVALID",`${e} must be in Record<string, string> format. Received: ${JSON.stringify(t)}`);throw new Error(r)}}))},this.getPendingAuthRequest=t=>{const e=this.client.auth.requests.get(t);return"object"==typeof e?e:void 0},this.addToRecentlyDeleted=(t,e)=>{if(this.recentlyDeletedMap.set(t,e),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let t=0;const e=this.recentlyDeletedLimit/2;for(const r of this.recentlyDeletedMap.keys()){if(t++>=e)break;this.recentlyDeletedMap.delete(r)}}},this.checkRecentlyDeleted=t=>{const e=this.recentlyDeletedMap.get(t);if(e){const{message:r}=IA("MISSING_OR_INVALID",`Record was recently deleted - ${e}: ${t}`);throw new Error(r)}}}async isInitialized(){if(!this.initialized){const{message:t}=IA("NOT_INITIALIZED",this.name);throw new Error(t)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Lp,(t=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(t):this.onRelayMessage(t)}))}async onRelayMessage(t){const{topic:e,message:r,attestation:i}=t,{publicKey:n}=this.client.auth.authKeys.keys.includes(aE)?this.client.auth.authKeys.get(aE):{responseTopic:void 0,publicKey:void 0},s=await this.client.core.crypto.decode(e,r,{receiverPublicKey:n});try{Yl(s)?(this.client.core.history.set(e,s),this.onRelayEventRequest({topic:e,payload:s,attestation:i})):Jl(s)?(await this.client.core.history.resolve(s),await this.onRelayEventResponse({topic:e,payload:s}),this.client.core.history.delete(e,s.id)):this.onRelayEventUnknownPayload({topic:e,payload:s})}catch(o){this.client.logger.error(o)}}registerExpirerEvents(){this.client.core.expirer.on(lg,(async t=>{const{topic:e,id:r}=function(t){const[e,r]=t.split(":"),i={id:void 0,topic:void 0};if("topic"===e&&"string"==typeof r)i.topic=r;else{if("id"!==e||!Number.isInteger(Number(r)))throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);i.id=Number(r)}return i}(t.target);return r&&this.client.pendingRequest.keys.includes(r)?await this.deletePendingSessionRequest(r,IA("EXPIRED"),!0):r&&this.client.auth.requests.keys.includes(r)?await this.deletePendingAuthRequest(r,IA("EXPIRED"),!0):void(e?this.client.session.keys.includes(e)&&(await this.deleteSession({topic:e,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:e})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r})))}))}registerPairingEvents(){this.client.core.pairing.events.on(rg,(t=>this.onPairingCreated(t))),this.client.core.pairing.events.on(ng,(t=>{this.addToRecentlyDeleted(t.topic,"pairing")}))}isValidPairingTopic(t){if(!BA(t,!1)){const{message:e}=IA("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(e)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:e}=IA("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(e)}if(Mm(this.client.core.pairing.pairings.get(t).expiry)){const{message:e}=IA("EXPIRED",`pairing topic: ${t}`);throw new Error(e)}}async isValidSessionTopic(t){if(!BA(t,!1)){const{message:e}=IA("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(e)}if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){const{message:e}=IA("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(e)}if(Mm(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});const{message:e}=IA("EXPIRED",`session topic: ${t}`);throw new Error(e)}if(!this.client.core.crypto.keychain.has(t)){const{message:e}=IA("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(e)}}async isValidSessionOrPairingTopic(t){if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else{if(!this.client.core.pairing.pairings.keys.includes(t)){if(BA(t,!1)){const{message:e}=IA("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(e)}{const{message:e}=IA("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(e)}}this.isValidPairingTopic(t)}}async isValidProposalId(t){if(!function(t){return"number"==typeof t}(t)){const{message:e}=IA("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(e)}if(!this.client.proposal.keys.includes(t)){const{message:e}=IA("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(e)}if(Mm(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);const{message:e}=IA("EXPIRED",`proposal id: ${t}`);throw new Error(e)}}}class yE extends Qg{constructor(t,e){super(t,e,"proposal",WA),this.core=t,this.logger=e}}class wE extends Qg{constructor(t,e){super(t,e,"session",WA),this.core=t,this.logger=e}}class bE extends Qg{constructor(t,e){super(t,e,"request",WA,(t=>t.id)),this.core=t,this.logger=e}}class AE extends Qg{constructor(t,e){super(t,e,"authKeys",oE,(()=>aE)),this.core=t,this.logger=e}}class EE extends Qg{constructor(t,e){super(t,e,"pairingTopics",oE),this.core=t,this.logger=e}}class ME extends Qg{constructor(t,e){super(t,e,"requests",oE,(t=>t.id)),this.core=t,this.logger=e}}class _E{constructor(t,e){this.core=t,this.logger=e,this.authKeys=new AE(this.core,this.logger),this.pairingTopics=new EE(this.core,this.logger),this.requests=new ME(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}class SE extends bo{constructor(t){super(t),this.protocol="wc",this.version=2,this.name=VA,this.events=new v.EventEmitter,this.on=(t,e)=>this.events.on(t,e),this.once=(t,e)=>this.events.once(t,e),this.off=(t,e)=>this.events.off(t,e),this.removeListener=(t,e)=>this.events.removeListener(t,e),this.removeAllListeners=t=>this.events.removeAllListeners(t),this.connect=async t=>{try{return await this.engine.connect(t)}catch(Fs){throw this.logger.error(Fs.message),Fs}},this.pair=async t=>{try{return await this.engine.pair(t)}catch(Fs){throw this.logger.error(Fs.message),Fs}},this.approve=async t=>{try{return await this.engine.approve(t)}catch(Fs){throw this.logger.error(Fs.message),Fs}},this.reject=async t=>{try{return await this.engine.reject(t)}catch(Fs){throw this.logger.error(Fs.message),Fs}},this.update=async t=>{try{return await this.engine.update(t)}catch(Fs){throw this.logger.error(Fs.message),Fs}},this.extend=async t=>{try{return await this.engine.extend(t)}catch(Fs){throw this.logger.error(Fs.message),Fs}},this.request=async t=>{try{return await this.engine.request(t)}catch(Fs){throw this.logger.error(Fs.message),Fs}},this.respond=async t=>{try{return await this.engine.respond(t)}catch(Fs){throw this.logger.error(Fs.message),Fs}},this.ping=async t=>{try{return await this.engine.ping(t)}catch(Fs){throw this.logger.error(Fs.message),Fs}},this.emit=async t=>{try{return await this.engine.emit(t)}catch(Fs){throw this.logger.error(Fs.message),Fs}},this.disconnect=async t=>{try{return await this.engine.disconnect(t)}catch(Fs){throw this.logger.error(Fs.message),Fs}},this.find=t=>{try{return this.engine.find(t)}catch(Fs){throw this.logger.error(Fs.message),Fs}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(t){throw this.logger.error(t.message),t}},this.authenticate=async t=>{try{return await this.engine.authenticate(t)}catch(Fs){throw this.logger.error(Fs.message),Fs}},this.formatAuthMessage=t=>{try{return this.engine.formatAuthMessage(t)}catch(Fs){throw this.logger.error(Fs.message),Fs}},this.approveSessionAuthenticate=async t=>{try{return await this.engine.approveSessionAuthenticate(t)}catch(Fs){throw this.logger.error(Fs.message),Fs}},this.rejectSessionAuthenticate=async t=>{try{return await this.engine.rejectSessionAuthenticate(t)}catch(Fs){throw this.logger.error(Fs.message),Fs}},this.name=t?.name||VA,this.metadata=t?.metadata||(0,A.g)()||{name:"",description:"",url:"",icons:[""]},this.signConfig=t?.signConfig;const e=typeof t?.logger<"u"&&"string"!=typeof t?.logger?t.logger:zs()(so({level:t?.logger||XA}));this.core=t?.core||new nm(t),this.logger=ao(e,this.name),this.session=new wE(this.core,this.logger),this.proposal=new yE(this.core,this.logger),this.pendingRequest=new bE(this.core,this.logger),this.engine=new vE(this),this.auth=new _E(this.core,this.logger)}static async init(t){const e=new SE(t);return await e.initialize(),e}get context(){return oo(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),await this.auth.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success"),this.engine.processRelayMessageCache()}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}}r(3135);function IE(t,e,r,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:i}}}const NE=IE("utf8","u",(t=>"u"+new TextDecoder("utf8").decode(t)),(t=>(new TextEncoder).encode(t.substring(1)))),xE=IE("ascii","a",(t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}),(t=>{const e=function(t=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}((t=t.substring(1)).length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}));const CE=":";function OE(t){const[e,r]=t.split(CE);return{namespace:e,reference:r}}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function BE(t=[],e=[]){return[...new Set([...t,...e])]}var PE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof r.g<"u"?r.g:typeof self<"u"?self:{};var RE={exports:{}};!function(t){!function(){var e="input is invalid type",r="object"==typeof window,i=r?window:{};i.JS_SHA3_NO_WINDOW&&(r=!1);var n=!r&&"object"==typeof self;!i.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?i=PE:n&&(i=self);var s=!i.JS_SHA3_NO_COMMON_JS&&t.exports,o=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",a="0123456789abcdef".split(""),h=[4,1024,262144,67108864],u=[0,8,16,24],f=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],c=[224,256,384,512],l=[128,256],d=["hex","buffer","arrayBuffer","array","digest"],p={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),o&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var g=function(t,e,r){return function(i){return new O(t,e,t).update(i)[r]()}},m=function(t,e,r){return function(i,n){return new O(t,e,n).update(i)[r]()}},v=function(t,e,r){return function(e,i,n,s){return E["cshake"+t].update(e,i,n,s)[r]()}},y=function(t,e,r){return function(e,i,n,s){return E["kmac"+t].update(e,i,n,s)[r]()}},w=function(t,e,r,i){for(var n=0;n<d.length;++n){var s=d[n];t[s]=e(r,i,s)}return t},b=function(t,e){var r=g(t,e,"hex");return r.create=function(){return new O(t,e,t)},r.update=function(t){return r.create().update(t)},w(r,g,t,e)},A=[{name:"keccak",padding:[1,256,65536,16777216],bits:c,createMethod:b},{name:"sha3",padding:[6,1536,393216,100663296],bits:c,createMethod:b},{name:"shake",padding:[31,7936,2031616,520093696],bits:l,createMethod:function(t,e){var r=m(t,e,"hex");return r.create=function(r){return new O(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},w(r,m,t,e)}},{name:"cshake",padding:h,bits:l,createMethod:function(t,e){var r=p[t],i=v(t,0,"hex");return i.create=function(i,n,s){return n||s?new O(t,e,i).bytepad([n,s],r):E["shake"+t].create(i)},i.update=function(t,e,r,n){return i.create(e,r,n).update(t)},w(i,v,t,e)}},{name:"kmac",padding:h,bits:l,createMethod:function(t,e){var r=p[t],i=y(t,0,"hex");return i.create=function(i,n,s){return new B(t,e,n).bytepad(["KMAC",s],r).bytepad([i],r)},i.update=function(t,e,r,n){return i.create(t,r,n).update(e)},w(i,y,t,e)}}],E={},M=[],_=0;_<A.length;++_)for(var S=A[_],I=S.bits,N=0;N<I.length;++N){var x=S.name+"_"+I[N];if(M.push(x),E[x]=S.createMethod(I[N],S.padding),"sha3"!==S.name){var C=S.name+I[N];M.push(C),E[C]=E[x]}}function O(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var i=0;i<50;++i)this.s[i]=0}function B(t,e,r){O.call(this,t,e,r)}O.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var r,i=typeof t;if("string"!==i){if("object"!==i)throw new Error(e);if(null===t)throw new Error(e);if(o&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!o||!ArrayBuffer.isView(t)))throw new Error(e);r=!0}for(var n,s,a=this.blocks,h=this.byteCount,f=t.length,c=this.blockCount,l=0,d=this.s;l<f;){if(this.reset)for(this.reset=!1,a[0]=this.block,n=1;n<c+1;++n)a[n]=0;if(r)for(n=this.start;l<f&&n<h;++l)a[n>>2]|=t[l]<<u[3&n++];else for(n=this.start;l<f&&n<h;++l)(s=t.charCodeAt(l))<128?a[n>>2]|=s<<u[3&n++]:s<2048?(a[n>>2]|=(192|s>>6)<<u[3&n++],a[n>>2]|=(128|63&s)<<u[3&n++]):s<55296||s>=57344?(a[n>>2]|=(224|s>>12)<<u[3&n++],a[n>>2]|=(128|s>>6&63)<<u[3&n++],a[n>>2]|=(128|63&s)<<u[3&n++]):(s=65536+((1023&s)<<10|1023&t.charCodeAt(++l)),a[n>>2]|=(240|s>>18)<<u[3&n++],a[n>>2]|=(128|s>>12&63)<<u[3&n++],a[n>>2]|=(128|s>>6&63)<<u[3&n++],a[n>>2]|=(128|63&s)<<u[3&n++]);if(this.lastByteIndex=n,n>=h){for(this.start=n-h,this.block=a[c],n=0;n<c;++n)d[n]^=a[n];P(d),this.reset=!0}else this.start=n}return this},O.prototype.encode=function(t,e){var r=255&t,i=1,n=[r];for(r=255&(t>>=8);r>0;)n.unshift(r),r=255&(t>>=8),++i;return e?n.push(i):n.unshift(i),this.update(n),n.length},O.prototype.encodeString=function(t){var r,i=typeof t;if("string"!==i){if("object"!==i)throw new Error(e);if(null===t)throw new Error(e);if(o&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!o||!ArrayBuffer.isView(t)))throw new Error(e);r=!0}var n=0,s=t.length;if(r)n=s;else for(var a=0;a<t.length;++a){var h=t.charCodeAt(a);h<128?n+=1:h<2048?n+=2:h<55296||h>=57344?n+=3:(h=65536+((1023&h)<<10|1023&t.charCodeAt(++a)),n+=4)}return n+=this.encode(8*n),this.update(t),n},O.prototype.bytepad=function(t,e){for(var r=this.encode(e),i=0;i<t.length;++i)r+=this.encodeString(t[i]);var n=e-r%e,s=[];return s.length=n,this.update(s),this},O.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,i=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)i[e]^=t[e];P(i)}},O.prototype.toString=O.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,i=this.outputBlocks,n=this.extraBytes,s=0,o=0,h="";o<i;){for(s=0;s<e&&o<i;++s,++o)t=r[s],h+=a[t>>4&15]+a[15&t]+a[t>>12&15]+a[t>>8&15]+a[t>>20&15]+a[t>>16&15]+a[t>>28&15]+a[t>>24&15];o%e===0&&(P(r),s=0)}return n&&(t=r[s],h+=a[t>>4&15]+a[15&t],n>1&&(h+=a[t>>12&15]+a[t>>8&15]),n>2&&(h+=a[t>>20&15]+a[t>>16&15])),h},O.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,i=this.outputBlocks,n=this.extraBytes,s=0,o=0,a=this.outputBits>>3;t=n?new ArrayBuffer(i+1<<2):new ArrayBuffer(a);for(var h=new Uint32Array(t);o<i;){for(s=0;s<e&&o<i;++s,++o)h[o]=r[s];o%e===0&&P(r)}return n&&(h[s]=r[s],t=t.slice(0,a)),t},O.prototype.buffer=O.prototype.arrayBuffer,O.prototype.digest=O.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,i=this.s,n=this.outputBlocks,s=this.extraBytes,o=0,a=0,h=[];a<n;){for(o=0;o<r&&a<n;++o,++a)t=a<<2,e=i[o],h[t]=255&e,h[t+1]=e>>8&255,h[t+2]=e>>16&255,h[t+3]=e>>24&255;a%r===0&&P(i)}return s&&(t=a<<2,e=i[o],h[t]=255&e,s>1&&(h[t+1]=e>>8&255),s>2&&(h[t+2]=e>>16&255)),h},B.prototype=new O,B.prototype.finalize=function(){return this.encode(this.outputBits,!0),O.prototype.finalize.call(this)};var P=function(t){var e,r,i,n,s,o,a,h,u,c,l,d,p,g,m,v,y,w,b,A,E,M,_,S,I,N,x,C,O,B,P,R,T,k,U,D,F,L,q,j,z,H,K,Q,G,Y,J,W,V,X,Z,$,tt,et,rt,it,nt,st,ot,at,ht,ut,ft;for(i=0;i<48;i+=2)n=t[0]^t[10]^t[20]^t[30]^t[40],s=t[1]^t[11]^t[21]^t[31]^t[41],o=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],h=t[4]^t[14]^t[24]^t[34]^t[44],u=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],e=(d=t[8]^t[18]^t[28]^t[38]^t[48])^(o<<1|a>>>31),r=(p=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|o>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=n^(h<<1|u>>>31),r=s^(u<<1|h>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=o^(c<<1|l>>>31),r=a^(l<<1|c>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=h^(d<<1|p>>>31),r=u^(p<<1|d>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=c^(n<<1|s>>>31),r=l^(s<<1|n>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,g=t[0],m=t[1],Y=t[11]<<4|t[10]>>>28,J=t[10]<<4|t[11]>>>28,C=t[20]<<3|t[21]>>>29,O=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ht=t[30]<<9|t[31]>>>23,H=t[40]<<18|t[41]>>>14,K=t[41]<<18|t[40]>>>14,k=t[2]<<1|t[3]>>>31,U=t[3]<<1|t[2]>>>31,v=t[13]<<12|t[12]>>>20,y=t[12]<<12|t[13]>>>20,W=t[22]<<10|t[23]>>>22,V=t[23]<<10|t[22]>>>22,B=t[33]<<13|t[32]>>>19,P=t[32]<<13|t[33]>>>19,ut=t[42]<<2|t[43]>>>30,ft=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,D=t[14]<<6|t[15]>>>26,F=t[15]<<6|t[14]>>>26,w=t[25]<<11|t[24]>>>21,b=t[24]<<11|t[25]>>>21,X=t[34]<<15|t[35]>>>17,Z=t[35]<<15|t[34]>>>17,R=t[45]<<29|t[44]>>>3,T=t[44]<<29|t[45]>>>3,S=t[6]<<28|t[7]>>>4,I=t[7]<<28|t[6]>>>4,it=t[17]<<23|t[16]>>>9,nt=t[16]<<23|t[17]>>>9,L=t[26]<<25|t[27]>>>7,q=t[27]<<25|t[26]>>>7,A=t[36]<<21|t[37]>>>11,E=t[37]<<21|t[36]>>>11,$=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,Q=t[8]<<27|t[9]>>>5,G=t[9]<<27|t[8]>>>5,N=t[18]<<20|t[19]>>>12,x=t[19]<<20|t[18]>>>12,st=t[29]<<7|t[28]>>>25,ot=t[28]<<7|t[29]>>>25,j=t[38]<<8|t[39]>>>24,z=t[39]<<8|t[38]>>>24,M=t[48]<<14|t[49]>>>18,_=t[49]<<14|t[48]>>>18,t[0]=g^~v&w,t[1]=m^~y&b,t[10]=S^~N&C,t[11]=I^~x&O,t[20]=k^~D&L,t[21]=U^~F&q,t[30]=Q^~Y&W,t[31]=G^~J&V,t[40]=et^~it&st,t[41]=rt^~nt&ot,t[2]=v^~w&A,t[3]=y^~b&E,t[12]=N^~C&B,t[13]=x^~O&P,t[22]=D^~L&j,t[23]=F^~q&z,t[32]=Y^~W&X,t[33]=J^~V&Z,t[42]=it^~st&at,t[43]=nt^~ot&ht,t[4]=w^~A&M,t[5]=b^~E&_,t[14]=C^~B&R,t[15]=O^~P&T,t[24]=L^~j&H,t[25]=q^~z&K,t[34]=W^~X&$,t[35]=V^~Z&tt,t[44]=st^~at&ut,t[45]=ot^~ht&ft,t[6]=A^~M&g,t[7]=E^~_&m,t[16]=B^~R&S,t[17]=P^~T&I,t[26]=j^~H&k,t[27]=z^~K&U,t[36]=X^~$&Q,t[37]=Z^~tt&G,t[46]=at^~ut&et,t[47]=ht^~ft&rt,t[8]=M^~g&v,t[9]=_^~m&y,t[18]=R^~S&N,t[19]=T^~I&x,t[28]=H^~k&D,t[29]=K^~U&F,t[38]=$^~Q&Y,t[39]=tt^~G&J,t[48]=ut^~et&it,t[49]=ft^~rt&nt,t[0]^=f[i],t[1]^=f[i+1]};if(s)t.exports=E;else for(_=0;_<M.length;++_)i[M[_]]=E[M[_]]}()}(RE);let TE=!1,kE=!1;const UE={debug:1,default:2,info:2,warning:3,error:4,off:5};let DE=UE.default,FE=null;const LE=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch{t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var qE,jE;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(qE||(qE={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(jE||(jE={}));const zE="0123456789abcdef";class HE{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==UE[r]&&this.throwArgumentError("invalid log level name","logLevel",t),!(DE>UE[r])&&console.log.apply(console,e)}debug(...t){this._log(HE.levels.DEBUG,t)}info(...t){this._log(HE.levels.INFO,t)}warn(...t){this._log(HE.levels.WARNING,t)}makeError(t,e,r){if(kE)return this.makeError("censored error",e,{});e||(e=HE.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=zE[e[t]>>4],r+=zE[15&e[t]];i.push(t+"=Uint8Array(0x"+r+")")}else i.push(t+"="+JSON.stringify(e))}catch{i.push(t+"="+JSON.stringify(r[t].toString()))}})),i.push(`code=${e}`),i.push(`version=${this.version}`);const n=t;let s="";switch(e){case jE.NUMERIC_FAULT:{s="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":s+="-"+e;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case jE.CALL_EXCEPTION:case jE.INSUFFICIENT_FUNDS:case jE.MISSING_NEW:case jE.NONCE_EXPIRED:case jE.REPLACEMENT_UNDERPRICED:case jE.TRANSACTION_REPLACED:case jE.UNPREDICTABLE_GAS_LIMIT:s=e}s&&(t+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(t+=" ("+i.join(", ")+")");const o=new Error(t);return o.reason=n,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,HE.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,i){t||this.throwError(e,r,i)}assertArgument(t,e,r,i){t||this.throwArgumentError(e,r,i)}checkNormalize(t){LE&&this.throwError("platform missing String.prototype.normalize",HE.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:LE})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,HE.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,HE.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,HE.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,HE.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){(t===Object||null==t)&&this.throwError("missing new",HE.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",HE.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||null==t)&&this.throwError("missing new",HE.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return FE||(FE=new HE("logger/5.7.0")),FE}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",HE.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),TE){if(!t)return;this.globalLogger().throwError("error censorship permanent",HE.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}kE=!!t,TE=!!e}static setLogLevel(t){const e=UE[t.toLowerCase()];null!=e?DE=e:HE.globalLogger().warn("invalid log level - "+t)}static from(t){return new HE(t)}}HE.errors=jE,HE.levels=qE;const KE=new HE("bytes/5.7.0");function QE(t){return!!t.toHexString}function GE(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return GE(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function YE(t){return"number"==typeof t&&t==t&&t%1===0}function JE(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t||!YE(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!YE(r)||r<0||r>=256)return!1}return!0}function WE(t,e){if(e||(e={}),"number"==typeof t){KE.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),GE(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),QE(t)&&(t=t.toHexString()),VE(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":KE.throwArgumentError("hex data is odd-length","value",t));const i=[];for(let t=0;t<r.length;t+=2)i.push(parseInt(r.substring(t,t+2),16));return GE(new Uint8Array(i))}return JE(t)?GE(new Uint8Array(t)):KE.throwArgumentError("invalid arrayify value","value",t)}function VE(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const XE="0123456789abcdef";function ZE(t,e){if(e||(e={}),"number"==typeof t){KE.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=XE[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),QE(t))return t.toHexString();if(VE(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":KE.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(JE(t)){let e="0x";for(let r=0;r<t.length;r++){let i=t[r];e+=XE[(240&i)>>4]+XE[15&i]}return e}return KE.throwArgumentError("invalid hexlify value","value",t)}function $E(t,e){for("string"!=typeof t?t=ZE(t):VE(t)||KE.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&KE.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}var tM={exports:{}},eM=function(t){var e=t.default;if("function"==typeof e){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var i=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,i.get?i:{enumerable:!0,get:function(){return t[e]}})})),r}(Object.freeze({__proto__:null,default:{}}));!function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function n(t,e,r){if(n.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(("le"===e||"be"===e)&&(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;try{s=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:eM.Buffer}catch{}function o(t,e){var i=t.charCodeAt(e);return i>=48&&i<=57?i-48:i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:void r(!1,"Invalid character in "+t)}function a(t,e,r){var i=o(t,r);return r-1>=e&&(i|=o(t,r-1)<<4),i}function h(t,e,i,n){for(var s=0,o=0,a=Math.min(t.length,i),h=e;h<a;h++){var u=t.charCodeAt(h)-48;s*=n,o=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&o<n,"Invalid character"),s+=o}return s}function u(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(n.isBN=function(t){return t instanceof n||null!==t&&"object"==typeof t&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,e){return t.cmp(e)>0?t:e},n.min=function(t,e){return t.cmp(e)<0?t:e},n.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,i):(this._parseBase(t,e,n),"le"===i&&this._initArray(this.toArray(),e,i)))},n.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},n.prototype._initArray=function(t,e,i){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var s,o,a=0;if("be"===i)for(n=t.length-1,s=0;n>=0;n-=3)o=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===i)for(n=0,s=0;n<t.length;n+=3)o=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},n.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,s=0,o=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=a(t,e,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;else for(i=(t.length-e)%2===0?e+1:e;i<t.length;i+=2)n=a(t,e,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;this._strip()},n.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var s=t.length-r,o=s%i,a=Math.min(s,s-o)+r,u=0,f=r;f<a;f+=i)u=h(t,f,f+i,e),this.imuln(n),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var c=1;for(u=h(t,f,t.length,e),f=0;f<o;f++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},n.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},n.prototype._move=function(t){u(t,this)},n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{n.prototype.inspect=f}else n.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var n=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<n|s)).toString(16);s=a>>>24-n&16777215,(n+=2)>=26&&(n-=26,o--),i=0!==s||o!==this.length-1?c[6-h.length]+h+i:h+i}for(0!==s&&(i=s.toString(16)+i);i.length%e!==0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var u=l[t],f=d[t];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modrn(f).toString(t);i=(p=p.idivn(f)).isZero()?g+i:c[u-g.length]+g+i}for(this.isZero()&&(i="0"+i);i.length%e!==0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},n.prototype.toJSON=function(){return this.toString(16,2)},s&&(n.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),n.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function p(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],s=0|e.words[0],o=n*s,a=67108863&o,h=o/67108864|0;r.words[0]=a;for(var u=1;u<i;u++){for(var f=h>>>26,c=67108863&h,l=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=l;d++){var p=u-d|0;f+=(o=(n=0|t.words[p])*(s=0|e.words[d])+c)/67108864|0,c=67108863&o}r.words[u]=0|c,h=0|f}return 0!==h?r.words[u]=0|h:r.length--,r._strip()}n.prototype.toArrayLike=function(t,e,i){this._strip();var n=this.byteLength(),s=i||Math.max(1,n);r(n<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,n),o},n.prototype._toArrayLikeLE=function(t,e){for(var r=0,i=0,n=0,s=0;n<this.length;n++){var o=this.words[n]<<s|i;t[r++]=255&o,r<t.length&&(t[r++]=o>>8&255),r<t.length&&(t[r++]=o>>16&255),6===s?(r<t.length&&(t[r++]=o>>24&255),i=0,s=0):(i=o>>>24,s+=2)}if(r<t.length)for(t[r++]=i;r<t.length;)t[r++]=0},n.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,i=0,n=0,s=0;n<this.length;n++){var o=this.words[n]<<s|i;t[r--]=255&o,r>=0&&(t[r--]=o>>8&255),r>=0&&(t[r--]=o>>16&255),6===s?(r>=0&&(t[r--]=o>>24&255),i=0,s=0):(i=o>>>24,s+=2)}if(r>=0)for(t[r--]=i;r>=0;)t[r--]=0},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},n.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 8191&e||(r+=13,e>>>=13),127&e||(r+=7,e>>>=7),15&e||(r+=4,e>>>=4),3&e||(r+=2,e>>>=2),1&e||r++,r},n.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},n.prototype.ior=function(t){return r(0===(this.negative|t.negative)),this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},n.prototype.iand=function(t){return r(0===(this.negative|t.negative)),this.iuand(t)},n.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this._strip()},n.prototype.ixor=function(t){return r(0===(this.negative|t.negative)),this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this._strip()},n.prototype.notn=function(t){return this.clone().inotn(t)},n.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<n:this.words[i]&~(1<<n),this._strip()},n.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,s=0;s<i.length;s++)e=(0|r.words[s])+(0|i.words[s])+n,this.words[s]=67108863&e,n=e>>>26;for(;0!==n&&s<r.length;s++)e=(0|r.words[s])+n,this.words[s]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},n.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var s=0,o=0;o<i.length;o++)s=(e=(0|r.words[o])-(0|i.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var i,n,s,o=t.words,a=e.words,h=r.words,u=0,f=0|o[0],c=8191&f,l=f>>>13,d=0|o[1],p=8191&d,g=d>>>13,m=0|o[2],v=8191&m,y=m>>>13,w=0|o[3],b=8191&w,A=w>>>13,E=0|o[4],M=8191&E,_=E>>>13,S=0|o[5],I=8191&S,N=S>>>13,x=0|o[6],C=8191&x,O=x>>>13,B=0|o[7],P=8191&B,R=B>>>13,T=0|o[8],k=8191&T,U=T>>>13,D=0|o[9],F=8191&D,L=D>>>13,q=0|a[0],j=8191&q,z=q>>>13,H=0|a[1],K=8191&H,Q=H>>>13,G=0|a[2],Y=8191&G,J=G>>>13,W=0|a[3],V=8191&W,X=W>>>13,Z=0|a[4],$=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,it=et>>>13,nt=0|a[6],st=8191&nt,ot=nt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,ft=0|a[8],ct=8191&ft,lt=ft>>>13,dt=0|a[9],pt=8191&dt,gt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(u+(i=Math.imul(c,j))|0)+((8191&(n=(n=Math.imul(c,z))+Math.imul(l,j)|0))<<13)|0;u=((s=Math.imul(l,z))+(n>>>13)|0)+(mt>>>26)|0,mt&=67108863,i=Math.imul(p,j),n=(n=Math.imul(p,z))+Math.imul(g,j)|0,s=Math.imul(g,z);var vt=(u+(i=i+Math.imul(c,K)|0)|0)+((8191&(n=(n=n+Math.imul(c,Q)|0)+Math.imul(l,K)|0))<<13)|0;u=((s=s+Math.imul(l,Q)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(v,j),n=(n=Math.imul(v,z))+Math.imul(y,j)|0,s=Math.imul(y,z),i=i+Math.imul(p,K)|0,n=(n=n+Math.imul(p,Q)|0)+Math.imul(g,K)|0,s=s+Math.imul(g,Q)|0;var yt=(u+(i=i+Math.imul(c,Y)|0)|0)+((8191&(n=(n=n+Math.imul(c,J)|0)+Math.imul(l,Y)|0))<<13)|0;u=((s=s+Math.imul(l,J)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(b,j),n=(n=Math.imul(b,z))+Math.imul(A,j)|0,s=Math.imul(A,z),i=i+Math.imul(v,K)|0,n=(n=n+Math.imul(v,Q)|0)+Math.imul(y,K)|0,s=s+Math.imul(y,Q)|0,i=i+Math.imul(p,Y)|0,n=(n=n+Math.imul(p,J)|0)+Math.imul(g,Y)|0,s=s+Math.imul(g,J)|0;var wt=(u+(i=i+Math.imul(c,V)|0)|0)+((8191&(n=(n=n+Math.imul(c,X)|0)+Math.imul(l,V)|0))<<13)|0;u=((s=s+Math.imul(l,X)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(M,j),n=(n=Math.imul(M,z))+Math.imul(_,j)|0,s=Math.imul(_,z),i=i+Math.imul(b,K)|0,n=(n=n+Math.imul(b,Q)|0)+Math.imul(A,K)|0,s=s+Math.imul(A,Q)|0,i=i+Math.imul(v,Y)|0,n=(n=n+Math.imul(v,J)|0)+Math.imul(y,Y)|0,s=s+Math.imul(y,J)|0,i=i+Math.imul(p,V)|0,n=(n=n+Math.imul(p,X)|0)+Math.imul(g,V)|0,s=s+Math.imul(g,X)|0;var bt=(u+(i=i+Math.imul(c,$)|0)|0)+((8191&(n=(n=n+Math.imul(c,tt)|0)+Math.imul(l,$)|0))<<13)|0;u=((s=s+Math.imul(l,tt)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(I,j),n=(n=Math.imul(I,z))+Math.imul(N,j)|0,s=Math.imul(N,z),i=i+Math.imul(M,K)|0,n=(n=n+Math.imul(M,Q)|0)+Math.imul(_,K)|0,s=s+Math.imul(_,Q)|0,i=i+Math.imul(b,Y)|0,n=(n=n+Math.imul(b,J)|0)+Math.imul(A,Y)|0,s=s+Math.imul(A,J)|0,i=i+Math.imul(v,V)|0,n=(n=n+Math.imul(v,X)|0)+Math.imul(y,V)|0,s=s+Math.imul(y,X)|0,i=i+Math.imul(p,$)|0,n=(n=n+Math.imul(p,tt)|0)+Math.imul(g,$)|0,s=s+Math.imul(g,tt)|0;var At=(u+(i=i+Math.imul(c,rt)|0)|0)+((8191&(n=(n=n+Math.imul(c,it)|0)+Math.imul(l,rt)|0))<<13)|0;u=((s=s+Math.imul(l,it)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(C,j),n=(n=Math.imul(C,z))+Math.imul(O,j)|0,s=Math.imul(O,z),i=i+Math.imul(I,K)|0,n=(n=n+Math.imul(I,Q)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,Q)|0,i=i+Math.imul(M,Y)|0,n=(n=n+Math.imul(M,J)|0)+Math.imul(_,Y)|0,s=s+Math.imul(_,J)|0,i=i+Math.imul(b,V)|0,n=(n=n+Math.imul(b,X)|0)+Math.imul(A,V)|0,s=s+Math.imul(A,X)|0,i=i+Math.imul(v,$)|0,n=(n=n+Math.imul(v,tt)|0)+Math.imul(y,$)|0,s=s+Math.imul(y,tt)|0,i=i+Math.imul(p,rt)|0,n=(n=n+Math.imul(p,it)|0)+Math.imul(g,rt)|0,s=s+Math.imul(g,it)|0;var Et=(u+(i=i+Math.imul(c,st)|0)|0)+((8191&(n=(n=n+Math.imul(c,ot)|0)+Math.imul(l,st)|0))<<13)|0;u=((s=s+Math.imul(l,ot)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(P,j),n=(n=Math.imul(P,z))+Math.imul(R,j)|0,s=Math.imul(R,z),i=i+Math.imul(C,K)|0,n=(n=n+Math.imul(C,Q)|0)+Math.imul(O,K)|0,s=s+Math.imul(O,Q)|0,i=i+Math.imul(I,Y)|0,n=(n=n+Math.imul(I,J)|0)+Math.imul(N,Y)|0,s=s+Math.imul(N,J)|0,i=i+Math.imul(M,V)|0,n=(n=n+Math.imul(M,X)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,X)|0,i=i+Math.imul(b,$)|0,n=(n=n+Math.imul(b,tt)|0)+Math.imul(A,$)|0,s=s+Math.imul(A,tt)|0,i=i+Math.imul(v,rt)|0,n=(n=n+Math.imul(v,it)|0)+Math.imul(y,rt)|0,s=s+Math.imul(y,it)|0,i=i+Math.imul(p,st)|0,n=(n=n+Math.imul(p,ot)|0)+Math.imul(g,st)|0,s=s+Math.imul(g,ot)|0;var Mt=(u+(i=i+Math.imul(c,ht)|0)|0)+((8191&(n=(n=n+Math.imul(c,ut)|0)+Math.imul(l,ht)|0))<<13)|0;u=((s=s+Math.imul(l,ut)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(k,j),n=(n=Math.imul(k,z))+Math.imul(U,j)|0,s=Math.imul(U,z),i=i+Math.imul(P,K)|0,n=(n=n+Math.imul(P,Q)|0)+Math.imul(R,K)|0,s=s+Math.imul(R,Q)|0,i=i+Math.imul(C,Y)|0,n=(n=n+Math.imul(C,J)|0)+Math.imul(O,Y)|0,s=s+Math.imul(O,J)|0,i=i+Math.imul(I,V)|0,n=(n=n+Math.imul(I,X)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,X)|0,i=i+Math.imul(M,$)|0,n=(n=n+Math.imul(M,tt)|0)+Math.imul(_,$)|0,s=s+Math.imul(_,tt)|0,i=i+Math.imul(b,rt)|0,n=(n=n+Math.imul(b,it)|0)+Math.imul(A,rt)|0,s=s+Math.imul(A,it)|0,i=i+Math.imul(v,st)|0,n=(n=n+Math.imul(v,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,i=i+Math.imul(p,ht)|0,n=(n=n+Math.imul(p,ut)|0)+Math.imul(g,ht)|0,s=s+Math.imul(g,ut)|0;var _t=(u+(i=i+Math.imul(c,ct)|0)|0)+((8191&(n=(n=n+Math.imul(c,lt)|0)+Math.imul(l,ct)|0))<<13)|0;u=((s=s+Math.imul(l,lt)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(F,j),n=(n=Math.imul(F,z))+Math.imul(L,j)|0,s=Math.imul(L,z),i=i+Math.imul(k,K)|0,n=(n=n+Math.imul(k,Q)|0)+Math.imul(U,K)|0,s=s+Math.imul(U,Q)|0,i=i+Math.imul(P,Y)|0,n=(n=n+Math.imul(P,J)|0)+Math.imul(R,Y)|0,s=s+Math.imul(R,J)|0,i=i+Math.imul(C,V)|0,n=(n=n+Math.imul(C,X)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,X)|0,i=i+Math.imul(I,$)|0,n=(n=n+Math.imul(I,tt)|0)+Math.imul(N,$)|0,s=s+Math.imul(N,tt)|0,i=i+Math.imul(M,rt)|0,n=(n=n+Math.imul(M,it)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,it)|0,i=i+Math.imul(b,st)|0,n=(n=n+Math.imul(b,ot)|0)+Math.imul(A,st)|0,s=s+Math.imul(A,ot)|0,i=i+Math.imul(v,ht)|0,n=(n=n+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,s=s+Math.imul(y,ut)|0,i=i+Math.imul(p,ct)|0,n=(n=n+Math.imul(p,lt)|0)+Math.imul(g,ct)|0,s=s+Math.imul(g,lt)|0;var St=(u+(i=i+Math.imul(c,pt)|0)|0)+((8191&(n=(n=n+Math.imul(c,gt)|0)+Math.imul(l,pt)|0))<<13)|0;u=((s=s+Math.imul(l,gt)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(F,K),n=(n=Math.imul(F,Q))+Math.imul(L,K)|0,s=Math.imul(L,Q),i=i+Math.imul(k,Y)|0,n=(n=n+Math.imul(k,J)|0)+Math.imul(U,Y)|0,s=s+Math.imul(U,J)|0,i=i+Math.imul(P,V)|0,n=(n=n+Math.imul(P,X)|0)+Math.imul(R,V)|0,s=s+Math.imul(R,X)|0,i=i+Math.imul(C,$)|0,n=(n=n+Math.imul(C,tt)|0)+Math.imul(O,$)|0,s=s+Math.imul(O,tt)|0,i=i+Math.imul(I,rt)|0,n=(n=n+Math.imul(I,it)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,it)|0,i=i+Math.imul(M,st)|0,n=(n=n+Math.imul(M,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,i=i+Math.imul(b,ht)|0,n=(n=n+Math.imul(b,ut)|0)+Math.imul(A,ht)|0,s=s+Math.imul(A,ut)|0,i=i+Math.imul(v,ct)|0,n=(n=n+Math.imul(v,lt)|0)+Math.imul(y,ct)|0,s=s+Math.imul(y,lt)|0;var It=(u+(i=i+Math.imul(p,pt)|0)|0)+((8191&(n=(n=n+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;u=((s=s+Math.imul(g,gt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(F,Y),n=(n=Math.imul(F,J))+Math.imul(L,Y)|0,s=Math.imul(L,J),i=i+Math.imul(k,V)|0,n=(n=n+Math.imul(k,X)|0)+Math.imul(U,V)|0,s=s+Math.imul(U,X)|0,i=i+Math.imul(P,$)|0,n=(n=n+Math.imul(P,tt)|0)+Math.imul(R,$)|0,s=s+Math.imul(R,tt)|0,i=i+Math.imul(C,rt)|0,n=(n=n+Math.imul(C,it)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,it)|0,i=i+Math.imul(I,st)|0,n=(n=n+Math.imul(I,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,i=i+Math.imul(M,ht)|0,n=(n=n+Math.imul(M,ut)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,ut)|0,i=i+Math.imul(b,ct)|0,n=(n=n+Math.imul(b,lt)|0)+Math.imul(A,ct)|0,s=s+Math.imul(A,lt)|0;var Nt=(u+(i=i+Math.imul(v,pt)|0)|0)+((8191&(n=(n=n+Math.imul(v,gt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((s=s+Math.imul(y,gt)|0)+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,i=Math.imul(F,V),n=(n=Math.imul(F,X))+Math.imul(L,V)|0,s=Math.imul(L,X),i=i+Math.imul(k,$)|0,n=(n=n+Math.imul(k,tt)|0)+Math.imul(U,$)|0,s=s+Math.imul(U,tt)|0,i=i+Math.imul(P,rt)|0,n=(n=n+Math.imul(P,it)|0)+Math.imul(R,rt)|0,s=s+Math.imul(R,it)|0,i=i+Math.imul(C,st)|0,n=(n=n+Math.imul(C,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,i=i+Math.imul(I,ht)|0,n=(n=n+Math.imul(I,ut)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ut)|0,i=i+Math.imul(M,ct)|0,n=(n=n+Math.imul(M,lt)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,lt)|0;var xt=(u+(i=i+Math.imul(b,pt)|0)|0)+((8191&(n=(n=n+Math.imul(b,gt)|0)+Math.imul(A,pt)|0))<<13)|0;u=((s=s+Math.imul(A,gt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(F,$),n=(n=Math.imul(F,tt))+Math.imul(L,$)|0,s=Math.imul(L,tt),i=i+Math.imul(k,rt)|0,n=(n=n+Math.imul(k,it)|0)+Math.imul(U,rt)|0,s=s+Math.imul(U,it)|0,i=i+Math.imul(P,st)|0,n=(n=n+Math.imul(P,ot)|0)+Math.imul(R,st)|0,s=s+Math.imul(R,ot)|0,i=i+Math.imul(C,ht)|0,n=(n=n+Math.imul(C,ut)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ut)|0,i=i+Math.imul(I,ct)|0,n=(n=n+Math.imul(I,lt)|0)+Math.imul(N,ct)|0,s=s+Math.imul(N,lt)|0;var Ct=(u+(i=i+Math.imul(M,pt)|0)|0)+((8191&(n=(n=n+Math.imul(M,gt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((s=s+Math.imul(_,gt)|0)+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,i=Math.imul(F,rt),n=(n=Math.imul(F,it))+Math.imul(L,rt)|0,s=Math.imul(L,it),i=i+Math.imul(k,st)|0,n=(n=n+Math.imul(k,ot)|0)+Math.imul(U,st)|0,s=s+Math.imul(U,ot)|0,i=i+Math.imul(P,ht)|0,n=(n=n+Math.imul(P,ut)|0)+Math.imul(R,ht)|0,s=s+Math.imul(R,ut)|0,i=i+Math.imul(C,ct)|0,n=(n=n+Math.imul(C,lt)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,lt)|0;var Ot=(u+(i=i+Math.imul(I,pt)|0)|0)+((8191&(n=(n=n+Math.imul(I,gt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((s=s+Math.imul(N,gt)|0)+(n>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,i=Math.imul(F,st),n=(n=Math.imul(F,ot))+Math.imul(L,st)|0,s=Math.imul(L,ot),i=i+Math.imul(k,ht)|0,n=(n=n+Math.imul(k,ut)|0)+Math.imul(U,ht)|0,s=s+Math.imul(U,ut)|0,i=i+Math.imul(P,ct)|0,n=(n=n+Math.imul(P,lt)|0)+Math.imul(R,ct)|0,s=s+Math.imul(R,lt)|0;var Bt=(u+(i=i+Math.imul(C,pt)|0)|0)+((8191&(n=(n=n+Math.imul(C,gt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((s=s+Math.imul(O,gt)|0)+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,i=Math.imul(F,ht),n=(n=Math.imul(F,ut))+Math.imul(L,ht)|0,s=Math.imul(L,ut),i=i+Math.imul(k,ct)|0,n=(n=n+Math.imul(k,lt)|0)+Math.imul(U,ct)|0,s=s+Math.imul(U,lt)|0;var Pt=(u+(i=i+Math.imul(P,pt)|0)|0)+((8191&(n=(n=n+Math.imul(P,gt)|0)+Math.imul(R,pt)|0))<<13)|0;u=((s=s+Math.imul(R,gt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,i=Math.imul(F,ct),n=(n=Math.imul(F,lt))+Math.imul(L,ct)|0,s=Math.imul(L,lt);var Rt=(u+(i=i+Math.imul(k,pt)|0)|0)+((8191&(n=(n=n+Math.imul(k,gt)|0)+Math.imul(U,pt)|0))<<13)|0;u=((s=s+Math.imul(U,gt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863;var Tt=(u+(i=Math.imul(F,pt))|0)+((8191&(n=(n=Math.imul(F,gt))+Math.imul(L,pt)|0))<<13)|0;return u=((s=Math.imul(L,gt))+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,h[0]=mt,h[1]=vt,h[2]=yt,h[3]=wt,h[4]=bt,h[5]=At,h[6]=Et,h[7]=Mt,h[8]=_t,h[9]=St,h[10]=It,h[11]=Nt,h[12]=xt,h[13]=Ct,h[14]=Ot,h[15]=Bt,h[16]=Pt,h[17]=Rt,h[18]=Tt,0!==u&&(h[19]=u,r.length++),r};function m(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,s=0;s<r.length-1;s++){var o=n;n=0;for(var a=67108863&i,h=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=h;u++){var f=s-u,c=(0|t.words[f])*(0|e.words[u]),l=67108863&c;a=67108863&(l=l+a|0),n+=(o=(o=o+(c/67108864|0)|0)+(l>>>26)|0)>>>26,o&=67108863}r.words[s]=a,i=o,o=n}return 0!==i?r.words[s]=i:r.length--,r._strip()}function v(t,e,r){return m(t,e,r)}Math.imul||(g=p),n.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?p(this,t,e):r<1024?m(this,t,e):v(this,t,e)},n.prototype.mul=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},n.prototype.mulf=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),v(this,t,e)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"==typeof t),r(t<67108864);for(var i=0,n=0;n<this.length;n++){var s=(0|this.words[n])*t,o=(67108863&s)+(67108863&i);i>>=26,i+=s/67108864|0,i+=o>>>26,this.words[n]=67108863&o}return 0!==i&&(this.words[n]=i,this.length++),e?this.ineg():this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=t.words[i]>>>n&1}return e}(t);if(0===e.length)return new n(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var s=r.sqr();i<e.length;i++,s=s.sqr())0!==e[i]&&(r=r.mul(s));return r},n.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,i=t%26,n=(t-i)/26,s=67108863>>>26-i<<26-i;if(0!==i){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<i;this.words[e]=h|o,o=a>>>26-i}o&&(this.words[e]=o,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this._strip()},n.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,e,i){var n;r("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=i;if(n-=o,n=Math.max(0,n),h){for(var u=0;u<o;u++)h.words[u]=this.words[u];h.length=o}if(0!==o)if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var f=0;for(u=this.length-1;u>=0&&(0!==f||u>=n);u--){var c=0|this.words[u];this.words[u]=f<<26-s|c>>>s,f=c&a}return h&&0!==f&&(h.words[h.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(t,e,i){return r(0===this.negative),this.iushrn(t,e,i)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,n=1<<e;return!(this.length<=i)&&!!(this.words[i]&n)},n.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this._strip()},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},n.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,e,i){var n,s=t.length+i;this._expand(s);var o,a=0;for(n=0;n<t.length;n++){o=(0|this.words[n+i])+a;var h=(0|t.words[n])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[n+i]=67108863&o}for(;n<this.length-i;n++)a=(o=(0|this.words[n+i])+a)>>26,this.words[n+i]=67108863&o;if(0===a)return this._strip();for(r(-1===a),a=0,n=0;n<this.length;n++)a=(o=-(0|this.words[n])+a)>>26,this.words[n]=67108863&o;return this.negative=1,this._strip()},n.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),s=t,o=0|s.words[s.length-1];0!==(r=26-this._countBits(o))&&(s=s.ushln(r),i.iushln(r),o=0|s.words[s.length-1]);var a,h=i.length-s.length;if("mod"!==e){(a=new n(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var f=i.clone()._ishlnsubmul(s,1,h);0===f.negative&&(i=f,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var l=67108864*(0|i.words[s.length+c])+(0|i.words[s.length+c-1]);for(l=Math.min(l/o|0,67108863),i._ishlnsubmul(s,l,c);0!==i.negative;)l--,i.negative=0,i._ishlnsubmul(s,1,c),i.isZero()||(i.negative^=1);a&&(a.words[c]=l)}return a&&a._strip(),i._strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},n.prototype.divmod=function(t,e,i){return r(!t.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(s=a.div.neg()),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.iadd(t)),{div:s,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(s=a.div.neg()),{div:s,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new n(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new n(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modrn(t.words[0]))}:this._wordDiv(t,e);var s,o,a},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),s=r.cmp(i);return s<0||1===n&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},n.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var i=(1<<26)%t,n=0,s=this.length-1;s>=0;s--)n=(i*n+(0|this.words[s]))%t;return e?-n:n},n.prototype.modn=function(t){return this.modrn(t)},n.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var i=0,n=this.length-1;n>=0;n--){var s=(0|this.words[n])+67108864*i;this.words[n]=s/t|0,i=s%t}return this._strip(),e?this.ineg():this},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var s=new n(1),o=new n(0),a=new n(0),h=new n(1),u=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++u;for(var f=i.clone(),c=e.clone();!e.isZero();){for(var l=0,d=1;!(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-->0;)(s.isOdd()||o.isOdd())&&(s.iadd(f),o.isub(c)),s.iushrn(1),o.iushrn(1);for(var p=0,g=1;!(i.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(i.iushrn(p);p-->0;)(a.isOdd()||h.isOdd())&&(a.iadd(f),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(i)>=0?(e.isub(i),s.isub(a),o.isub(h)):(i.isub(e),a.isub(s),h.isub(o))}return{a:a,b:h,gcd:i.iushln(u)}},n.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e,i=this,s=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var o=new n(1),a=new n(0),h=s.clone();i.cmpn(1)>0&&s.cmpn(1)>0;){for(var u=0,f=1;!(i.words[0]&f)&&u<26;++u,f<<=1);if(u>0)for(i.iushrn(u);u-->0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var c=0,l=1;!(s.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(s.iushrn(c);c-->0;)a.isOdd()&&a.iadd(h),a.iushrn(1);i.cmp(s)>=0?(i.isub(s),o.isub(a)):(s.isub(i),a.isub(o))}return(e=0===i.cmpn(1)?o:a).cmpn(0)<0&&e.iadd(t),e},n.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var s=e;e=r,r=s}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return 0===(1&this.words[0])},n.prototype.isOdd=function(){return 1===(1&this.words[0])},n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var s=n,o=i;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this._strip(),this.length>1)e=1;else{i&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},n.prototype.gtn=function(t){return 1===this.cmpn(t)},n.prototype.gt=function(t){return 1===this.cmp(t)},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return-1===this.cmpn(t)},n.prototype.lt=function(t){return-1===this.cmp(t)},n.prototype.lten=function(t){return this.cmpn(t)<=0},n.prototype.lte=function(t){return this.cmp(t)<=0},n.prototype.eqn=function(t){return 0===this.cmpn(t)},n.prototype.eq=function(t){return 0===this.cmp(t)},n.red=function(t){return new _(t)},n.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},n.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new n(e,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function A(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(t){if("string"==typeof t){var e=n._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function S(t){_.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new n(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},i(b,w),b.prototype.split=function(t,e){for(var r=4194303,i=Math.min(t.length,9),n=0;n<i;n++)e.words[n]=t.words[n];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[n-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(A,w),i(E,w),i(M,w),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},n._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new A;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return y[t]=e,e},_.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},_.prototype._verify2=function(t,e){r(0===(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},_.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(u(t,t.umod(this.m)._forceRed(this)),t)},_.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},_.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},_.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},_.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},_.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},_.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},_.prototype.isqr=function(t){return this.imul(t,t.clone())},_.prototype.sqr=function(t){return this.mul(t,t)},_.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2===1),3===e){var i=this.m.add(new n(1)).iushrn(2);return this.pow(t,i)}for(var s=this.m.subn(1),o=0;!s.isZero()&&0===s.andln(1);)o++,s.iushrn(1);r(!s.isZero());var a=new n(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new n(2*f*f).toRed(this);0!==this.pow(f,u).cmp(h);)f.redIAdd(h);for(var c=this.pow(f,s),l=this.pow(t,s.addn(1).iushrn(1)),d=this.pow(t,s),p=o;0!==d.cmp(a);){for(var g=d,m=0;0!==g.cmp(a);m++)g=g.redSqr();r(m<p);var v=this.pow(c,new n(1).iushln(p-m-1));l=l.redMul(v),c=v.redSqr(),d=d.redMul(c),p=m}return l},_.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},_.prototype.pow=function(t,e){if(e.isZero())return new n(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new n(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var s=r[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),i=e.length-1;i>=0;i--){for(var u=e.words[i],f=h-1;f>=0;f--){var c=u>>f&1;(s!==r[0]&&(s=this.sqr(s)),0!==c||0!==o)?(o<<=1,o|=c,(4===++a||0===i&&0===f)&&(s=this.mul(s,r[o]),a=0,o=0)):a=0}h=26}return s},_.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},_.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},n.mont=function(t){return new S(t)},i(S,_),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},S.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},S.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new n(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=r.isub(i).iushrn(this.shift),o=s;return s.cmp(this.m)>=0?o=s.isub(this.m):s.cmpn(0)<0&&(o=s.iadd(this.m)),o._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,PE)}(tM);var rM=tM.exports;const iM="bignumber/5.7.0";var nM=rM.BN;const sM=new HE(iM),oM={},aM=9007199254740991;let hM=!1;class uM{constructor(t,e){t!==oM&&sM.throwError("cannot call constructor directly; use BigNumber.from",HE.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return cM(lM(this).fromTwos(t))}toTwos(t){return cM(lM(this).toTwos(t))}abs(){return"-"===this._hex[0]?uM.from(this._hex.substring(1)):this}add(t){return cM(lM(this).add(lM(t)))}sub(t){return cM(lM(this).sub(lM(t)))}div(t){return uM.from(t).isZero()&&dM("division-by-zero","div"),cM(lM(this).div(lM(t)))}mul(t){return cM(lM(this).mul(lM(t)))}mod(t){const e=lM(t);return e.isNeg()&&dM("division-by-zero","mod"),cM(lM(this).umod(e))}pow(t){const e=lM(t);return e.isNeg()&&dM("negative-power","pow"),cM(lM(this).pow(e))}and(t){const e=lM(t);return(this.isNegative()||e.isNeg())&&dM("unbound-bitwise-result","and"),cM(lM(this).and(e))}or(t){const e=lM(t);return(this.isNegative()||e.isNeg())&&dM("unbound-bitwise-result","or"),cM(lM(this).or(e))}xor(t){const e=lM(t);return(this.isNegative()||e.isNeg())&&dM("unbound-bitwise-result","xor"),cM(lM(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&dM("negative-width","mask"),cM(lM(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&dM("negative-width","shl"),cM(lM(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&dM("negative-width","shr"),cM(lM(this).shrn(t))}eq(t){return lM(this).eq(lM(t))}lt(t){return lM(this).lt(lM(t))}lte(t){return lM(this).lte(lM(t))}gt(t){return lM(this).gt(lM(t))}gte(t){return lM(this).gte(lM(t))}isNegative(){return"-"===this._hex[0]}isZero(){return lM(this).isZero()}toNumber(){try{return lM(this).toNumber()}catch{dM("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return sM.throwError("this platform does not support BigInt",HE.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?hM||(hM=!0,sM.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?sM.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",HE.errors.UNEXPECTED_ARGUMENT,{}):sM.throwError("BigNumber.toString does not accept parameters",HE.errors.UNEXPECTED_ARGUMENT,{})),lM(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof uM)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new uM(oM,fM(t)):t.match(/^-?[0-9]+$/)?new uM(oM,fM(new nM(t))):sM.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&dM("underflow","BigNumber.from",t),(t>=aM||t<=-9007199254740991)&&dM("overflow","BigNumber.from",t),uM.from(String(t));const e=t;if("bigint"==typeof e)return uM.from(e.toString());if(JE(e))return uM.from(ZE(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return uM.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(VE(t)||"-"===t[0]&&VE(t.substring(1))))return uM.from(t)}return sM.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function fM(t){if("string"!=typeof t)return fM(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&sM.throwArgumentError("invalid hex","value",t),"0x00"===(t=fM(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function cM(t){return uM.from(fM(t))}function lM(t){const e=uM.from(t).toHexString();return"-"===e[0]?new nM("-"+e.substring(3),16):new nM(e.substring(2),16)}function dM(t,e,r){const i={fault:t,operation:e};return null!=r&&(i.value=r),sM.throwError(t,HE.errors.NUMERIC_FAULT,i)}const pM=new HE(iM),gM={},mM=uM.from(0),vM=uM.from(-1);function yM(t,e,r,i){const n={fault:e,operation:r};return void 0!==i&&(n.value=i),pM.throwError(t,HE.errors.NUMERIC_FAULT,n)}let wM="0";for(;wM.length<256;)wM+=wM;function bM(t){if("number"!=typeof t)try{t=uM.from(t).toNumber()}catch{}return"number"==typeof t&&t>=0&&t<=256&&!(t%1)?"1"+wM.substring(0,t):pM.throwArgumentError("invalid decimal size","decimals",t)}function AM(t,e){null==e&&(e=0);const r=bM(e),i=(t=uM.from(t)).lt(mM);i&&(t=t.mul(vM));let n=t.mod(r).toString();for(;n.length<r.length-1;)n="0"+n;n=n.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return t=1===r.length?s:s+"."+n,i&&(t="-"+t),t}function EM(t,e){null==e&&(e=0);const r=bM(e);("string"!=typeof t||!t.match(/^-?[0-9.]+$/))&&pM.throwArgumentError("invalid decimal value","value",t);const i="-"===t.substring(0,1);i&&(t=t.substring(1)),"."===t&&pM.throwArgumentError("missing value","value",t);const n=t.split(".");n.length>2&&pM.throwArgumentError("too many decimal points","value",t);let s=n[0],o=n[1];for(s||(s="0"),o||(o="0");"0"===o[o.length-1];)o=o.substring(0,o.length-1);for(o.length>r.length-1&&yM("fractional component exceeds decimals","underflow","parseFixed"),""===o&&(o="0");o.length<r.length-1;)o+="0";const a=uM.from(s),h=uM.from(o);let u=a.mul(r).add(h);return i&&(u=u.mul(vM)),u}class MM{constructor(t,e,r,i){t!==gM&&pM.throwError("cannot use FixedFormat constructor; use FixedFormat.from",HE.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=e,this.width=r,this.decimals=i,this.name=(e?"":"u")+"fixed"+String(r)+"x"+String(i),this._multiplier=bM(i),Object.freeze(this)}static from(t){if(t instanceof MM)return t;"number"==typeof t&&(t=`fixed128x${t}`);let e=!0,r=128,i=18;if("string"==typeof t){if("fixed"!==t)if("ufixed"===t)e=!1;else{const n=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);n||pM.throwArgumentError("invalid fixed format","format",t),e="u"!==n[1],r=parseInt(n[2]),i=parseInt(n[3])}}else if(t){const n=(e,r,i)=>null==t[e]?i:(typeof t[e]!==r&&pM.throwArgumentError("invalid fixed format ("+e+" not "+r+")","format."+e,t[e]),t[e]);e=n("signed","boolean",e),r=n("width","number",r),i=n("decimals","number",i)}return r%8&&pM.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&pM.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new MM(gM,e,r,i)}}class _M{constructor(t,e,r,i){t!==gM&&pM.throwError("cannot use FixedNumber constructor; use FixedNumber.from",HE.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=e,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&pM.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const e=EM(this._value,this.format.decimals),r=EM(t._value,t.format.decimals);return _M.fromValue(e.add(r),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const e=EM(this._value,this.format.decimals),r=EM(t._value,t.format.decimals);return _M.fromValue(e.sub(r),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const e=EM(this._value,this.format.decimals),r=EM(t._value,t.format.decimals);return _M.fromValue(e.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const e=EM(this._value,this.format.decimals),r=EM(t._value,t.format.decimals);return _M.fromValue(e.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=_M.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return this.isNegative()&&r&&(e=e.subUnsafe(SM.toFormat(e.format))),e}ceiling(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=_M.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return!this.isNegative()&&r&&(e=e.addUnsafe(SM.toFormat(e.format))),e}round(t){null==t&&(t=0);const e=this.toString().split(".");if(1===e.length&&e.push("0"),(t<0||t>80||t%1)&&pM.throwArgumentError("invalid decimal count","decimals",t),e[1].length<=t)return this;const r=_M.from("1"+wM.substring(0,t),this.format),i=IM.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(i).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(t){if(null==t)return this._hex;t%8&&pM.throwArgumentError("invalid byte width","width",t);return $E(uM.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString(),t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return _M.fromString(this._value,t)}static fromValue(t,e,r){return null==r&&null!=e&&!function(t){return null!=t&&(uM.isBigNumber(t)||"number"==typeof t&&t%1===0||"string"==typeof t&&!!t.match(/^-?[0-9]+$/)||VE(t)||"bigint"==typeof t||JE(t))}(e)&&(r=e,e=null),null==e&&(e=0),null==r&&(r="fixed"),_M.fromString(AM(t,e),MM.from(r))}static fromString(t,e){null==e&&(e="fixed");const r=MM.from(e),i=EM(t,r.decimals);!r.signed&&i.lt(mM)&&yM("unsigned value cannot be negative","overflow","value",t);let n=null;r.signed?n=i.toTwos(r.width).toHexString():(n=i.toHexString(),n=$E(n,r.width/8));const s=AM(i,r.decimals);return new _M(gM,n,s,r)}static fromBytes(t,e){null==e&&(e="fixed");const r=MM.from(e);if(WE(t).length>r.width/8)throw new Error("overflow");let i=uM.from(t);r.signed&&(i=i.fromTwos(r.width));const n=i.toTwos((r.signed?0:1)+r.width).toHexString(),s=AM(i,r.decimals);return new _M(gM,n,s,r)}static from(t,e){if("string"==typeof t)return _M.fromString(t,e);if(JE(t))return _M.fromBytes(t,e);try{return _M.fromValue(t,0,e)}catch(io){if(io.code!==HE.errors.INVALID_ARGUMENT)throw io}return pM.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!(!t||!t._isFixedNumber)}}const SM=_M.from(1),IM=_M.from("0.5"),NM=new HE("strings/5.7.0");var xM,CM;function OM(t,e,r,i,n){if(t===CM.BAD_PREFIX||t===CM.UNEXPECTED_CONTINUE){let t=0;for(let i=e+1;i<r.length&&r[i]>>6===2;i++)t++;return t}return t===CM.OVERRUN?r.length-e-1:0}function BM(t,e){e||(e=function(t){return[parseInt(t,16)]});let r=0,i={};return t.split(",").forEach((t=>{let n=t.split(":");r+=parseInt(n[0],16),i[r]=e(n[1])})),i}function PM(t){let e=0;return t.split(",").map((t=>{let r=t.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let i=e+parseInt(r[0],16);return e=parseInt(r[1],16),{l:i,h:e}}))}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(xM||(xM={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(CM||(CM={})),Object.freeze({error:function(t,e,r,i,n){return NM.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:OM,replace:function(t,e,r,i,n){return t===CM.OVERLONG?(i.push(n),0):(i.push(65533),OM(t,e,r))}}),PM("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((t=>parseInt(t,16))),BM("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),BM("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),BM("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(t){if(t.length%4!==0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e})),PM("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");const RM="hash/5.7.0";function TM(t,e){null==e&&(e=1);const r=[],i=r.forEach,n=function(t,e){i.call(t,(function(t){e>0&&Array.isArray(t)?n(t,e-1):r.push(t)}))};return n(t,e),r}function kM(t){return function(t){let e=0;return()=>t[e++]}(function(t){let e=0;function r(){return t[e++]<<8|t[e++]}let i=r(),n=1,s=[0,1];for(let b=1;b<i;b++)s.push(n+=r());let o=r(),a=e;e+=o;let h=0,u=0;function f(){return 0==h&&(u=u<<8|t[e++],h=8),u>>--h&1}const c=Math.pow(2,31),l=c>>>1,d=l>>1,p=c-1;let g=0;for(let b=0;b<31;b++)g=g<<1|f();let m=[],v=0,y=c;for(;;){let t=Math.floor(((g-v+1)*n-1)/y),e=0,r=i;for(;r-e>1;){let i=e+r>>>1;t<s[i]?r=i:e=i}if(0==e)break;m.push(e);let o=v+Math.floor(y*s[e]/n),a=v+Math.floor(y*s[e+1]/n)-1;for(;!((o^a)&l);)g=g<<1&p|f(),o=o<<1&p,a=a<<1&p|1;for(;o&~a&d;)g=g&l|g<<1&p>>>1|f(),o=o<<1^l,a=(a^l)<<1|l|1;v=o,y=1+a-o}let w=i-4;return m.map((e=>{switch(e-w){case 3:return w+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return w+256+(t[a++]<<8|t[a++]);case 1:return w+t[a++];default:return e-1}}))}(t))}function UM(t){return 1&t?~t>>1:t>>1}function DM(t,e){let r=Array(t);for(let i=0,n=-1;i<t;i++)r[i]=n+=1+e();return r}function FM(t,e){let r=Array(t);for(let i=0,n=0;i<t;i++)r[i]=n+=UM(e());return r}function LM(t,e){let r=DM(t(),t),i=t(),n=DM(i,t),s=function(t,e){let r=Array(t);for(let i=0;i<t;i++)r[i]=1+e();return r}(i,t);for(let o=0;o<i;o++)for(let t=0;t<s[o];t++)r.push(n[o]+t);return e?r.map((t=>e[t])):r}function qM(t,e,r){let i=Array(t).fill(void 0).map((()=>[]));for(let n=0;n<e;n++)FM(t,r).forEach(((t,e)=>i[e].push(t)));return i}function jM(t,e){let r=1+e(),i=e(),n=function(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(r)}return e}(e);return TM(qM(n.length,1+t,e).map(((t,e)=>{const s=t[0],o=t.slice(1);return Array(n[e]).fill(void 0).map(((t,e)=>{let n=e*i;return[s+e*r,o.map((t=>t+n))]}))})))}function zM(t,e){return qM(1+e(),1+t,e).map((t=>[t[0],t.slice(1)]))}const HM=kM(function(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return WE(e)}("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"));new Set(LM(HM)),new Set(LM(HM)),function(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(jM(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(zM(r,t))}(function(t){const e={};for(let r=0;r<t.length;r++){const i=t[r];e[i[0]]=i[1]}})(TM(e))}(HM),function(t){let e=LM(t).sort(((t,e)=>t-e));(function r(){let i=[];for(;;){let n=LM(t,e);if(0==n.length)break;i.push({set:new Set(n),node:r()})}i.sort(((t,e)=>e.set.size-t.set.size));let n=t(),s=n%3;n=n/3|0;let o=!!(1&n);n>>=1;let a=1==n,h=2==n;return{branches:i,valid:s,fe0f:o,save:a,check:h}})()}(HM),new HE(RM);new Uint8Array(32).fill(0);new HE("rlp/5.7.0");new HE("address/5.7.0");const KM={};for(let dx=0;dx<10;dx++)KM[String(dx)]=String(dx);for(let dx=0;dx<26;dx++)KM[String.fromCharCode(65+dx)]=String(10+dx);Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));new HE("properties/5.7.0"),new HE(RM);new Uint8Array(32).fill(0),uM.from(-1);const QM=uM.from(0),GM=uM.from(1);uM.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),$E(GM.toHexString(),32),$E(QM.toHexString(),32);var YM={},JM={},WM=VM;function VM(t,e){if(!t)throw new Error(e||"Assertion failed")}VM.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var XM={exports:{}};"function"==typeof Object.create?XM.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:XM.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}};var ZM=WM,$M=XM.exports;function t_(t,e){return!(55296!==(64512&t.charCodeAt(e))||e<0||e+1>=t.length)&&56320===(64512&t.charCodeAt(e+1))}function e_(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function r_(t){return 1===t.length?"0"+t:t}function i_(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}JM.inherits=$M,JM.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var i=0,n=0;n<t.length;n++){var s=t.charCodeAt(n);s<128?r[i++]=s:s<2048?(r[i++]=s>>6|192,r[i++]=63&s|128):t_(t,n)?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++n)),r[i++]=s>>18|240,r[i++]=s>>12&63|128,r[i++]=s>>6&63|128,r[i++]=63&s|128):(r[i++]=s>>12|224,r[i++]=s>>6&63|128,r[i++]=63&s|128)}else for(n=0;n<t.length;n++)r[n]=0|t[n];return r},JM.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=r_(t[r].toString(16));return e},JM.htonl=e_,JM.toHex32=function(t,e){for(var r="",i=0;i<t.length;i++){var n=t[i];"little"===e&&(n=e_(n)),r+=i_(n.toString(16))}return r},JM.zero2=r_,JM.zero8=i_,JM.join32=function(t,e,r,i){var n=r-e;ZM(n%4===0);for(var s=new Array(n/4),o=0,a=e;o<s.length;o++,a+=4){var h;h="big"===i?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=h>>>0}return s},JM.split32=function(t,e){for(var r=new Array(4*t.length),i=0,n=0;i<t.length;i++,n+=4){var s=t[i];"big"===e?(r[n]=s>>>24,r[n+1]=s>>>16&255,r[n+2]=s>>>8&255,r[n+3]=255&s):(r[n+3]=s>>>24,r[n+2]=s>>>16&255,r[n+1]=s>>>8&255,r[n]=255&s)}return r},JM.rotr32=function(t,e){return t>>>e|t<<32-e},JM.rotl32=function(t,e){return t<<e|t>>>32-e},JM.sum32=function(t,e){return t+e>>>0},JM.sum32_3=function(t,e,r){return t+e+r>>>0},JM.sum32_4=function(t,e,r,i){return t+e+r+i>>>0},JM.sum32_5=function(t,e,r,i,n){return t+e+r+i+n>>>0},JM.sum64=function(t,e,r,i){var n=t[e],s=i+t[e+1]>>>0,o=(s<i?1:0)+r+n;t[e]=o>>>0,t[e+1]=s},JM.sum64_hi=function(t,e,r,i){return(e+i>>>0<e?1:0)+t+r>>>0},JM.sum64_lo=function(t,e,r,i){return e+i>>>0},JM.sum64_4_hi=function(t,e,r,i,n,s,o,a){var h=0,u=e;return h+=(u=u+i>>>0)<e?1:0,h+=(u=u+s>>>0)<s?1:0,t+r+n+o+(h+=(u=u+a>>>0)<a?1:0)>>>0},JM.sum64_4_lo=function(t,e,r,i,n,s,o,a){return e+i+s+a>>>0},JM.sum64_5_hi=function(t,e,r,i,n,s,o,a,h,u){var f=0,c=e;return f+=(c=c+i>>>0)<e?1:0,f+=(c=c+s>>>0)<s?1:0,f+=(c=c+a>>>0)<a?1:0,t+r+n+o+h+(f+=(c=c+u>>>0)<u?1:0)>>>0},JM.sum64_5_lo=function(t,e,r,i,n,s,o,a,h,u){return e+i+s+a+u>>>0},JM.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},JM.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},JM.shr64_hi=function(t,e,r){return t>>>r},JM.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0};var n_={},s_=JM,o_=WM;function a_(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}n_.BlockHash=a_,a_.prototype.update=function(t,e){if(t=s_.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=s_.join32(t,0,t.length-r,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},a_.prototype.digest=function(t){return this.update(this._pad()),o_(null===this.pending),this._digest(t)},a_.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(t<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=t>>>24&255,i[n++]=t>>>16&255,i[n++]=t>>>8&255,i[n++]=255&t}else for(i[n++]=255&t,i[n++]=t>>>8&255,i[n++]=t>>>16&255,i[n++]=t>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,s=8;s<this.padLength;s++)i[n++]=0;return i};var h_={},u_={},f_=JM.rotr32;function c_(t,e,r){return t&e^~t&r}function l_(t,e,r){return t&e^t&r^e&r}function d_(t,e,r){return t^e^r}u_.ft_1=function(t,e,r,i){return 0===t?c_(e,r,i):1===t||3===t?d_(e,r,i):2===t?l_(e,r,i):void 0},u_.ch32=c_,u_.maj32=l_,u_.p32=d_,u_.s0_256=function(t){return f_(t,2)^f_(t,13)^f_(t,22)},u_.s1_256=function(t){return f_(t,6)^f_(t,11)^f_(t,25)},u_.g0_256=function(t){return f_(t,7)^f_(t,18)^t>>>3},u_.g1_256=function(t){return f_(t,17)^f_(t,19)^t>>>10};var p_=JM,g_=n_,m_=u_,v_=p_.rotl32,y_=p_.sum32,w_=p_.sum32_5,b_=m_.ft_1,A_=g_.BlockHash,E_=[1518500249,1859775393,2400959708,3395469782];function M_(){if(!(this instanceof M_))return new M_;A_.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}p_.inherits(M_,A_);var __=M_;M_.blockSize=512,M_.outSize=160,M_.hmacStrength=80,M_.padLength=64,M_.prototype._update=function(t,e){for(var r=this.W,i=0;i<16;i++)r[i]=t[e+i];for(;i<r.length;i++)r[i]=v_(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],h=this.h[4];for(i=0;i<r.length;i++){var u=~~(i/20),f=w_(v_(n,5),b_(u,s,o,a),h,r[i],E_[u]);h=a,a=o,o=v_(s,30),s=n,n=f}this.h[0]=y_(this.h[0],n),this.h[1]=y_(this.h[1],s),this.h[2]=y_(this.h[2],o),this.h[3]=y_(this.h[3],a),this.h[4]=y_(this.h[4],h)},M_.prototype._digest=function(t){return"hex"===t?p_.toHex32(this.h,"big"):p_.split32(this.h,"big")};var S_=JM,I_=n_,N_=u_,x_=WM,C_=S_.sum32,O_=S_.sum32_4,B_=S_.sum32_5,P_=N_.ch32,R_=N_.maj32,T_=N_.s0_256,k_=N_.s1_256,U_=N_.g0_256,D_=N_.g1_256,F_=I_.BlockHash,L_=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function q_(){if(!(this instanceof q_))return new q_;F_.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=L_,this.W=new Array(64)}S_.inherits(q_,F_);var j_=q_;q_.blockSize=512,q_.outSize=256,q_.hmacStrength=192,q_.padLength=64,q_.prototype._update=function(t,e){for(var r=this.W,i=0;i<16;i++)r[i]=t[e+i];for(;i<r.length;i++)r[i]=O_(D_(r[i-2]),r[i-7],U_(r[i-15]),r[i-16]);var n=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],h=this.h[4],u=this.h[5],f=this.h[6],c=this.h[7];for(x_(this.k.length===r.length),i=0;i<r.length;i++){var l=B_(c,k_(h),P_(h,u,f),this.k[i],r[i]),d=C_(T_(n),R_(n,s,o));c=f,f=u,u=h,h=C_(a,l),a=o,o=s,s=n,n=C_(l,d)}this.h[0]=C_(this.h[0],n),this.h[1]=C_(this.h[1],s),this.h[2]=C_(this.h[2],o),this.h[3]=C_(this.h[3],a),this.h[4]=C_(this.h[4],h),this.h[5]=C_(this.h[5],u),this.h[6]=C_(this.h[6],f),this.h[7]=C_(this.h[7],c)},q_.prototype._digest=function(t){return"hex"===t?S_.toHex32(this.h,"big"):S_.split32(this.h,"big")};var z_=JM,H_=j_;function K_(){if(!(this instanceof K_))return new K_;H_.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}z_.inherits(K_,H_);var Q_=K_;K_.blockSize=512,K_.outSize=224,K_.hmacStrength=192,K_.padLength=64,K_.prototype._digest=function(t){return"hex"===t?z_.toHex32(this.h.slice(0,7),"big"):z_.split32(this.h.slice(0,7),"big")};var G_=JM,Y_=n_,J_=WM,W_=G_.rotr64_hi,V_=G_.rotr64_lo,X_=G_.shr64_hi,Z_=G_.shr64_lo,$_=G_.sum64,tS=G_.sum64_hi,eS=G_.sum64_lo,rS=G_.sum64_4_hi,iS=G_.sum64_4_lo,nS=G_.sum64_5_hi,sS=G_.sum64_5_lo,oS=Y_.BlockHash,aS=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function hS(){if(!(this instanceof hS))return new hS;oS.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=aS,this.W=new Array(160)}G_.inherits(hS,oS);var uS=hS;function fS(t,e,r,i,n){var s=t&r^~t&n;return s<0&&(s+=4294967296),s}function cS(t,e,r,i,n,s){var o=e&i^~e&s;return o<0&&(o+=4294967296),o}function lS(t,e,r,i,n){var s=t&r^t&n^r&n;return s<0&&(s+=4294967296),s}function dS(t,e,r,i,n,s){var o=e&i^e&s^i&s;return o<0&&(o+=4294967296),o}function pS(t,e){var r=W_(t,e,28)^W_(e,t,2)^W_(e,t,7);return r<0&&(r+=4294967296),r}function gS(t,e){var r=V_(t,e,28)^V_(e,t,2)^V_(e,t,7);return r<0&&(r+=4294967296),r}function mS(t,e){var r=W_(t,e,14)^W_(t,e,18)^W_(e,t,9);return r<0&&(r+=4294967296),r}function vS(t,e){var r=V_(t,e,14)^V_(t,e,18)^V_(e,t,9);return r<0&&(r+=4294967296),r}function yS(t,e){var r=W_(t,e,1)^W_(t,e,8)^X_(t,e,7);return r<0&&(r+=4294967296),r}function wS(t,e){var r=V_(t,e,1)^V_(t,e,8)^Z_(t,e,7);return r<0&&(r+=4294967296),r}function bS(t,e){var r=W_(t,e,19)^W_(e,t,29)^X_(t,e,6);return r<0&&(r+=4294967296),r}function AS(t,e){var r=V_(t,e,19)^V_(e,t,29)^Z_(t,e,6);return r<0&&(r+=4294967296),r}hS.blockSize=1024,hS.outSize=512,hS.hmacStrength=192,hS.padLength=128,hS.prototype._prepareBlock=function(t,e){for(var r=this.W,i=0;i<32;i++)r[i]=t[e+i];for(;i<r.length;i+=2){var n=bS(r[i-4],r[i-3]),s=AS(r[i-4],r[i-3]),o=r[i-14],a=r[i-13],h=yS(r[i-30],r[i-29]),u=wS(r[i-30],r[i-29]),f=r[i-32],c=r[i-31];r[i]=rS(n,s,o,a,h,u,f,c),r[i+1]=iS(n,s,o,a,h,u,f,c)}},hS.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,i=this.h[0],n=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],h=this.h[5],u=this.h[6],f=this.h[7],c=this.h[8],l=this.h[9],d=this.h[10],p=this.h[11],g=this.h[12],m=this.h[13],v=this.h[14],y=this.h[15];J_(this.k.length===r.length);for(var w=0;w<r.length;w+=2){var b=v,A=y,E=mS(c,l),M=vS(c,l),_=fS(c,l,d,p,g),S=cS(c,l,d,p,g,m),I=this.k[w],N=this.k[w+1],x=r[w],C=r[w+1],O=nS(b,A,E,M,_,S,I,N,x,C),B=sS(b,A,E,M,_,S,I,N,x,C);b=pS(i,n),A=gS(i,n),E=lS(i,n,s,o,a),M=dS(i,n,s,o,a,h);var P=tS(b,A,E,M),R=eS(b,A,E,M);v=g,y=m,g=d,m=p,d=c,p=l,c=tS(u,f,O,B),l=eS(f,f,O,B),u=a,f=h,a=s,h=o,s=i,o=n,i=tS(O,B,P,R),n=eS(O,B,P,R)}$_(this.h,0,i,n),$_(this.h,2,s,o),$_(this.h,4,a,h),$_(this.h,6,u,f),$_(this.h,8,c,l),$_(this.h,10,d,p),$_(this.h,12,g,m),$_(this.h,14,v,y)},hS.prototype._digest=function(t){return"hex"===t?G_.toHex32(this.h,"big"):G_.split32(this.h,"big")};var ES=JM,MS=uS;function _S(){if(!(this instanceof _S))return new _S;MS.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}ES.inherits(_S,MS);var SS=_S;_S.blockSize=1024,_S.outSize=384,_S.hmacStrength=192,_S.padLength=128,_S.prototype._digest=function(t){return"hex"===t?ES.toHex32(this.h.slice(0,12),"big"):ES.split32(this.h.slice(0,12),"big")},h_.sha1=__,h_.sha224=Q_,h_.sha256=j_,h_.sha384=SS,h_.sha512=uS;var IS={},NS=JM,xS=n_,CS=NS.rotl32,OS=NS.sum32,BS=NS.sum32_3,PS=NS.sum32_4,RS=xS.BlockHash;function TS(){if(!(this instanceof TS))return new TS;RS.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function kS(t,e,r,i){return t<=15?e^r^i:t<=31?e&r|~e&i:t<=47?(e|~r)^i:t<=63?e&i|r&~i:e^(r|~i)}function US(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function DS(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}NS.inherits(TS,RS),IS.ripemd160=TS,TS.blockSize=512,TS.outSize=160,TS.hmacStrength=192,TS.padLength=64,TS.prototype._update=function(t,e){for(var r=this.h[0],i=this.h[1],n=this.h[2],s=this.h[3],o=this.h[4],a=r,h=i,u=n,f=s,c=o,l=0;l<80;l++){var d=OS(CS(PS(r,kS(l,i,n,s),t[FS[l]+e],US(l)),qS[l]),o);r=o,o=s,s=CS(n,10),n=i,i=d,d=OS(CS(PS(a,kS(79-l,h,u,f),t[LS[l]+e],DS(l)),jS[l]),c),a=c,c=f,f=CS(u,10),u=h,h=d}d=BS(this.h[1],n,f),this.h[1]=BS(this.h[2],s,c),this.h[2]=BS(this.h[3],o,a),this.h[3]=BS(this.h[4],r,h),this.h[4]=BS(this.h[0],i,u),this.h[0]=d},TS.prototype._digest=function(t){return"hex"===t?NS.toHex32(this.h,"little"):NS.split32(this.h,"little")};var FS=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],LS=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],qS=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],jS=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],zS=JM,HS=WM;function KS(t,e,r){if(!(this instanceof KS))return new KS(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(zS.toArray(e,r))}var QS=KS;function GS(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(e??r.path)}},t(r,r.exports),r.exports}KS.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),HS(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},KS.prototype.update=function(t,e){return this.inner.update(t,e),this},KS.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},function(t){var e=t;e.utils=JM,e.common=n_,e.sha=h_,e.ripemd=IS,e.hmac=QS,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(YM);var YS=JS;function JS(t,e){if(!t)throw new Error(e||"Assertion failed")}JS.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var WS=GS((function(t,e){var r=e;function i(t){return 1===t.length?"0"+t:t}function n(t){for(var e="",r=0;r<t.length;r++)e+=i(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var i=0;i<t.length;i++)r[i]=0|t[i];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(t="0"+t);for(i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(i=0;i<t.length;i++){var n=t.charCodeAt(i),s=n>>8,o=255&n;s?r.push(s,o):r.push(o)}return r},r.zero2=i,r.toHex=n,r.encode=function(t,e){return"hex"===e?n(t):t}})),VS=GS((function(t,e){var r=e;r.assert=YS,r.toArray=WS.toArray,r.zero2=WS.zero2,r.toHex=WS.toHex,r.encode=WS.encode,r.getNAF=function(t,e,r){var i=new Array(Math.max(t.bitLength(),r)+1);i.fill(0);for(var n=1<<e+1,s=t.clone(),o=0;o<i.length;o++){var a,h=s.andln(n-1);s.isOdd()?(a=h>(n>>1)-1?(n>>1)-h:h,s.isubn(a)):a=0,i[o]=a,s.iushrn(1)}return i},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var i,n=0,s=0;t.cmpn(-n)>0||e.cmpn(-s)>0;){var o,a,h=t.andln(3)+n&3,u=e.andln(3)+s&3;3===h&&(h=-1),3===u&&(u=-1),1&h?o=3!==(i=t.andln(7)+n&7)&&5!==i||2!==u?h:-h:o=0,r[0].push(o),1&u?a=3!==(i=e.andln(7)+s&7)&&5!==i||2!==h?u:-u:a=0,r[1].push(a),2*n===o+1&&(n=1-n),2*s===a+1&&(s=1-s),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var i="_"+e;t.prototype[e]=function(){return void 0!==this[i]?this[i]:this[i]=r.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new rM(t,"hex","le")}})),XS=VS.getNAF,ZS=VS.getJSF,$S=VS.assert;function tI(t,e){this.type=t,this.p=new rM(e.p,16),this.red=e.prime?rM.red(e.prime):rM.mont(this.p),this.zero=new rM(0).toRed(this.red),this.one=new rM(1).toRed(this.red),this.two=new rM(2).toRed(this.red),this.n=e.n&&new rM(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var eI=tI;function rI(t,e){this.curve=t,this.type=e,this.precomputed=null}tI.prototype.point=function(){throw new Error("Not implemented")},tI.prototype.validate=function(){throw new Error("Not implemented")},tI.prototype._fixedNafMul=function(t,e){$S(t.precomputed);var r=t._getDoubles(),i=XS(e,1,this._bitLength),n=(1<<r.step+1)-(r.step%2===0?2:1);n/=3;var s,o,a=[];for(s=0;s<i.length;s+=r.step){o=0;for(var h=s+r.step-1;h>=s;h--)o=(o<<1)+i[h];a.push(o)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),c=n;c>0;c--){for(s=0;s<a.length;s++)(o=a[s])===c?f=f.mixedAdd(r.points[s]):o===-c&&(f=f.mixedAdd(r.points[s].neg()));u=u.add(f)}return u.toP()},tI.prototype._wnafMul=function(t,e){var r=4,i=t._getNAFPoints(r);r=i.wnd;for(var n=i.points,s=XS(e,r,this._bitLength),o=this.jpoint(null,null,null),a=s.length-1;a>=0;a--){for(var h=0;a>=0&&0===s[a];a--)h++;if(a>=0&&h++,o=o.dblp(h),a<0)break;var u=s[a];$S(0!==u),o="affine"===t.type?u>0?o.mixedAdd(n[u-1>>1]):o.mixedAdd(n[-u-1>>1].neg()):u>0?o.add(n[u-1>>1]):o.add(n[-u-1>>1].neg())}return"affine"===t.type?o.toP():o},tI.prototype._wnafMulAdd=function(t,e,r,i,n){var s,o,a,h=this._wnafT1,u=this._wnafT2,f=this._wnafT3,c=0;for(s=0;s<i;s++){var l=(a=e[s])._getNAFPoints(t);h[s]=l.wnd,u[s]=l.points}for(s=i-1;s>=1;s-=2){var d=s-1,p=s;if(1===h[d]&&1===h[p]){var g=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(g[1]=e[d].add(e[p]),g[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(g[1]=e[d].toJ().mixedAdd(e[p]),g[2]=e[d].add(e[p].neg())):(g[1]=e[d].toJ().mixedAdd(e[p]),g[2]=e[d].toJ().mixedAdd(e[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],v=ZS(r[d],r[p]);for(c=Math.max(v[0].length,c),f[d]=new Array(c),f[p]=new Array(c),o=0;o<c;o++){var y=0|v[0][o],w=0|v[1][o];f[d][o]=m[3*(y+1)+(w+1)],f[p][o]=0,u[d]=g}}else f[d]=XS(r[d],h[d],this._bitLength),f[p]=XS(r[p],h[p],this._bitLength),c=Math.max(f[d].length,c),c=Math.max(f[p].length,c)}var b=this.jpoint(null,null,null),A=this._wnafT4;for(s=c;s>=0;s--){for(var E=0;s>=0;){var M=!0;for(o=0;o<i;o++)A[o]=0|f[o][s],0!==A[o]&&(M=!1);if(!M)break;E++,s--}if(s>=0&&E++,b=b.dblp(E),s<0)break;for(o=0;o<i;o++){var _=A[o];0!==_&&(_>0?a=u[o][_-1>>1]:_<0&&(a=u[o][-_-1>>1].neg()),b="affine"===a.type?b.mixedAdd(a):b.add(a))}}for(s=0;s<i;s++)u[s]=null;return n?b:b.toP()},tI.BasePoint=rI,rI.prototype.eq=function(){throw new Error("Not implemented")},rI.prototype.validate=function(){return this.curve.validate(this)},tI.prototype.decodePoint=function(t,e){t=VS.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1===2*r)return 6===t[0]?$S(t[t.length-1]%2===0):7===t[0]&&$S(t[t.length-1]%2===1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},rI.prototype.encodeCompressed=function(t){return this.encode(t,!0)},rI.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},rI.prototype.encode=function(t,e){return VS.encode(this._encode(e),t)},rI.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},rI.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},rI.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<e;n+=t){for(var s=0;s<t;s++)i=i.dbl();r.push(i)}return{step:t,points:r}},rI.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,i=1===r?null:this.dbl(),n=1;n<r;n++)e[n]=e[n-1].add(i);return{wnd:t,points:e}},rI.prototype._getBeta=function(){return null},rI.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var iI=GS((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),nI=VS.assert;function sI(t){eI.call(this,"short",t),this.a=new rM(t.a,16).toRed(this.red),this.b=new rM(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}iI(sI,eI);var oI=sI;function aI(t,e,r,i){eI.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new rM(e,16),this.y=new rM(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function hI(t,e,r,i){eI.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new rM(0)):(this.x=new rM(e,16),this.y=new rM(r,16),this.z=new rM(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}sI.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r,i;if(t.beta)e=new rM(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new rM(t.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(e))?r=s[0]:(r=s[1],nI(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return i=t.basis?t.basis.map((function(t){return{a:new rM(t.a,16),b:new rM(t.b,16)}})):this._getEndoBasis(r),{beta:e,lambda:r,basis:i}}},sI.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:rM.mont(t),r=new rM(2).toRed(e).redInvm(),i=r.redNeg(),n=new rM(3).toRed(e).redNeg().redSqrt().redMul(r);return[i.redAdd(n).fromRed(),i.redSub(n).fromRed()]},sI.prototype._getEndoBasis=function(t){for(var e,r,i,n,s,o,a,h,u,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),c=t,l=this.n.clone(),d=new rM(1),p=new rM(0),g=new rM(0),m=new rM(1),v=0;0!==c.cmpn(0);){var y=l.div(c);h=l.sub(y.mul(c)),u=g.sub(y.mul(d));var w=m.sub(y.mul(p));if(!i&&h.cmp(f)<0)e=a.neg(),r=d,i=h.neg(),n=u;else if(i&&2===++v)break;a=h,l=c,c=h,g=d,d=u,m=p,p=w}s=h.neg(),o=u;var b=i.sqr().add(n.sqr());return s.sqr().add(o.sqr()).cmp(b)>=0&&(s=e,o=r),i.negative&&(i=i.neg(),n=n.neg()),s.negative&&(s=s.neg(),o=o.neg()),[{a:i,b:n},{a:s,b:o}]},sI.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],i=e[1],n=i.b.mul(t).divRound(this.n),s=r.b.neg().mul(t).divRound(this.n),o=n.mul(r.a),a=s.mul(i.a),h=n.mul(r.b),u=s.mul(i.b);return{k1:t.sub(o).sub(a),k2:h.add(u).neg()}},sI.prototype.pointFromX=function(t,e){(t=new rM(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(0!==i.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var n=i.fromRed().isOdd();return(e&&!n||!e&&n)&&(i=i.redNeg()),this.point(t,i)},sI.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,i=this.a.redMul(e),n=e.redSqr().redMul(e).redIAdd(i).redIAdd(this.b);return 0===r.redSqr().redISub(n).cmpn(0)},sI.prototype._endoWnafMulAdd=function(t,e,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(e[s]),a=t[s],h=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),h=h.neg(!0)),i[2*s]=a,i[2*s+1]=h,n[2*s]=o.k1,n[2*s+1]=o.k2}for(var u=this._wnafMulAdd(1,i,n,2*s,r),f=0;f<2*s;f++)i[f]=null,n[f]=null;return u},iI(aI,eI.BasePoint),sI.prototype.point=function(t,e,r){return new aI(this,t,e,r)},sI.prototype.pointFromJSON=function(t,e){return aI.fromJSON(this,t,e)},aI.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,i=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return e}},aI.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},aI.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var i=t.point(e[0],e[1],r);if(!e[2])return i;function n(e){return t.point(e[0],e[1],r)}var s=e[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(n))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(n))}},i},aI.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},aI.prototype.isInfinity=function(){return this.inf},aI.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),i=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},aI.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),i=t.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(i),s=n.redSqr().redISub(this.x.redAdd(this.x)),o=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},aI.prototype.getX=function(){return this.x.fromRed()},aI.prototype.getY=function(){return this.y.fromRed()},aI.prototype.mul=function(t){return t=new rM(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},aI.prototype.mulAdd=function(t,e,r){var i=[this,e],n=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},aI.prototype.jmulAdd=function(t,e,r){var i=[this,e],n=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},aI.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},aI.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,i=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return e},aI.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},iI(hI,eI.BasePoint),sI.prototype.jpoint=function(t,e,r){return new hI(this,t,e,r)},hI.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),i=this.y.redMul(e).redMul(t);return this.curve.point(r,i)},hI.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},hI.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(e),n=t.x.redMul(r),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(r.redMul(this.z)),a=i.redSub(n),h=s.redSub(o);if(0===a.cmpn(0))return 0!==h.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),f=u.redMul(a),c=i.redMul(u),l=h.redSqr().redIAdd(f).redISub(c).redISub(c),d=h.redMul(c.redISub(l)).redISub(s.redMul(f)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(l,d,p)},hI.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,i=t.x.redMul(e),n=this.y,s=t.y.redMul(e).redMul(this.z),o=r.redSub(i),a=n.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=o.redSqr(),u=h.redMul(o),f=r.redMul(h),c=a.redSqr().redIAdd(u).redISub(f).redISub(f),l=a.redMul(f.redISub(c)).redISub(n.redMul(u)),d=this.z.redMul(o);return this.curve.jpoint(c,l,d)},hI.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,s=this.x,o=this.y,a=this.z,h=a.redSqr().redSqr(),u=o.redAdd(o);for(e=0;e<t;e++){var f=s.redSqr(),c=u.redSqr(),l=c.redSqr(),d=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(h)),p=s.redMul(c),g=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),v=d.redMul(m);v=v.redIAdd(v).redISub(l);var y=u.redMul(a);e+1<t&&(h=h.redMul(l)),s=g,a=y,u=v}return this.curve.jpoint(s,u.redMul(n),a)},hI.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},hI.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i),h=a.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),t=h,e=a.redMul(o.redISub(h)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),c=this.y.redSqr(),l=c.redSqr(),d=this.x.redAdd(c).redSqr().redISub(f).redISub(l);d=d.redIAdd(d);var p=f.redAdd(f).redIAdd(f),g=p.redSqr(),m=l.redIAdd(l);m=(m=m.redIAdd(m)).redIAdd(m),t=g.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},hI.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),h=a.redSqr().redISub(o).redISub(o);t=h;var u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),e=a.redMul(o.redISub(h)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),c=this.y.redSqr(),l=this.x.redMul(c),d=this.x.redSub(f).redMul(this.x.redAdd(f));d=d.redAdd(d).redIAdd(d);var p=l.redIAdd(l),g=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(c).redISub(f);var m=c.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),e=d.redMul(p.redISub(t)).redISub(m)}return this.curve.jpoint(t,e,r)},hI.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),s=e.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(n)),h=e.redAdd(e),u=(h=h.redIAdd(h)).redMul(o),f=a.redSqr().redISub(u.redAdd(u)),c=u.redISub(f),l=o.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=a.redMul(c).redISub(l),p=r.redAdd(r).redMul(i);return this.curve.jpoint(f,d,p)},hI.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),i=e.redSqr(),n=t.redAdd(t).redIAdd(t),s=n.redSqr(),o=this.x.redAdd(e).redSqr().redISub(t).redISub(i),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),h=i.redIAdd(i);h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var u=n.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(h),f=e.redMul(u);f=(f=f.redIAdd(f)).redIAdd(f);var c=this.x.redMul(a).redISub(f);c=(c=c.redIAdd(c)).redIAdd(c);var l=this.y.redMul(u.redMul(h.redISub(u)).redISub(o.redMul(a)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(c,l,d)},hI.prototype.mul=function(t,e){return t=new rM(t,e),this.curve._wnafMul(this,t)},hI.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var i=e.redMul(this.z),n=r.redMul(t.z);return 0===this.y.redMul(n).redISub(t.y.redMul(i)).cmpn(0)},hI.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var i=t.clone(),n=this.curve.redN.redMul(e);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),0===this.x.cmp(r))return!0}},hI.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},hI.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var uI=GS((function(t,e){var r=e;r.base=eI,r.short=oI,r.mont=null,r.edwards=null})),fI=GS((function(t,e){var r,i=e,n=VS.assert;function s(t){"short"===t.type?this.curve=new uI.short(t):"edwards"===t.type?this.curve=new uI.edwards(t):this.curve=new uI.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var r=new s(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=s,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:YM.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:YM.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:YM.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:YM.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:YM.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:YM.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:YM.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch{r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:YM.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function cI(t){if(!(this instanceof cI))return new cI(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=WS.toArray(t.entropy,t.entropyEnc||"hex"),r=WS.toArray(t.nonce,t.nonceEnc||"hex"),i=WS.toArray(t.pers,t.persEnc||"hex");YS(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,i)}var lI=cI;cI.prototype._init=function(t,e,r){var i=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},cI.prototype._hmac=function(){return new YM.hmac(this.hash,this.K)},cI.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},cI.prototype.reseed=function(t,e,r,i){"string"!=typeof e&&(i=r,r=e,e=null),t=WS.toArray(t,e),r=WS.toArray(r,i),YS(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},cI.prototype.generate=function(t,e,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(i=r,r=e,e=null),r&&(r=WS.toArray(r,i||"hex"),this._update(r));for(var n=[];n.length<t;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var s=n.slice(0,t);return this._update(r),this._reseed++,WS.encode(s,e)};var dI=VS.assert;function pI(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var gI=pI;pI.fromPublic=function(t,e,r){return e instanceof pI?e:new pI(t,{pub:e,pubEnc:r})},pI.fromPrivate=function(t,e,r){return e instanceof pI?e:new pI(t,{priv:e,privEnc:r})},pI.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},pI.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},pI.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},pI.prototype._importPrivate=function(t,e){this.priv=new rM(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},pI.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?dI(t.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&dI(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},pI.prototype.derive=function(t){return t.validate()||dI(t.validate(),"public point not validated"),t.mul(this.priv).getX()},pI.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},pI.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},pI.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var mI=VS.assert;function vI(t,e){if(t instanceof vI)return t;this._importDER(t,e)||(mI(t.r&&t.s,"Signature without r or s"),this.r=new rM(t.r,16),this.s=new rM(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var yI=vI;function wI(){this.place=0}function bI(t,e){var r=t[e.place++];if(!(128&r))return r;var i=15&r;if(0===i||i>4)return!1;for(var n=0,s=0,o=e.place;s<i;s++,o++)n<<=8,n|=t[o],n>>>=0;return!(n<=127)&&(e.place=o,n)}function AI(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function EI(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}vI.prototype._importDER=function(t,e){t=VS.toArray(t,e);var r=new wI;if(48!==t[r.place++])return!1;var i=bI(t,r);if(!1===i||i+r.place!==t.length||2!==t[r.place++])return!1;var n=bI(t,r);if(!1===n)return!1;var s=t.slice(r.place,n+r.place);if(r.place+=n,2!==t[r.place++])return!1;var o=bI(t,r);if(!1===o||t.length!==o+r.place)return!1;var a=t.slice(r.place,o+r.place);if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new rM(s),this.s=new rM(a),this.recoveryParam=null,!0},vI.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=AI(e),r=AI(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var i=[2];EI(i,e.length),(i=i.concat(e)).push(2),EI(i,r.length);var n=i.concat(r),s=[48];return EI(s,n.length),s=s.concat(n),VS.encode(s,t)};var MI=function(){throw new Error("unsupported")},_I=VS.assert;function SI(t){if(!(this instanceof SI))return new SI(t);"string"==typeof t&&(_I(Object.prototype.hasOwnProperty.call(fI,t),"Unknown curve "+t),t=fI[t]),t instanceof fI.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var II=SI;SI.prototype.keyPair=function(t){return new gI(this,t)},SI.prototype.keyFromPrivate=function(t,e){return gI.fromPrivate(this,t,e)},SI.prototype.keyFromPublic=function(t,e){return gI.fromPublic(this,t,e)},SI.prototype.genKeyPair=function(t){t||(t={});for(var e=new lI({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||MI(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new rM(2));;){var n=new rM(e.generate(r));if(!(n.cmp(i)>0))return n.iaddn(1),this.keyFromPrivate(n)}},SI.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},SI.prototype.sign=function(t,e,r,i){"object"==typeof r&&(i=r,r=null),i||(i={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new rM(t,16));for(var n=this.n.byteLength(),s=e.getPrivate().toArray("be",n),o=t.toArray("be",n),a=new lI({hash:this.hash,entropy:s,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),h=this.n.sub(new rM(1)),u=0;;u++){var f=i.k?i.k(u):new rM(a.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(h)>=0)){var c=this.g.mul(f);if(!c.isInfinity()){var l=c.getX(),d=l.umod(this.n);if(0!==d.cmpn(0)){var p=f.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var g=(c.getY().isOdd()?1:0)|(0!==l.cmp(d)?2:0);return i.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),g^=1),new yI({r:d,s:p,recoveryParam:g})}}}}}},SI.prototype.verify=function(t,e,r,i){t=this._truncateToN(new rM(t,16)),r=this.keyFromPublic(r,i);var n=(e=new yI(e,"hex")).r,s=e.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o,a=s.invm(this.n),h=a.mul(t).umod(this.n),u=a.mul(n).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(h,r.getPublic(),u)).isInfinity()&&o.eqXToP(n):!(o=this.g.mulAdd(h,r.getPublic(),u)).isInfinity()&&0===o.getX().umod(this.n).cmp(n)},SI.prototype.recoverPubKey=function(t,e,r,i){_I((3&r)===r,"The recovery param is more than two bits"),e=new yI(e,i);var n=this.n,s=new rM(t),o=e.r,a=e.s,h=1&r,u=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");o=u?this.curve.pointFromX(o.add(this.curve.n),h):this.curve.pointFromX(o,h);var f=e.r.invm(n),c=n.sub(s).mul(f).umod(n),l=a.mul(f).umod(n);return this.g.mulAdd(c,o,l)},SI.prototype.getKeyRecoveryParam=function(t,e,r,i){if(null!==(e=new yI(e,i)).recoveryParam)return e.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(t,e,n)}catch{continue}if(s.eq(r))return n}throw new Error("Unable to find valid recovery factor")};var NI=GS((function(t,e){var r=e;r.version="6.5.4",r.utils=VS,r.rand=function(){throw new Error("unsupported")},r.curve=uI,r.curves=fI,r.ec=II,r.eddsa=null}));NI.ec;new HE("signing-key/5.7.0");var xI;new HE("transactions/5.7.0"),function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(xI||(xI={}));Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function CI(t){return t.includes(":")}function OI(t){return CI(t)?t.split(":")[0]:t}const BI={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function PI(t,e){const{message:r,code:i}=BI[t];return{message:e?`${r} ${e}`:r,code:i}}function RI(t,e){return!!Array.isArray(t)&&(!(typeof e<"u"&&t.length)||t.every(e))}function TI(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}var kI=r(2980),UI=r.n(kI),DI=Object.defineProperty,FI=Object.defineProperties,LI=Object.getOwnPropertyDescriptors,qI=Object.getOwnPropertySymbols,jI=Object.prototype.hasOwnProperty,zI=Object.prototype.propertyIsEnumerable,HI=(t,e,r)=>e in t?DI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,KI=(t,e)=>{for(var r in e||(e={}))jI.call(e,r)&&HI(t,r,e[r]);if(qI)for(var r of qI(e))zI.call(e,r)&&HI(t,r,e[r]);return t},QI=(t,e)=>FI(t,LI(e));const GI={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class YI{constructor(t,e=!1){if(this.url=t,this.disableProviderPing=e,this.events=new v.EventEmitter,this.isAvailable=!1,this.registering=!1,!Kl(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=e}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t){this.isAvailable||await this.register();try{const e=Ns(t),r=await(await UI()(this.url,QI(KI({},GI),{body:e}))).json();this.onPayload({data:r})}catch(e){this.onError(t.id,e)}}async register(t=this.url){if(!Kl(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise(((t,e)=>{this.events.once("register_error",(t=>{this.resetMaxListeners(),e(t)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return e(new Error("HTTP connection is missing or invalid"));t()}))}))}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const e=Ns({id:1,jsonrpc:"2.0",method:"test",params:[]});await UI()(t,QI(KI({},GI),{body:e}))}this.onOpen()}catch(e){const t=this.parseError(e);throw this.events.emit("register_error",t),this.onClose(),t}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;const e="string"==typeof t.data?Is(t.data):t.data;this.events.emit("payload",e)}onError(t,e){const r=this.parseError(e),i=Fl(t,r.message||r.toString());this.events.emit("payload",i)}parseError(t,e=this.url){return Pl(t,e,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}const JI="error",WI="wc@2:universal_provider:",VI="generic",XI="default_chain_changed";var ZI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof r.g<"u"?r.g:typeof self<"u"?self:{},$I={exports:{}};!function(t,e){(function(){var r,i="Expected a function",n="__lodash_hash_undefined__",s="__lodash_placeholder__",o=16,a=32,h=64,u=128,f=256,c=1/0,l=9007199254740991,d=NaN,p=4294967295,g=p-1,m=p>>>1,v=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",o],["flip",512],["partial",a],["partialRight",h],["rearg",f]],y="[object Arguments]",w="[object Array]",b="[object Boolean]",A="[object Date]",E="[object Error]",M="[object Function]",_="[object GeneratorFunction]",S="[object Map]",I="[object Number]",N="[object Object]",x="[object Promise]",C="[object RegExp]",O="[object Set]",B="[object String]",P="[object Symbol]",R="[object WeakMap]",T="[object ArrayBuffer]",k="[object DataView]",U="[object Float32Array]",D="[object Float64Array]",F="[object Int8Array]",L="[object Int16Array]",q="[object Int32Array]",j="[object Uint8Array]",z="[object Uint8ClampedArray]",H="[object Uint16Array]",K="[object Uint32Array]",Q=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,J=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,V=RegExp(J.source),X=RegExp(W.source),Z=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rt=/^\w*$/,it=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nt=/[\\^$.*+?()[\]{}|]/g,st=RegExp(nt.source),ot=/^\s+/,at=/\s/,ht=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ut=/\{\n\/\* \[wrapped with (.+)\] \*/,ft=/,? & /,ct=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lt=/[()=,{}\[\]\/\s]/,dt=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gt=/\w*$/,mt=/^[-+]0x[0-9a-f]+$/i,vt=/^0b[01]+$/i,yt=/^\[object .+?Constructor\]$/,wt=/^0o[0-7]+$/i,bt=/^(?:0|[1-9]\d*)$/,At=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Et=/($^)/,Mt=/['\n\r\u2028\u2029\\]/g,_t="\\ud800-\\udfff",St="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",It="\\u2700-\\u27bf",Nt="a-z\\xdf-\\xf6\\xf8-\\xff",xt="A-Z\\xc0-\\xd6\\xd8-\\xde",Ct="\\ufe0e\\ufe0f",Ot="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Bt="['\u2019]",Pt="["+_t+"]",Rt="["+Ot+"]",Tt="["+St+"]",kt="\\d+",Ut="["+It+"]",Dt="["+Nt+"]",Ft="[^"+_t+Ot+kt+It+Nt+xt+"]",Lt="\\ud83c[\\udffb-\\udfff]",qt="[^"+_t+"]",jt="(?:\\ud83c[\\udde6-\\uddff]){2}",zt="[\\ud800-\\udbff][\\udc00-\\udfff]",Ht="["+xt+"]",Kt="\\u200d",Qt="(?:"+Dt+"|"+Ft+")",Gt="(?:"+Ht+"|"+Ft+")",Yt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Jt="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Wt="(?:"+Tt+"|"+Lt+")"+"?",Vt="["+Ct+"]?",Xt=Vt+Wt+("(?:"+Kt+"(?:"+[qt,jt,zt].join("|")+")"+Vt+Wt+")*"),Zt="(?:"+[Ut,jt,zt].join("|")+")"+Xt,$t="(?:"+[qt+Tt+"?",Tt,jt,zt,Pt].join("|")+")",te=RegExp(Bt,"g"),ee=RegExp(Tt,"g"),re=RegExp(Lt+"(?="+Lt+")|"+$t+Xt,"g"),ie=RegExp([Ht+"?"+Dt+"+"+Yt+"(?="+[Rt,Ht,"$"].join("|")+")",Gt+"+"+Jt+"(?="+[Rt,Ht+Qt,"$"].join("|")+")",Ht+"?"+Qt+"+"+Yt,Ht+"+"+Jt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kt,Zt].join("|"),"g"),ne=RegExp("["+Kt+_t+St+Ct+"]"),se=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,oe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ae=-1,he={};he[U]=he[D]=he[F]=he[L]=he[q]=he[j]=he[z]=he[H]=he[K]=!0,he[y]=he[w]=he[T]=he[b]=he[k]=he[A]=he[E]=he[M]=he[S]=he[I]=he[N]=he[C]=he[O]=he[B]=he[R]=!1;var ue={};ue[y]=ue[w]=ue[T]=ue[k]=ue[b]=ue[A]=ue[U]=ue[D]=ue[F]=ue[L]=ue[q]=ue[S]=ue[I]=ue[N]=ue[C]=ue[O]=ue[B]=ue[P]=ue[j]=ue[z]=ue[H]=ue[K]=!0,ue[E]=ue[M]=ue[R]=!1;var fe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ce=parseFloat,le=parseInt,de="object"==typeof ZI&&ZI&&ZI.Object===Object&&ZI,pe="object"==typeof self&&self&&self.Object===Object&&self,ge=de||pe||Function("return this")(),me=e&&!e.nodeType&&e,ve=me&&t&&!t.nodeType&&t,ye=ve&&ve.exports===me,we=ye&&de.process,be=function(){try{return ve&&ve.require&&ve.require("util").types||we&&we.binding&&we.binding("util")}catch{}}(),Ae=be&&be.isArrayBuffer,Ee=be&&be.isDate,Me=be&&be.isMap,_e=be&&be.isRegExp,Se=be&&be.isSet,Ie=be&&be.isTypedArray;function Ne(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function xe(t,e,r,i){for(var n=-1,s=null==t?0:t.length;++n<s;){var o=t[n];e(i,o,r(o),t)}return i}function Ce(t,e){for(var r=-1,i=null==t?0:t.length;++r<i&&!1!==e(t[r],r,t););return t}function Oe(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function Be(t,e){for(var r=-1,i=null==t?0:t.length;++r<i;)if(!e(t[r],r,t))return!1;return!0}function Pe(t,e){for(var r=-1,i=null==t?0:t.length,n=0,s=[];++r<i;){var o=t[r];e(o,r,t)&&(s[n++]=o)}return s}function Re(t,e){return!!(null==t?0:t.length)&&He(t,e,0)>-1}function Te(t,e,r){for(var i=-1,n=null==t?0:t.length;++i<n;)if(r(e,t[i]))return!0;return!1}function ke(t,e){for(var r=-1,i=null==t?0:t.length,n=Array(i);++r<i;)n[r]=e(t[r],r,t);return n}function Ue(t,e){for(var r=-1,i=e.length,n=t.length;++r<i;)t[n+r]=e[r];return t}function De(t,e,r,i){var n=-1,s=null==t?0:t.length;for(i&&s&&(r=t[++n]);++n<s;)r=e(r,t[n],n,t);return r}function Fe(t,e,r,i){var n=null==t?0:t.length;for(i&&n&&(r=t[--n]);n--;)r=e(r,t[n],n,t);return r}function Le(t,e){for(var r=-1,i=null==t?0:t.length;++r<i;)if(e(t[r],r,t))return!0;return!1}var qe=Ye("length");function je(t,e,r){var i;return r(t,(function(t,r,n){if(e(t,r,n))return i=r,!1})),i}function ze(t,e,r,i){for(var n=t.length,s=r+(i?1:-1);i?s--:++s<n;)if(e(t[s],s,t))return s;return-1}function He(t,e,r){return e===e?function(t,e,r){for(var i=r-1,n=t.length;++i<n;)if(t[i]===e)return i;return-1}(t,e,r):ze(t,Qe,r)}function Ke(t,e,r,i){for(var n=r-1,s=t.length;++n<s;)if(i(t[n],e))return n;return-1}function Qe(t){return t!==t}function Ge(t,e){var r=null==t?0:t.length;return r?Ve(t,e)/r:d}function Ye(t){return function(e){return null==e?r:e[t]}}function Je(t){return function(e){return null==t?r:t[e]}}function We(t,e,r,i,n){return n(t,(function(t,n,s){r=i?(i=!1,t):e(r,t,n,s)})),r}function Ve(t,e){for(var i,n=-1,s=t.length;++n<s;){var o=e(t[n]);o!==r&&(i=i===r?o:i+o)}return i}function Xe(t,e){for(var r=-1,i=Array(t);++r<t;)i[r]=e(r);return i}function Ze(t){return t&&t.slice(0,pr(t)+1).replace(ot,"")}function $e(t){return function(e){return t(e)}}function tr(t,e){return ke(e,(function(e){return t[e]}))}function er(t,e){return t.has(e)}function rr(t,e){for(var r=-1,i=t.length;++r<i&&He(e,t[r],0)>-1;);return r}function ir(t,e){for(var r=t.length;r--&&He(e,t[r],0)>-1;);return r}var nr=Je({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),sr=Je({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function or(t){return"\\"+fe[t]}function ar(t){return ne.test(t)}function hr(t){var e=-1,r=Array(t.size);return t.forEach((function(t,i){r[++e]=[i,t]})),r}function ur(t,e){return function(r){return t(e(r))}}function fr(t,e){for(var r=-1,i=t.length,n=0,o=[];++r<i;){var a=t[r];(a===e||a===s)&&(t[r]=s,o[n++]=r)}return o}function cr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}function lr(t){return ar(t)?function(t){for(var e=re.lastIndex=0;re.test(t);)++e;return e}(t):qe(t)}function dr(t){return ar(t)?function(t){return t.match(re)||[]}(t):function(t){return t.split("")}(t)}function pr(t){for(var e=t.length;e--&&at.test(t.charAt(e)););return e}var gr=Je({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mr=function t(e){var at,_t=(e=null==e?ge:mr.defaults(ge.Object(),e,mr.pick(ge,oe))).Array,St=e.Date,It=e.Error,Nt=e.Function,xt=e.Math,Ct=e.Object,Ot=e.RegExp,Bt=e.String,Pt=e.TypeError,Rt=_t.prototype,Tt=Nt.prototype,kt=Ct.prototype,Ut=e["__core-js_shared__"],Dt=Tt.toString,Ft=kt.hasOwnProperty,Lt=0,qt=(at=/[^.]+$/.exec(Ut&&Ut.keys&&Ut.keys.IE_PROTO||""))?"Symbol(src)_1."+at:"",jt=kt.toString,zt=Dt.call(Ct),Ht=ge._,Kt=Ot("^"+Dt.call(Ft).replace(nt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qt=ye?e.Buffer:r,Gt=e.Symbol,Yt=e.Uint8Array,Jt=Qt?Qt.allocUnsafe:r,Wt=ur(Ct.getPrototypeOf,Ct),Vt=Ct.create,Xt=kt.propertyIsEnumerable,Zt=Rt.splice,$t=Gt?Gt.isConcatSpreadable:r,re=Gt?Gt.iterator:r,ne=Gt?Gt.toStringTag:r,fe=function(){try{var t=ds(Ct,"defineProperty");return t({},"",{}),t}catch{}}(),de=e.clearTimeout!==ge.clearTimeout&&e.clearTimeout,pe=St&&St.now!==ge.Date.now&&St.now,me=e.setTimeout!==ge.setTimeout&&e.setTimeout,ve=xt.ceil,we=xt.floor,be=Ct.getOwnPropertySymbols,qe=Qt?Qt.isBuffer:r,Je=e.isFinite,vr=Rt.join,yr=ur(Ct.keys,Ct),wr=xt.max,br=xt.min,Ar=St.now,Er=e.parseInt,Mr=xt.random,_r=Rt.reverse,Sr=ds(e,"DataView"),Ir=ds(e,"Map"),Nr=ds(e,"Promise"),xr=ds(e,"Set"),Cr=ds(e,"WeakMap"),Or=ds(Ct,"create"),Br=Cr&&new Cr,Pr={},Rr=Ls(Sr),Tr=Ls(Ir),kr=Ls(Nr),Ur=Ls(xr),Dr=Ls(Cr),Fr=Gt?Gt.prototype:r,Lr=Fr?Fr.valueOf:r,qr=Fr?Fr.toString:r;function jr(t){if(ia(t)&&!Go(t)&&!(t instanceof Qr)){if(t instanceof Kr)return t;if(Ft.call(t,"__wrapped__"))return qs(t)}return new Kr(t)}var zr=function(){function t(){}return function(e){if(!ra(e))return{};if(Vt)return Vt(e);t.prototype=e;var i=new t;return t.prototype=r,i}}();function Hr(){}function Kr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function Qr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function Gr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function Yr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function Jr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function Wr(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Jr;++e<r;)this.add(t[e])}function Vr(t){var e=this.__data__=new Yr(t);this.size=e.size}function Xr(t,e){var r=Go(t),i=!r&&Qo(t),n=!r&&!i&&Vo(t),s=!r&&!i&&!n&&ca(t),o=r||i||n||s,a=o?Xe(t.length,Bt):[],h=a.length;for(var u in t)(e||Ft.call(t,u))&&(!o||!("length"==u||n&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||bs(u,h)))&&a.push(u);return a}function Zr(t){var e=t.length;return e?t[Wi(0,e-1)]:r}function $r(t,e){return Us(Bn(t),hi(e,0,t.length))}function ti(t){return Us(Bn(t))}function ei(t,e,i){(i!==r&&!zo(t[e],i)||i===r&&!(e in t))&&oi(t,e,i)}function ri(t,e,i){var n=t[e];(!Ft.call(t,e)||!zo(n,i)||i===r&&!(e in t))&&oi(t,e,i)}function ii(t,e){for(var r=t.length;r--;)if(zo(t[r][0],e))return r;return-1}function ni(t,e,r,i){return di(t,(function(t,n,s){e(i,t,r(t),s)})),i}function si(t,e){return t&&Pn(e,Ra(e),t)}function oi(t,e,r){"__proto__"==e&&fe?fe(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function ai(t,e){for(var i=-1,n=e.length,s=_t(n),o=null==t;++i<n;)s[i]=o?r:xa(t,e[i]);return s}function hi(t,e,i){return t===t&&(i!==r&&(t=t<=i?t:i),e!==r&&(t=t>=e?t:e)),t}function ui(t,e,i,n,s,o){var a,h=1&e,u=2&e,f=4&e;if(i&&(a=s?i(t,n,s,o):i(t)),a!==r)return a;if(!ra(t))return t;var c=Go(t);if(c){if(a=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Ft.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!h)return Bn(t,a)}else{var l=ms(t),d=l==M||l==_;if(Vo(t))return Sn(t,h);if(l==N||l==y||d&&!s){if(a=u||d?{}:ys(t),!h)return u?function(t,e){return Pn(t,gs(t),e)}(t,function(t,e){return t&&Pn(e,Ta(e),t)}(a,t)):function(t,e){return Pn(t,ps(t),e)}(t,si(a,t))}else{if(!ue[l])return s?t:{};a=function(t,e,r){var i=t.constructor;switch(e){case T:return In(t);case b:case A:return new i(+t);case k:return function(t,e){var r=e?In(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case U:case D:case F:case L:case q:case j:case z:case H:case K:return Nn(t,r);case S:return new i;case I:case B:return new i(t);case C:return function(t){var e=new t.constructor(t.source,gt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case O:return new i;case P:return function(t){return Lr?Ct(Lr.call(t)):{}}(t)}}(t,l,h)}}o||(o=new Vr);var p=o.get(t);if(p)return p;o.set(t,a),ha(t)?t.forEach((function(r){a.add(ui(r,e,i,r,t,o))})):na(t)&&t.forEach((function(r,n){a.set(n,ui(r,e,i,n,t,o))}));var g=c?r:(f?u?os:ss:u?Ta:Ra)(t);return Ce(g||t,(function(r,n){g&&(r=t[n=r]),ri(a,n,ui(r,e,i,n,t,o))})),a}function fi(t,e,i){var n=i.length;if(null==t)return!n;for(t=Ct(t);n--;){var s=i[n],o=e[s],a=t[s];if(a===r&&!(s in t)||!o(a))return!1}return!0}function ci(t,e,n){if("function"!=typeof t)throw new Pt(i);return Ps((function(){t.apply(r,n)}),e)}function li(t,e,r,i){var n=-1,s=Re,o=!0,a=t.length,h=[],u=e.length;if(!a)return h;r&&(e=ke(e,$e(r))),i?(s=Te,o=!1):e.length>=200&&(s=er,o=!1,e=new Wr(e));t:for(;++n<a;){var f=t[n],c=null==r?f:r(f);if(f=i||0!==f?f:0,o&&c===c){for(var l=u;l--;)if(e[l]===c)continue t;h.push(f)}else s(e,c,i)||h.push(f)}return h}jr.templateSettings={escape:Z,evaluate:$,interpolate:tt,variable:"",imports:{_:jr}},jr.prototype=Hr.prototype,jr.prototype.constructor=jr,Kr.prototype=zr(Hr.prototype),Kr.prototype.constructor=Kr,Qr.prototype=zr(Hr.prototype),Qr.prototype.constructor=Qr,Gr.prototype.clear=function(){this.__data__=Or?Or(null):{},this.size=0},Gr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Gr.prototype.get=function(t){var e=this.__data__;if(Or){var i=e[t];return i===n?r:i}return Ft.call(e,t)?e[t]:r},Gr.prototype.has=function(t){var e=this.__data__;return Or?e[t]!==r:Ft.call(e,t)},Gr.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Or&&e===r?n:e,this},Yr.prototype.clear=function(){this.__data__=[],this.size=0},Yr.prototype.delete=function(t){var e=this.__data__,r=ii(e,t);return!(r<0)&&(r==e.length-1?e.pop():Zt.call(e,r,1),--this.size,!0)},Yr.prototype.get=function(t){var e=this.__data__,i=ii(e,t);return i<0?r:e[i][1]},Yr.prototype.has=function(t){return ii(this.__data__,t)>-1},Yr.prototype.set=function(t,e){var r=this.__data__,i=ii(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this},Jr.prototype.clear=function(){this.size=0,this.__data__={hash:new Gr,map:new(Ir||Yr),string:new Gr}},Jr.prototype.delete=function(t){var e=cs(this,t).delete(t);return this.size-=e?1:0,e},Jr.prototype.get=function(t){return cs(this,t).get(t)},Jr.prototype.has=function(t){return cs(this,t).has(t)},Jr.prototype.set=function(t,e){var r=cs(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this},Wr.prototype.add=Wr.prototype.push=function(t){return this.__data__.set(t,n),this},Wr.prototype.has=function(t){return this.__data__.has(t)},Vr.prototype.clear=function(){this.__data__=new Yr,this.size=0},Vr.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Vr.prototype.get=function(t){return this.__data__.get(t)},Vr.prototype.has=function(t){return this.__data__.has(t)},Vr.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Yr){var i=r.__data__;if(!Ir||i.length<199)return i.push([t,e]),this.size=++r.size,this;r=this.__data__=new Jr(i)}return r.set(t,e),this.size=r.size,this};var di=kn(Ai),pi=kn(Ei,!0);function gi(t,e){var r=!0;return di(t,(function(t,i,n){return r=!!e(t,i,n)})),r}function mi(t,e,i){for(var n=-1,s=t.length;++n<s;){var o=t[n],a=e(o);if(null!=a&&(h===r?a===a&&!fa(a):i(a,h)))var h=a,u=o}return u}function vi(t,e){var r=[];return di(t,(function(t,i,n){e(t,i,n)&&r.push(t)})),r}function yi(t,e,r,i,n){var s=-1,o=t.length;for(r||(r=ws),n||(n=[]);++s<o;){var a=t[s];e>0&&r(a)?e>1?yi(a,e-1,r,i,n):Ue(n,a):i||(n[n.length]=a)}return n}var wi=Un(),bi=Un(!0);function Ai(t,e){return t&&wi(t,e,Ra)}function Ei(t,e){return t&&bi(t,e,Ra)}function Mi(t,e){return Pe(e,(function(e){return $o(t[e])}))}function _i(t,e){for(var i=0,n=(e=An(e,t)).length;null!=t&&i<n;)t=t[Fs(e[i++])];return i&&i==n?t:r}function Si(t,e,r){var i=e(t);return Go(t)?i:Ue(i,r(t))}function Ii(t){return null==t?t===r?"[object Undefined]":"[object Null]":ne&&ne in Ct(t)?function(t){var e=Ft.call(t,ne),i=t[ne];try{t[ne]=r;var n=!0}catch{}var s=jt.call(t);return n&&(e?t[ne]=i:delete t[ne]),s}(t):function(t){return jt.call(t)}(t)}function Ni(t,e){return t>e}function xi(t,e){return null!=t&&Ft.call(t,e)}function Ci(t,e){return null!=t&&e in Ct(t)}function Oi(t,e,i){for(var n=i?Te:Re,s=t[0].length,o=t.length,a=o,h=_t(o),u=1/0,f=[];a--;){var c=t[a];a&&e&&(c=ke(c,$e(e))),u=br(c.length,u),h[a]=!i&&(e||s>=120&&c.length>=120)?new Wr(a&&c):r}c=t[0];var l=-1,d=h[0];t:for(;++l<s&&f.length<u;){var p=c[l],g=e?e(p):p;if(p=i||0!==p?p:0,!(d?er(d,g):n(f,g,i))){for(a=o;--a;){var m=h[a];if(!(m?er(m,g):n(t[a],g,i)))continue t}d&&d.push(g),f.push(p)}}return f}function Bi(t,e,i){var n=null==(t=Cs(t,e=An(e,t)))?t:t[Fs(Xs(e))];return null==n?r:Ne(n,t,i)}function Pi(t){return ia(t)&&Ii(t)==y}function Ri(t,e,i,n,s){return t===e||(null==t||null==e||!ia(t)&&!ia(e)?t!==t&&e!==e:function(t,e,i,n,s,o){var a=Go(t),h=Go(e),u=a?w:ms(t),f=h?w:ms(e);u=u==y?N:u,f=f==y?N:f;var c=u==N,l=f==N,d=u==f;if(d&&Vo(t)){if(!Vo(e))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new Vr),a||ca(t)?is(t,e,i,n,s,o):function(t,e,r,i,n,s,o){switch(r){case k:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case T:return!(t.byteLength!=e.byteLength||!s(new Yt(t),new Yt(e)));case b:case A:case I:return zo(+t,+e);case E:return t.name==e.name&&t.message==e.message;case C:case B:return t==e+"";case S:var a=hr;case O:var h=1&i;if(a||(a=cr),t.size!=e.size&&!h)return!1;var u=o.get(t);if(u)return u==e;i|=2,o.set(t,e);var f=is(a(t),a(e),i,n,s,o);return o.delete(t),f;case P:if(Lr)return Lr.call(t)==Lr.call(e)}return!1}(t,e,u,i,n,s,o);if(!(1&i)){var p=c&&Ft.call(t,"__wrapped__"),g=l&&Ft.call(e,"__wrapped__");if(p||g){var m=p?t.value():t,v=g?e.value():e;return o||(o=new Vr),s(m,v,i,n,o)}}return!!d&&(o||(o=new Vr),function(t,e,i,n,s,o){var a=1&i,h=ss(t),u=h.length,f=ss(e),c=f.length;if(u!=c&&!a)return!1;for(var l=u;l--;){var d=h[l];if(!(a?d in e:Ft.call(e,d)))return!1}var p=o.get(t),g=o.get(e);if(p&&g)return p==e&&g==t;var m=!0;o.set(t,e),o.set(e,t);for(var v=a;++l<u;){var y=t[d=h[l]],w=e[d];if(n)var b=a?n(w,y,d,e,t,o):n(y,w,d,t,e,o);if(!(b===r?y===w||s(y,w,i,n,o):b)){m=!1;break}v||(v="constructor"==d)}if(m&&!v){var A=t.constructor,E=e.constructor;A!=E&&"constructor"in t&&"constructor"in e&&!("function"==typeof A&&A instanceof A&&"function"==typeof E&&E instanceof E)&&(m=!1)}return o.delete(t),o.delete(e),m}(t,e,i,n,s,o))}(t,e,i,n,Ri,s))}function Ti(t,e,i,n){var s=i.length,o=s,a=!n;if(null==t)return!o;for(t=Ct(t);s--;){var h=i[s];if(a&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++s<o;){var u=(h=i[s])[0],f=t[u],c=h[1];if(a&&h[2]){if(f===r&&!(u in t))return!1}else{var l=new Vr;if(n)var d=n(f,c,u,t,e,l);if(!(d===r?Ri(c,f,3,n,l):d))return!1}}return!0}function ki(t){return!(!ra(t)||function(t){return!!qt&&qt in t}(t))&&($o(t)?Kt:yt).test(Ls(t))}function Ui(t){return"function"==typeof t?t:null==t?sh:"object"==typeof t?Go(t)?zi(t[0],t[1]):ji(t):ph(t)}function Di(t){if(!Ss(t))return yr(t);var e=[];for(var r in Ct(t))Ft.call(t,r)&&"constructor"!=r&&e.push(r);return e}function Fi(t){if(!ra(t))return function(t){var e=[];if(null!=t)for(var r in Ct(t))e.push(r);return e}(t);var e=Ss(t),r=[];for(var i in t)"constructor"==i&&(e||!Ft.call(t,i))||r.push(i);return r}function Li(t,e){return t<e}function qi(t,e){var r=-1,i=Jo(t)?_t(t.length):[];return di(t,(function(t,n,s){i[++r]=e(t,n,s)})),i}function ji(t){var e=ls(t);return 1==e.length&&e[0][2]?Ns(e[0][0],e[0][1]):function(r){return r===t||Ti(r,t,e)}}function zi(t,e){return Es(t)&&Is(e)?Ns(Fs(t),e):function(i){var n=xa(i,t);return n===r&&n===e?Ca(i,t):Ri(e,n,3)}}function Hi(t,e,i,n,s){t!==e&&wi(e,(function(o,a){if(s||(s=new Vr),ra(o))!function(t,e,i,n,s,o,a){var h=Os(t,i),u=Os(e,i),f=a.get(u);if(f)return void ei(t,i,f);var c=o?o(h,u,i+"",t,e,a):r,l=c===r;if(l){var d=Go(u),p=!d&&Vo(u),g=!d&&!p&&ca(u);c=u,d||p||g?Go(h)?c=h:Wo(h)?c=Bn(h):p?(l=!1,c=Sn(u,!0)):g?(l=!1,c=Nn(u,!0)):c=[]:oa(u)||Qo(u)?(c=h,Qo(h)?c=wa(h):(!ra(h)||$o(h))&&(c=ys(u))):l=!1}l&&(a.set(u,c),s(c,u,n,o,a),a.delete(u)),ei(t,i,c)}(t,e,a,i,Hi,n,s);else{var h=n?n(Os(t,a),o,a+"",t,e,s):r;h===r&&(h=o),ei(t,a,h)}}),Ta)}function Ki(t,e){var i=t.length;if(i)return bs(e+=e<0?i:0,i)?t[e]:r}function Qi(t,e,r){e=e.length?ke(e,(function(t){return Go(t)?function(e){return _i(e,1===t.length?t[0]:t)}:t})):[sh];var i=-1;e=ke(e,$e(fs()));var n=qi(t,(function(t,r,n){var s=ke(e,(function(e){return e(t)}));return{criteria:s,index:++i,value:t}}));return function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(n,(function(t,e){return function(t,e,r){for(var i=-1,n=t.criteria,s=e.criteria,o=n.length,a=r.length;++i<o;){var h=xn(n[i],s[i]);if(h)return i>=a?h:h*("desc"==r[i]?-1:1)}return t.index-e.index}(t,e,r)}))}function Gi(t,e,r){for(var i=-1,n=e.length,s={};++i<n;){var o=e[i],a=_i(t,o);r(a,o)&&tn(s,An(o,t),a)}return s}function Yi(t,e,r,i){var n=i?Ke:He,s=-1,o=e.length,a=t;for(t===e&&(e=Bn(e)),r&&(a=ke(t,$e(r)));++s<o;)for(var h=0,u=e[s],f=r?r(u):u;(h=n(a,f,h,i))>-1;)a!==t&&Zt.call(a,h,1),Zt.call(t,h,1);return t}function Ji(t,e){for(var r=t?e.length:0,i=r-1;r--;){var n=e[r];if(r==i||n!==s){var s=n;bs(n)?Zt.call(t,n,1):dn(t,n)}}return t}function Wi(t,e){return t+we(Mr()*(e-t+1))}function Vi(t,e){var r="";if(!t||e<1||e>l)return r;do{e%2&&(r+=t),(e=we(e/2))&&(t+=t)}while(e);return r}function Xi(t,e){return Rs(xs(t,e,sh),t+"")}function Zi(t){return Zr(za(t))}function $i(t,e){var r=za(t);return Us(r,hi(e,0,r.length))}function tn(t,e,i,n){if(!ra(t))return t;for(var s=-1,o=(e=An(e,t)).length,a=o-1,h=t;null!=h&&++s<o;){var u=Fs(e[s]),f=i;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(s!=a){var c=h[u];(f=n?n(c,u,h):r)===r&&(f=ra(c)?c:bs(e[s+1])?[]:{})}ri(h,u,f),h=h[u]}return t}var en=Br?function(t,e){return Br.set(t,e),t}:sh,rn=fe?function(t,e){return fe(t,"toString",{configurable:!0,enumerable:!1,value:rh(e),writable:!0})}:sh;function nn(t){return Us(za(t))}function sn(t,e,r){var i=-1,n=t.length;e<0&&(e=-e>n?0:n+e),(r=r>n?n:r)<0&&(r+=n),n=e>r?0:r-e>>>0,e>>>=0;for(var s=_t(n);++i<n;)s[i]=t[i+e];return s}function on(t,e){var r;return di(t,(function(t,i,n){return!(r=e(t,i,n))})),!!r}function an(t,e,r){var i=0,n=null==t?i:t.length;if("number"==typeof e&&e===e&&n<=m){for(;i<n;){var s=i+n>>>1,o=t[s];null!==o&&!fa(o)&&(r?o<=e:o<e)?i=s+1:n=s}return n}return hn(t,e,sh,r)}function hn(t,e,i,n){var s=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=i(e))!==e,h=null===e,u=fa(e),f=e===r;s<o;){var c=we((s+o)/2),l=i(t[c]),d=l!==r,p=null===l,m=l===l,v=fa(l);if(a)var y=n||m;else y=f?m&&(n||d):h?m&&d&&(n||!p):u?m&&d&&!p&&(n||!v):!p&&!v&&(n?l<=e:l<e);y?s=c+1:o=c}return br(o,g)}function un(t,e){for(var r=-1,i=t.length,n=0,s=[];++r<i;){var o=t[r],a=e?e(o):o;if(!r||!zo(a,h)){var h=a;s[n++]=0===o?0:o}}return s}function fn(t){return"number"==typeof t?t:fa(t)?d:+t}function cn(t){if("string"==typeof t)return t;if(Go(t))return ke(t,cn)+"";if(fa(t))return qr?qr.call(t):"";var e=t+"";return"0"==e&&1/t==-c?"-0":e}function ln(t,e,r){var i=-1,n=Re,s=t.length,o=!0,a=[],h=a;if(r)o=!1,n=Te;else if(s>=200){var u=e?null:Xn(t);if(u)return cr(u);o=!1,n=er,h=new Wr}else h=e?[]:a;t:for(;++i<s;){var f=t[i],c=e?e(f):f;if(f=r||0!==f?f:0,o&&c===c){for(var l=h.length;l--;)if(h[l]===c)continue t;e&&h.push(c),a.push(f)}else n(h,c,r)||(h!==a&&h.push(c),a.push(f))}return a}function dn(t,e){return null==(t=Cs(t,e=An(e,t)))||delete t[Fs(Xs(e))]}function pn(t,e,r,i){return tn(t,e,r(_i(t,e)),i)}function gn(t,e,r,i){for(var n=t.length,s=i?n:-1;(i?s--:++s<n)&&e(t[s],s,t););return r?sn(t,i?0:s,i?s+1:n):sn(t,i?s+1:0,i?n:s)}function mn(t,e){var r=t;return r instanceof Qr&&(r=r.value()),De(e,(function(t,e){return e.func.apply(e.thisArg,Ue([t],e.args))}),r)}function vn(t,e,r){var i=t.length;if(i<2)return i?ln(t[0]):[];for(var n=-1,s=_t(i);++n<i;)for(var o=t[n],a=-1;++a<i;)a!=n&&(s[n]=li(s[n]||o,t[a],e,r));return ln(yi(s,1),e,r)}function yn(t,e,i){for(var n=-1,s=t.length,o=e.length,a={};++n<s;){var h=n<o?e[n]:r;i(a,t[n],h)}return a}function wn(t){return Wo(t)?t:[]}function bn(t){return"function"==typeof t?t:sh}function An(t,e){return Go(t)?t:Es(t,e)?[t]:Ds(ba(t))}var En=Xi;function Mn(t,e,i){var n=t.length;return i=i===r?n:i,!e&&i>=n?t:sn(t,e,i)}var _n=de||function(t){return ge.clearTimeout(t)};function Sn(t,e){if(e)return t.slice();var r=t.length,i=Jt?Jt(r):new t.constructor(r);return t.copy(i),i}function In(t){var e=new t.constructor(t.byteLength);return new Yt(e).set(new Yt(t)),e}function Nn(t,e){var r=e?In(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function xn(t,e){if(t!==e){var i=t!==r,n=null===t,s=t===t,o=fa(t),a=e!==r,h=null===e,u=e===e,f=fa(e);if(!h&&!f&&!o&&t>e||o&&a&&u&&!h&&!f||n&&a&&u||!i&&u||!s)return 1;if(!n&&!o&&!f&&t<e||f&&i&&s&&!n&&!o||h&&i&&s||!a&&s||!u)return-1}return 0}function Cn(t,e,r,i){for(var n=-1,s=t.length,o=r.length,a=-1,h=e.length,u=wr(s-o,0),f=_t(h+u),c=!i;++a<h;)f[a]=e[a];for(;++n<o;)(c||n<s)&&(f[r[n]]=t[n]);for(;u--;)f[a++]=t[n++];return f}function On(t,e,r,i){for(var n=-1,s=t.length,o=-1,a=r.length,h=-1,u=e.length,f=wr(s-a,0),c=_t(f+u),l=!i;++n<f;)c[n]=t[n];for(var d=n;++h<u;)c[d+h]=e[h];for(;++o<a;)(l||n<s)&&(c[d+r[o]]=t[n++]);return c}function Bn(t,e){var r=-1,i=t.length;for(e||(e=_t(i));++r<i;)e[r]=t[r];return e}function Pn(t,e,i,n){var s=!i;i||(i={});for(var o=-1,a=e.length;++o<a;){var h=e[o],u=n?n(i[h],t[h],h,i,t):r;u===r&&(u=t[h]),s?oi(i,h,u):ri(i,h,u)}return i}function Rn(t,e){return function(r,i){var n=Go(r)?xe:ni,s=e?e():{};return n(r,t,fs(i,2),s)}}function Tn(t){return Xi((function(e,i){var n=-1,s=i.length,o=s>1?i[s-1]:r,a=s>2?i[2]:r;for(o=t.length>3&&"function"==typeof o?(s--,o):r,a&&As(i[0],i[1],a)&&(o=s<3?r:o,s=1),e=Ct(e);++n<s;){var h=i[n];h&&t(e,h,n,o)}return e}))}function kn(t,e){return function(r,i){if(null==r)return r;if(!Jo(r))return t(r,i);for(var n=r.length,s=e?n:-1,o=Ct(r);(e?s--:++s<n)&&!1!==i(o[s],s,o););return r}}function Un(t){return function(e,r,i){for(var n=-1,s=Ct(e),o=i(e),a=o.length;a--;){var h=o[t?a:++n];if(!1===r(s[h],h,s))break}return e}}function Dn(t){return function(e){var i=ar(e=ba(e))?dr(e):r,n=i?i[0]:e.charAt(0),s=i?Mn(i,1).join(""):e.slice(1);return n[t]()+s}}function Fn(t){return function(e){return De($a(Qa(e).replace(te,"")),t,"")}}function Ln(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=zr(t.prototype),i=t.apply(r,e);return ra(i)?i:r}}function qn(t){return function(e,i,n){var s=Ct(e);if(!Jo(e)){var o=fs(i,3);e=Ra(e),i=function(t){return o(s[t],t,s)}}var a=t(e,i,n);return a>-1?s[o?e[a]:a]:r}}function jn(t){return ns((function(e){var n=e.length,s=n,o=Kr.prototype.thru;for(t&&e.reverse();s--;){var a=e[s];if("function"!=typeof a)throw new Pt(i);if(o&&!h&&"wrapper"==hs(a))var h=new Kr([],!0)}for(s=h?s:n;++s<n;){var u=hs(a=e[s]),f="wrapper"==u?as(a):r;h=f&&Ms(f[0])&&424==f[1]&&!f[4].length&&1==f[9]?h[hs(f[0])].apply(h,f[3]):1==a.length&&Ms(a)?h[u]():h.thru(a)}return function(){var t=arguments,r=t[0];if(h&&1==t.length&&Go(r))return h.plant(r).value();for(var i=0,s=n?e[i].apply(this,t):r;++i<n;)s=e[i].call(this,s);return s}}))}function zn(t,e,i,n,s,o,a,h,f,c){var l=e&u,d=1&e,p=2&e,g=24&e,m=512&e,v=p?r:Ln(t);return function u(){for(var y=arguments.length,w=_t(y),b=y;b--;)w[b]=arguments[b];if(g)var A=us(u),E=function(t,e){for(var r=t.length,i=0;r--;)t[r]===e&&++i;return i}(w,A);if(n&&(w=Cn(w,n,s,g)),o&&(w=On(w,o,a,g)),y-=E,g&&y<c){var M=fr(w,A);return Wn(t,e,zn,u.placeholder,i,w,M,h,f,c-y)}var _=d?i:this,S=p?_[t]:t;return y=w.length,h?w=function(t,e){for(var i=t.length,n=br(e.length,i),s=Bn(t);n--;){var o=e[n];t[n]=bs(o,i)?s[o]:r}return t}(w,h):m&&y>1&&w.reverse(),l&&f<y&&(w.length=f),this&&this!==ge&&this instanceof u&&(S=v||Ln(S)),S.apply(_,w)}}function Hn(t,e){return function(r,i){return function(t,e,r,i){return Ai(t,(function(t,n,s){e(i,r(t),n,s)})),i}(r,t,e(i),{})}}function Kn(t,e){return function(i,n){var s;if(i===r&&n===r)return e;if(i!==r&&(s=i),n!==r){if(s===r)return n;"string"==typeof i||"string"==typeof n?(i=cn(i),n=cn(n)):(i=fn(i),n=fn(n)),s=t(i,n)}return s}}function Qn(t){return ns((function(e){return e=ke(e,$e(fs())),Xi((function(r){var i=this;return t(e,(function(t){return Ne(t,i,r)}))}))}))}function Gn(t,e){var i=(e=e===r?" ":cn(e)).length;if(i<2)return i?Vi(e,t):e;var n=Vi(e,ve(t/lr(e)));return ar(e)?Mn(dr(n),0,t).join(""):n.slice(0,t)}function Yn(t){return function(e,i,n){return n&&"number"!=typeof n&&As(e,i,n)&&(i=n=r),e=ga(e),i===r?(i=e,e=0):i=ga(i),function(t,e,r,i){for(var n=-1,s=wr(ve((e-t)/(r||1)),0),o=_t(s);s--;)o[i?s:++n]=t,t+=r;return o}(e,i,n=n===r?e<i?1:-1:ga(n),t)}}function Jn(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=ya(e),r=ya(r)),t(e,r)}}function Wn(t,e,i,n,s,o,u,f,c,l){var d=8&e;e|=d?a:h,4&(e&=~(d?h:a))||(e&=-4);var p=[t,e,s,d?o:r,d?u:r,d?r:o,d?r:u,f,c,l],g=i.apply(r,p);return Ms(t)&&Bs(g,p),g.placeholder=n,Ts(g,t,e)}function Vn(t){var e=xt[t];return function(t,r){if(t=ya(t),(r=null==r?0:br(ma(r),292))&&Je(t)){var i=(ba(t)+"e").split("e");return+((i=(ba(e(i[0]+"e"+(+i[1]+r)))+"e").split("e"))[0]+"e"+(+i[1]-r))}return e(t)}}var Xn=xr&&1/cr(new xr([,-0]))[1]==c?function(t){return new xr(t)}:fh;function Zn(t){return function(e){var r=ms(e);return r==S?hr(e):r==O?function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=[t,t]})),r}(e):function(t,e){return ke(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function $n(t,e,n,c,l,d,p,g){var m=2&e;if(!m&&"function"!=typeof t)throw new Pt(i);var v=c?c.length:0;if(v||(e&=-97,c=l=r),p=p===r?p:wr(ma(p),0),g=g===r?g:ma(g),v-=l?l.length:0,e&h){var y=c,w=l;c=l=r}var b=m?r:as(t),A=[t,e,n,c,l,y,w,d,p,g];if(b&&function(t,e){var r=t[1],i=e[1],n=r|i,o=n<131,a=i==u&&8==r||i==u&&r==f&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==r;if(!o&&!a)return t;1&i&&(t[2]=e[2],n|=1&r?0:4);var h=e[3];if(h){var c=t[3];t[3]=c?Cn(c,h,e[4]):h,t[4]=c?fr(t[3],s):e[4]}h=e[5],h&&(c=t[5],t[5]=c?On(c,h,e[6]):h,t[6]=c?fr(t[5],s):e[6]),h=e[7],h&&(t[7]=h),i&u&&(t[8]=null==t[8]?e[8]:br(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=n}(A,b),t=A[0],e=A[1],n=A[2],c=A[3],l=A[4],!(g=A[9]=A[9]===r?m?0:t.length:wr(A[9]-v,0))&&24&e&&(e&=-25),e&&1!=e)E=8==e||e==o?function(t,e,i){var n=Ln(t);return function s(){for(var o=arguments.length,a=_t(o),h=o,u=us(s);h--;)a[h]=arguments[h];var f=o<3&&a[0]!==u&&a[o-1]!==u?[]:fr(a,u);return(o-=f.length)<i?Wn(t,e,zn,s.placeholder,r,a,f,r,r,i-o):Ne(this&&this!==ge&&this instanceof s?n:t,this,a)}}(t,e,g):e!=a&&33!=e||l.length?zn.apply(r,A):function(t,e,r,i){var n=1&e,s=Ln(t);return function e(){for(var o=-1,a=arguments.length,h=-1,u=i.length,f=_t(u+a),c=this&&this!==ge&&this instanceof e?s:t;++h<u;)f[h]=i[h];for(;a--;)f[h++]=arguments[++o];return Ne(c,n?r:this,f)}}(t,e,n,c);else var E=function(t,e,r){var i=1&e,n=Ln(t);return function e(){return(this&&this!==ge&&this instanceof e?n:t).apply(i?r:this,arguments)}}(t,e,n);return Ts((b?en:Bs)(E,A),t,e)}function ts(t,e,i,n){return t===r||zo(t,kt[i])&&!Ft.call(n,i)?e:t}function es(t,e,i,n,s,o){return ra(t)&&ra(e)&&(o.set(e,t),Hi(t,e,r,es,o),o.delete(e)),t}function rs(t){return oa(t)?r:t}function is(t,e,i,n,s,o){var a=1&i,h=t.length,u=e.length;if(h!=u&&!(a&&u>h))return!1;var f=o.get(t),c=o.get(e);if(f&&c)return f==e&&c==t;var l=-1,d=!0,p=2&i?new Wr:r;for(o.set(t,e),o.set(e,t);++l<h;){var g=t[l],m=e[l];if(n)var v=a?n(m,g,l,e,t,o):n(g,m,l,t,e,o);if(v!==r){if(v)continue;d=!1;break}if(p){if(!Le(e,(function(t,e){if(!er(p,e)&&(g===t||s(g,t,i,n,o)))return p.push(e)}))){d=!1;break}}else if(g!==m&&!s(g,m,i,n,o)){d=!1;break}}return o.delete(t),o.delete(e),d}function ns(t){return Rs(xs(t,r,Gs),t+"")}function ss(t){return Si(t,Ra,ps)}function os(t){return Si(t,Ta,gs)}var as=Br?function(t){return Br.get(t)}:fh;function hs(t){for(var e=t.name+"",r=Pr[e],i=Ft.call(Pr,e)?r.length:0;i--;){var n=r[i],s=n.func;if(null==s||s==t)return n.name}return e}function us(t){return(Ft.call(jr,"placeholder")?jr:t).placeholder}function fs(){var t=jr.iteratee||oh;return t=t===oh?Ui:t,arguments.length?t(arguments[0],arguments[1]):t}function cs(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function ls(t){for(var e=Ra(t),r=e.length;r--;){var i=e[r],n=t[i];e[r]=[i,n,Is(n)]}return e}function ds(t,e){var i=function(t,e){return null==t?r:t[e]}(t,e);return ki(i)?i:r}var ps=be?function(t){return null==t?[]:(t=Ct(t),Pe(be(t),(function(e){return Xt.call(t,e)})))}:vh,gs=be?function(t){for(var e=[];t;)Ue(e,ps(t)),t=Wt(t);return e}:vh,ms=Ii;function vs(t,e,r){for(var i=-1,n=(e=An(e,t)).length,s=!1;++i<n;){var o=Fs(e[i]);if(!(s=null!=t&&r(t,o)))break;t=t[o]}return s||++i!=n?s:!!(n=null==t?0:t.length)&&ea(n)&&bs(o,n)&&(Go(t)||Qo(t))}function ys(t){return"function"!=typeof t.constructor||Ss(t)?{}:zr(Wt(t))}function ws(t){return Go(t)||Qo(t)||!!($t&&t&&t[$t])}function bs(t,e){var r=typeof t;return!!(e=e??l)&&("number"==r||"symbol"!=r&&bt.test(t))&&t>-1&&t%1==0&&t<e}function As(t,e,r){if(!ra(r))return!1;var i=typeof e;return!!("number"==i?Jo(r)&&bs(e,r.length):"string"==i&&e in r)&&zo(r[e],t)}function Es(t,e){if(Go(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!fa(t))||(rt.test(t)||!et.test(t)||null!=e&&t in Ct(e))}function Ms(t){var e=hs(t),r=jr[e];if("function"!=typeof r||!(e in Qr.prototype))return!1;if(t===r)return!0;var i=as(r);return!!i&&t===i[0]}(Sr&&ms(new Sr(new ArrayBuffer(1)))!=k||Ir&&ms(new Ir)!=S||Nr&&ms(Nr.resolve())!=x||xr&&ms(new xr)!=O||Cr&&ms(new Cr)!=R)&&(ms=function(t){var e=Ii(t),i=e==N?t.constructor:r,n=i?Ls(i):"";if(n)switch(n){case Rr:return k;case Tr:return S;case kr:return x;case Ur:return O;case Dr:return R}return e});var _s=Ut?$o:yh;function Ss(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||kt)}function Is(t){return t===t&&!ra(t)}function Ns(t,e){return function(i){return null!=i&&(i[t]===e&&(e!==r||t in Ct(i)))}}function xs(t,e,i){return e=wr(e===r?t.length-1:e,0),function(){for(var r=arguments,n=-1,s=wr(r.length-e,0),o=_t(s);++n<s;)o[n]=r[e+n];n=-1;for(var a=_t(e+1);++n<e;)a[n]=r[n];return a[e]=i(o),Ne(t,this,a)}}function Cs(t,e){return e.length<2?t:_i(t,sn(e,0,-1))}function Os(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Bs=ks(en),Ps=me||function(t,e){return ge.setTimeout(t,e)},Rs=ks(rn);function Ts(t,e,r){var i=e+"";return Rs(t,function(t,e){var r=e.length;if(!r)return t;var i=r-1;return e[i]=(r>1?"& ":"")+e[i],e=e.join(r>2?", ":" "),t.replace(ht,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return Ce(v,(function(r){var i="_."+r[0];e&r[1]&&!Re(t,i)&&t.push(i)})),t.sort()}(function(t){var e=t.match(ut);return e?e[1].split(ft):[]}(i),r)))}function ks(t){var e=0,i=0;return function(){var n=Ar(),s=16-(n-i);if(i=n,s>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(r,arguments)}}function Us(t,e){var i=-1,n=t.length,s=n-1;for(e=e===r?n:e;++i<e;){var o=Wi(i,s),a=t[o];t[o]=t[i],t[i]=a}return t.length=e,t}var Ds=function(t){var e=Uo(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(it,(function(t,r,i,n){e.push(i?n.replace(dt,"$1"):r||t)})),e}));function Fs(t){if("string"==typeof t||fa(t))return t;var e=t+"";return"0"==e&&1/t==-c?"-0":e}function Ls(t){if(null!=t){try{return Dt.call(t)}catch{}try{return t+""}catch{}}return""}function qs(t){if(t instanceof Qr)return t.clone();var e=new Kr(t.__wrapped__,t.__chain__);return e.__actions__=Bn(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var js=Xi((function(t,e){return Wo(t)?li(t,yi(e,1,Wo,!0)):[]})),zs=Xi((function(t,e){var i=Xs(e);return Wo(i)&&(i=r),Wo(t)?li(t,yi(e,1,Wo,!0),fs(i,2)):[]})),Hs=Xi((function(t,e){var i=Xs(e);return Wo(i)&&(i=r),Wo(t)?li(t,yi(e,1,Wo,!0),r,i):[]}));function Ks(t,e,r){var i=null==t?0:t.length;if(!i)return-1;var n=null==r?0:ma(r);return n<0&&(n=wr(i+n,0)),ze(t,fs(e,3),n)}function Qs(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var s=n-1;return i!==r&&(s=ma(i),s=i<0?wr(n+s,0):br(s,n-1)),ze(t,fs(e,3),s,!0)}function Gs(t){return(null==t?0:t.length)?yi(t,1):[]}function Ys(t){return t&&t.length?t[0]:r}var Js=Xi((function(t){var e=ke(t,wn);return e.length&&e[0]===t[0]?Oi(e):[]})),Ws=Xi((function(t){var e=Xs(t),i=ke(t,wn);return e===Xs(i)?e=r:i.pop(),i.length&&i[0]===t[0]?Oi(i,fs(e,2)):[]})),Vs=Xi((function(t){var e=Xs(t),i=ke(t,wn);return(e="function"==typeof e?e:r)&&i.pop(),i.length&&i[0]===t[0]?Oi(i,r,e):[]}));function Xs(t){var e=null==t?0:t.length;return e?t[e-1]:r}var Zs=Xi($s);function $s(t,e){return t&&t.length&&e&&e.length?Yi(t,e):t}var to=ns((function(t,e){var r=null==t?0:t.length,i=ai(t,e);return Ji(t,ke(e,(function(t){return bs(t,r)?+t:t})).sort(xn)),i}));function eo(t){return null==t?t:_r.call(t)}var ro=Xi((function(t){return ln(yi(t,1,Wo,!0))})),io=Xi((function(t){var e=Xs(t);return Wo(e)&&(e=r),ln(yi(t,1,Wo,!0),fs(e,2))})),no=Xi((function(t){var e=Xs(t);return e="function"==typeof e?e:r,ln(yi(t,1,Wo,!0),r,e)}));function so(t){if(!t||!t.length)return[];var e=0;return t=Pe(t,(function(t){if(Wo(t))return e=wr(t.length,e),!0})),Xe(e,(function(e){return ke(t,Ye(e))}))}function oo(t,e){if(!t||!t.length)return[];var i=so(t);return null==e?i:ke(i,(function(t){return Ne(e,r,t)}))}var ao=Xi((function(t,e){return Wo(t)?li(t,e):[]})),ho=Xi((function(t){return vn(Pe(t,Wo))})),uo=Xi((function(t){var e=Xs(t);return Wo(e)&&(e=r),vn(Pe(t,Wo),fs(e,2))})),fo=Xi((function(t){var e=Xs(t);return e="function"==typeof e?e:r,vn(Pe(t,Wo),r,e)})),co=Xi(so);var lo=Xi((function(t){var e=t.length,i=e>1?t[e-1]:r;return i="function"==typeof i?(t.pop(),i):r,oo(t,i)}));function po(t){var e=jr(t);return e.__chain__=!0,e}function go(t,e){return e(t)}var mo=ns((function(t){var e=t.length,i=e?t[0]:0,n=this.__wrapped__,s=function(e){return ai(e,t)};return!(e>1||this.__actions__.length)&&n instanceof Qr&&bs(i)?((n=n.slice(i,+i+(e?1:0))).__actions__.push({func:go,args:[s],thisArg:r}),new Kr(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(r),t}))):this.thru(s)}));var vo=Rn((function(t,e,r){Ft.call(t,r)?++t[r]:oi(t,r,1)}));var yo=qn(Ks),wo=qn(Qs);function bo(t,e){return(Go(t)?Ce:di)(t,fs(e,3))}function Ao(t,e){return(Go(t)?Oe:pi)(t,fs(e,3))}var Eo=Rn((function(t,e,r){Ft.call(t,r)?t[r].push(e):oi(t,r,[e])}));var Mo=Xi((function(t,e,r){var i=-1,n="function"==typeof e,s=Jo(t)?_t(t.length):[];return di(t,(function(t){s[++i]=n?Ne(e,t,r):Bi(t,e,r)})),s})),_o=Rn((function(t,e,r){oi(t,r,e)}));function So(t,e){return(Go(t)?ke:qi)(t,fs(e,3))}var Io=Rn((function(t,e,r){t[r?0:1].push(e)}),(function(){return[[],[]]}));var No=Xi((function(t,e){if(null==t)return[];var r=e.length;return r>1&&As(t,e[0],e[1])?e=[]:r>2&&As(e[0],e[1],e[2])&&(e=[e[0]]),Qi(t,yi(e,1),[])})),xo=pe||function(){return ge.Date.now()};function Co(t,e,i){return e=i?r:e,e=t&&null==e?t.length:e,$n(t,u,r,r,r,r,e)}function Oo(t,e){var n;if("function"!=typeof e)throw new Pt(i);return t=ma(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=r),n}}var Bo=Xi((function(t,e,r){var i=1;if(r.length){var n=fr(r,us(Bo));i|=a}return $n(t,i,e,r,n)})),Po=Xi((function(t,e,r){var i=3;if(r.length){var n=fr(r,us(Po));i|=a}return $n(e,i,t,r,n)}));function Ro(t,e,n){var s,o,a,h,u,f,c=0,l=!1,d=!1,p=!0;if("function"!=typeof t)throw new Pt(i);function g(e){var i=s,n=o;return s=o=r,c=e,h=t.apply(n,i)}function m(t){var i=t-f;return f===r||i>=e||i<0||d&&t-c>=a}function v(){var t=xo();if(m(t))return y(t);u=Ps(v,function(t){var r=e-(t-f);return d?br(r,a-(t-c)):r}(t))}function y(t){return u=r,p&&s?g(t):(s=o=r,h)}function w(){var t=xo(),i=m(t);if(s=arguments,o=this,f=t,i){if(u===r)return function(t){return c=t,u=Ps(v,e),l?g(t):h}(f);if(d)return _n(u),u=Ps(v,e),g(f)}return u===r&&(u=Ps(v,e)),h}return e=ya(e)||0,ra(n)&&(l=!!n.leading,a=(d="maxWait"in n)?wr(ya(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),w.cancel=function(){u!==r&&_n(u),c=0,s=f=o=u=r},w.flush=function(){return u===r?h:y(xo())},w}var To=Xi((function(t,e){return ci(t,1,e)})),ko=Xi((function(t,e,r){return ci(t,ya(e)||0,r)}));function Uo(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Pt(i);var r=function(){var i=arguments,n=e?e.apply(this,i):i[0],s=r.cache;if(s.has(n))return s.get(n);var o=t.apply(this,i);return r.cache=s.set(n,o)||s,o};return r.cache=new(Uo.Cache||Jr),r}function Do(t){if("function"!=typeof t)throw new Pt(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Uo.Cache=Jr;var Fo=En((function(t,e){var r=(e=1==e.length&&Go(e[0])?ke(e[0],$e(fs())):ke(yi(e,1),$e(fs()))).length;return Xi((function(i){for(var n=-1,s=br(i.length,r);++n<s;)i[n]=e[n].call(this,i[n]);return Ne(t,this,i)}))})),Lo=Xi((function(t,e){var i=fr(e,us(Lo));return $n(t,a,r,e,i)})),qo=Xi((function(t,e){var i=fr(e,us(qo));return $n(t,h,r,e,i)})),jo=ns((function(t,e){return $n(t,f,r,r,r,e)}));function zo(t,e){return t===e||t!==t&&e!==e}var Ho=Jn(Ni),Ko=Jn((function(t,e){return t>=e})),Qo=Pi(function(){return arguments}())?Pi:function(t){return ia(t)&&Ft.call(t,"callee")&&!Xt.call(t,"callee")},Go=_t.isArray,Yo=Ae?$e(Ae):function(t){return ia(t)&&Ii(t)==T};function Jo(t){return null!=t&&ea(t.length)&&!$o(t)}function Wo(t){return ia(t)&&Jo(t)}var Vo=qe||yh,Xo=Ee?$e(Ee):function(t){return ia(t)&&Ii(t)==A};function Zo(t){if(!ia(t))return!1;var e=Ii(t);return e==E||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!oa(t)}function $o(t){if(!ra(t))return!1;var e=Ii(t);return e==M||e==_||"[object AsyncFunction]"==e||"[object Proxy]"==e}function ta(t){return"number"==typeof t&&t==ma(t)}function ea(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=l}function ra(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ia(t){return null!=t&&"object"==typeof t}var na=Me?$e(Me):function(t){return ia(t)&&ms(t)==S};function sa(t){return"number"==typeof t||ia(t)&&Ii(t)==I}function oa(t){if(!ia(t)||Ii(t)!=N)return!1;var e=Wt(t);if(null===e)return!0;var r=Ft.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Dt.call(r)==zt}var aa=_e?$e(_e):function(t){return ia(t)&&Ii(t)==C};var ha=Se?$e(Se):function(t){return ia(t)&&ms(t)==O};function ua(t){return"string"==typeof t||!Go(t)&&ia(t)&&Ii(t)==B}function fa(t){return"symbol"==typeof t||ia(t)&&Ii(t)==P}var ca=Ie?$e(Ie):function(t){return ia(t)&&ea(t.length)&&!!he[Ii(t)]};var la=Jn(Li),da=Jn((function(t,e){return t<=e}));function pa(t){if(!t)return[];if(Jo(t))return ua(t)?dr(t):Bn(t);if(re&&t[re])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[re]());var e=ms(t);return(e==S?hr:e==O?cr:za)(t)}function ga(t){return t?(t=ya(t))===c||t===-c?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}function ma(t){var e=ga(t),r=e%1;return e===e?r?e-r:e:0}function va(t){return t?hi(ma(t),0,p):0}function ya(t){if("number"==typeof t)return t;if(fa(t))return d;if(ra(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ra(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ze(t);var r=vt.test(t);return r||wt.test(t)?le(t.slice(2),r?2:8):mt.test(t)?d:+t}function wa(t){return Pn(t,Ta(t))}function ba(t){return null==t?"":cn(t)}var Aa=Tn((function(t,e){if(Ss(e)||Jo(e))Pn(e,Ra(e),t);else for(var r in e)Ft.call(e,r)&&ri(t,r,e[r])})),Ea=Tn((function(t,e){Pn(e,Ta(e),t)})),Ma=Tn((function(t,e,r,i){Pn(e,Ta(e),t,i)})),_a=Tn((function(t,e,r,i){Pn(e,Ra(e),t,i)})),Sa=ns(ai);var Ia=Xi((function(t,e){t=Ct(t);var i=-1,n=e.length,s=n>2?e[2]:r;for(s&&As(e[0],e[1],s)&&(n=1);++i<n;)for(var o=e[i],a=Ta(o),h=-1,u=a.length;++h<u;){var f=a[h],c=t[f];(c===r||zo(c,kt[f])&&!Ft.call(t,f))&&(t[f]=o[f])}return t})),Na=Xi((function(t){return t.push(r,es),Ne(Ua,r,t)}));function xa(t,e,i){var n=null==t?r:_i(t,e);return n===r?i:n}function Ca(t,e){return null!=t&&vs(t,e,Ci)}var Oa=Hn((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=jt.call(e)),t[e]=r}),rh(sh)),Ba=Hn((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=jt.call(e)),Ft.call(t,e)?t[e].push(r):t[e]=[r]}),fs),Pa=Xi(Bi);function Ra(t){return Jo(t)?Xr(t):Di(t)}function Ta(t){return Jo(t)?Xr(t,!0):Fi(t)}var ka=Tn((function(t,e,r){Hi(t,e,r)})),Ua=Tn((function(t,e,r,i){Hi(t,e,r,i)})),Da=ns((function(t,e){var r={};if(null==t)return r;var i=!1;e=ke(e,(function(e){return e=An(e,t),i||(i=e.length>1),e})),Pn(t,os(t),r),i&&(r=ui(r,7,rs));for(var n=e.length;n--;)dn(r,e[n]);return r}));var Fa=ns((function(t,e){return null==t?{}:function(t,e){return Gi(t,e,(function(e,r){return Ca(t,r)}))}(t,e)}));function La(t,e){if(null==t)return{};var r=ke(os(t),(function(t){return[t]}));return e=fs(e),Gi(t,r,(function(t,r){return e(t,r[0])}))}var qa=Zn(Ra),ja=Zn(Ta);function za(t){return null==t?[]:tr(t,Ra(t))}var Ha=Fn((function(t,e,r){return e=e.toLowerCase(),t+(r?Ka(e):e)}));function Ka(t){return Za(ba(t).toLowerCase())}function Qa(t){return(t=ba(t))&&t.replace(At,nr).replace(ee,"")}var Ga=Fn((function(t,e,r){return t+(r?"-":"")+e.toLowerCase()})),Ya=Fn((function(t,e,r){return t+(r?" ":"")+e.toLowerCase()})),Ja=Dn("toLowerCase");var Wa=Fn((function(t,e,r){return t+(r?"_":"")+e.toLowerCase()}));var Va=Fn((function(t,e,r){return t+(r?" ":"")+Za(e)}));var Xa=Fn((function(t,e,r){return t+(r?" ":"")+e.toUpperCase()})),Za=Dn("toUpperCase");function $a(t,e,i){return t=ba(t),(e=i?r:e)===r?function(t){return se.test(t)}(t)?function(t){return t.match(ie)||[]}(t):function(t){return t.match(ct)||[]}(t):t.match(e)||[]}var th=Xi((function(t,e){try{return Ne(t,r,e)}catch(i){return Zo(i)?i:new It(i)}})),eh=ns((function(t,e){return Ce(e,(function(e){e=Fs(e),oi(t,e,Bo(t[e],t))})),t}));function rh(t){return function(){return t}}var ih=jn(),nh=jn(!0);function sh(t){return t}function oh(t){return Ui("function"==typeof t?t:ui(t,1))}var ah=Xi((function(t,e){return function(r){return Bi(r,t,e)}})),hh=Xi((function(t,e){return function(r){return Bi(t,r,e)}}));function uh(t,e,r){var i=Ra(e),n=Mi(e,i);null==r&&(!ra(e)||!n.length&&i.length)&&(r=e,e=t,t=this,n=Mi(e,Ra(e)));var s=!(ra(r)&&"chain"in r)||!!r.chain,o=$o(t);return Ce(n,(function(r){var i=e[r];t[r]=i,o&&(t.prototype[r]=function(){var e=this.__chain__;if(s||e){var r=t(this.__wrapped__);return(r.__actions__=Bn(this.__actions__)).push({func:i,args:arguments,thisArg:t}),r.__chain__=e,r}return i.apply(t,Ue([this.value()],arguments))})})),t}function fh(){}var ch=Qn(ke),lh=Qn(Be),dh=Qn(Le);function ph(t){return Es(t)?Ye(Fs(t)):function(t){return function(e){return _i(e,t)}}(t)}var gh=Yn(),mh=Yn(!0);function vh(){return[]}function yh(){return!1}var wh=Kn((function(t,e){return t+e}),0),bh=Vn("ceil"),Ah=Kn((function(t,e){return t/e}),1),Eh=Vn("floor");var Mh=Kn((function(t,e){return t*e}),1),_h=Vn("round"),Sh=Kn((function(t,e){return t-e}),0);return jr.after=function(t,e){if("function"!=typeof e)throw new Pt(i);return t=ma(t),function(){if(--t<1)return e.apply(this,arguments)}},jr.ary=Co,jr.assign=Aa,jr.assignIn=Ea,jr.assignInWith=Ma,jr.assignWith=_a,jr.at=Sa,jr.before=Oo,jr.bind=Bo,jr.bindAll=eh,jr.bindKey=Po,jr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Go(t)?t:[t]},jr.chain=po,jr.chunk=function(t,e,i){e=(i?As(t,e,i):e===r)?1:wr(ma(e),0);var n=null==t?0:t.length;if(!n||e<1)return[];for(var s=0,o=0,a=_t(ve(n/e));s<n;)a[o++]=sn(t,s,s+=e);return a},jr.compact=function(t){for(var e=-1,r=null==t?0:t.length,i=0,n=[];++e<r;){var s=t[e];s&&(n[i++]=s)}return n},jr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=_t(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Ue(Go(r)?Bn(r):[r],yi(e,1))},jr.cond=function(t){var e=null==t?0:t.length,r=fs();return t=e?ke(t,(function(t){if("function"!=typeof t[1])throw new Pt(i);return[r(t[0]),t[1]]})):[],Xi((function(r){for(var i=-1;++i<e;){var n=t[i];if(Ne(n[0],this,r))return Ne(n[1],this,r)}}))},jr.conforms=function(t){return function(t){var e=Ra(t);return function(r){return fi(r,t,e)}}(ui(t,1))},jr.constant=rh,jr.countBy=vo,jr.create=function(t,e){var r=zr(t);return null==e?r:si(r,e)},jr.curry=function t(e,i,n){var s=$n(e,8,r,r,r,r,r,i=n?r:i);return s.placeholder=t.placeholder,s},jr.curryRight=function t(e,i,n){var s=$n(e,o,r,r,r,r,r,i=n?r:i);return s.placeholder=t.placeholder,s},jr.debounce=Ro,jr.defaults=Ia,jr.defaultsDeep=Na,jr.defer=To,jr.delay=ko,jr.difference=js,jr.differenceBy=zs,jr.differenceWith=Hs,jr.drop=function(t,e,i){var n=null==t?0:t.length;return n?sn(t,(e=i||e===r?1:ma(e))<0?0:e,n):[]},jr.dropRight=function(t,e,i){var n=null==t?0:t.length;return n?sn(t,0,(e=n-(e=i||e===r?1:ma(e)))<0?0:e):[]},jr.dropRightWhile=function(t,e){return t&&t.length?gn(t,fs(e,3),!0,!0):[]},jr.dropWhile=function(t,e){return t&&t.length?gn(t,fs(e,3),!0):[]},jr.fill=function(t,e,i,n){var s=null==t?0:t.length;return s?(i&&"number"!=typeof i&&As(t,e,i)&&(i=0,n=s),function(t,e,i,n){var s=t.length;for((i=ma(i))<0&&(i=-i>s?0:s+i),(n=n===r||n>s?s:ma(n))<0&&(n+=s),n=i>n?0:va(n);i<n;)t[i++]=e;return t}(t,e,i,n)):[]},jr.filter=function(t,e){return(Go(t)?Pe:vi)(t,fs(e,3))},jr.flatMap=function(t,e){return yi(So(t,e),1)},jr.flatMapDeep=function(t,e){return yi(So(t,e),c)},jr.flatMapDepth=function(t,e,i){return i=i===r?1:ma(i),yi(So(t,e),i)},jr.flatten=Gs,jr.flattenDeep=function(t){return(null==t?0:t.length)?yi(t,c):[]},jr.flattenDepth=function(t,e){return(null==t?0:t.length)?yi(t,e=e===r?1:ma(e)):[]},jr.flip=function(t){return $n(t,512)},jr.flow=ih,jr.flowRight=nh,jr.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,i={};++e<r;){var n=t[e];i[n[0]]=n[1]}return i},jr.functions=function(t){return null==t?[]:Mi(t,Ra(t))},jr.functionsIn=function(t){return null==t?[]:Mi(t,Ta(t))},jr.groupBy=Eo,jr.initial=function(t){return(null==t?0:t.length)?sn(t,0,-1):[]},jr.intersection=Js,jr.intersectionBy=Ws,jr.intersectionWith=Vs,jr.invert=Oa,jr.invertBy=Ba,jr.invokeMap=Mo,jr.iteratee=oh,jr.keyBy=_o,jr.keys=Ra,jr.keysIn=Ta,jr.map=So,jr.mapKeys=function(t,e){var r={};return e=fs(e,3),Ai(t,(function(t,i,n){oi(r,e(t,i,n),t)})),r},jr.mapValues=function(t,e){var r={};return e=fs(e,3),Ai(t,(function(t,i,n){oi(r,i,e(t,i,n))})),r},jr.matches=function(t){return ji(ui(t,1))},jr.matchesProperty=function(t,e){return zi(t,ui(e,1))},jr.memoize=Uo,jr.merge=ka,jr.mergeWith=Ua,jr.method=ah,jr.methodOf=hh,jr.mixin=uh,jr.negate=Do,jr.nthArg=function(t){return t=ma(t),Xi((function(e){return Ki(e,t)}))},jr.omit=Da,jr.omitBy=function(t,e){return La(t,Do(fs(e)))},jr.once=function(t){return Oo(2,t)},jr.orderBy=function(t,e,i,n){return null==t?[]:(Go(e)||(e=null==e?[]:[e]),Go(i=n?r:i)||(i=null==i?[]:[i]),Qi(t,e,i))},jr.over=ch,jr.overArgs=Fo,jr.overEvery=lh,jr.overSome=dh,jr.partial=Lo,jr.partialRight=qo,jr.partition=Io,jr.pick=Fa,jr.pickBy=La,jr.property=ph,jr.propertyOf=function(t){return function(e){return null==t?r:_i(t,e)}},jr.pull=Zs,jr.pullAll=$s,jr.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?Yi(t,e,fs(r,2)):t},jr.pullAllWith=function(t,e,i){return t&&t.length&&e&&e.length?Yi(t,e,r,i):t},jr.pullAt=to,jr.range=gh,jr.rangeRight=mh,jr.rearg=jo,jr.reject=function(t,e){return(Go(t)?Pe:vi)(t,Do(fs(e,3)))},jr.remove=function(t,e){var r=[];if(!t||!t.length)return r;var i=-1,n=[],s=t.length;for(e=fs(e,3);++i<s;){var o=t[i];e(o,i,t)&&(r.push(o),n.push(i))}return Ji(t,n),r},jr.rest=function(t,e){if("function"!=typeof t)throw new Pt(i);return Xi(t,e=e===r?e:ma(e))},jr.reverse=eo,jr.sampleSize=function(t,e,i){return e=(i?As(t,e,i):e===r)?1:ma(e),(Go(t)?$r:$i)(t,e)},jr.set=function(t,e,r){return null==t?t:tn(t,e,r)},jr.setWith=function(t,e,i,n){return n="function"==typeof n?n:r,null==t?t:tn(t,e,i,n)},jr.shuffle=function(t){return(Go(t)?ti:nn)(t)},jr.slice=function(t,e,i){var n=null==t?0:t.length;return n?(i&&"number"!=typeof i&&As(t,e,i)?(e=0,i=n):(e=null==e?0:ma(e),i=i===r?n:ma(i)),sn(t,e,i)):[]},jr.sortBy=No,jr.sortedUniq=function(t){return t&&t.length?un(t):[]},jr.sortedUniqBy=function(t,e){return t&&t.length?un(t,fs(e,2)):[]},jr.split=function(t,e,i){return i&&"number"!=typeof i&&As(t,e,i)&&(e=i=r),(i=i===r?p:i>>>0)?(t=ba(t))&&("string"==typeof e||null!=e&&!aa(e))&&(!(e=cn(e))&&ar(t))?Mn(dr(t),0,i):t.split(e,i):[]},jr.spread=function(t,e){if("function"!=typeof t)throw new Pt(i);return e=null==e?0:wr(ma(e),0),Xi((function(r){var i=r[e],n=Mn(r,0,e);return i&&Ue(n,i),Ne(t,this,n)}))},jr.tail=function(t){var e=null==t?0:t.length;return e?sn(t,1,e):[]},jr.take=function(t,e,i){return t&&t.length?sn(t,0,(e=i||e===r?1:ma(e))<0?0:e):[]},jr.takeRight=function(t,e,i){var n=null==t?0:t.length;return n?sn(t,(e=n-(e=i||e===r?1:ma(e)))<0?0:e,n):[]},jr.takeRightWhile=function(t,e){return t&&t.length?gn(t,fs(e,3),!1,!0):[]},jr.takeWhile=function(t,e){return t&&t.length?gn(t,fs(e,3)):[]},jr.tap=function(t,e){return e(t),t},jr.throttle=function(t,e,r){var n=!0,s=!0;if("function"!=typeof t)throw new Pt(i);return ra(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),Ro(t,e,{leading:n,maxWait:e,trailing:s})},jr.thru=go,jr.toArray=pa,jr.toPairs=qa,jr.toPairsIn=ja,jr.toPath=function(t){return Go(t)?ke(t,Fs):fa(t)?[t]:Bn(Ds(ba(t)))},jr.toPlainObject=wa,jr.transform=function(t,e,r){var i=Go(t),n=i||Vo(t)||ca(t);if(e=fs(e,4),null==r){var s=t&&t.constructor;r=n?i?new s:[]:ra(t)&&$o(s)?zr(Wt(t)):{}}return(n?Ce:Ai)(t,(function(t,i,n){return e(r,t,i,n)})),r},jr.unary=function(t){return Co(t,1)},jr.union=ro,jr.unionBy=io,jr.unionWith=no,jr.uniq=function(t){return t&&t.length?ln(t):[]},jr.uniqBy=function(t,e){return t&&t.length?ln(t,fs(e,2)):[]},jr.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?ln(t,r,e):[]},jr.unset=function(t,e){return null==t||dn(t,e)},jr.unzip=so,jr.unzipWith=oo,jr.update=function(t,e,r){return null==t?t:pn(t,e,bn(r))},jr.updateWith=function(t,e,i,n){return n="function"==typeof n?n:r,null==t?t:pn(t,e,bn(i),n)},jr.values=za,jr.valuesIn=function(t){return null==t?[]:tr(t,Ta(t))},jr.without=ao,jr.words=$a,jr.wrap=function(t,e){return Lo(bn(e),t)},jr.xor=ho,jr.xorBy=uo,jr.xorWith=fo,jr.zip=co,jr.zipObject=function(t,e){return yn(t||[],e||[],ri)},jr.zipObjectDeep=function(t,e){return yn(t||[],e||[],tn)},jr.zipWith=lo,jr.entries=qa,jr.entriesIn=ja,jr.extend=Ea,jr.extendWith=Ma,uh(jr,jr),jr.add=wh,jr.attempt=th,jr.camelCase=Ha,jr.capitalize=Ka,jr.ceil=bh,jr.clamp=function(t,e,i){return i===r&&(i=e,e=r),i!==r&&(i=(i=ya(i))===i?i:0),e!==r&&(e=(e=ya(e))===e?e:0),hi(ya(t),e,i)},jr.clone=function(t){return ui(t,4)},jr.cloneDeep=function(t){return ui(t,5)},jr.cloneDeepWith=function(t,e){return ui(t,5,e="function"==typeof e?e:r)},jr.cloneWith=function(t,e){return ui(t,4,e="function"==typeof e?e:r)},jr.conformsTo=function(t,e){return null==e||fi(t,e,Ra(e))},jr.deburr=Qa,jr.defaultTo=function(t,e){return null==t||t!==t?e:t},jr.divide=Ah,jr.endsWith=function(t,e,i){t=ba(t),e=cn(e);var n=t.length,s=i=i===r?n:hi(ma(i),0,n);return(i-=e.length)>=0&&t.slice(i,s)==e},jr.eq=zo,jr.escape=function(t){return(t=ba(t))&&X.test(t)?t.replace(W,sr):t},jr.escapeRegExp=function(t){return(t=ba(t))&&st.test(t)?t.replace(nt,"\\$&"):t},jr.every=function(t,e,i){var n=Go(t)?Be:gi;return i&&As(t,e,i)&&(e=r),n(t,fs(e,3))},jr.find=yo,jr.findIndex=Ks,jr.findKey=function(t,e){return je(t,fs(e,3),Ai)},jr.findLast=wo,jr.findLastIndex=Qs,jr.findLastKey=function(t,e){return je(t,fs(e,3),Ei)},jr.floor=Eh,jr.forEach=bo,jr.forEachRight=Ao,jr.forIn=function(t,e){return null==t?t:wi(t,fs(e,3),Ta)},jr.forInRight=function(t,e){return null==t?t:bi(t,fs(e,3),Ta)},jr.forOwn=function(t,e){return t&&Ai(t,fs(e,3))},jr.forOwnRight=function(t,e){return t&&Ei(t,fs(e,3))},jr.get=xa,jr.gt=Ho,jr.gte=Ko,jr.has=function(t,e){return null!=t&&vs(t,e,xi)},jr.hasIn=Ca,jr.head=Ys,jr.identity=sh,jr.includes=function(t,e,r,i){t=Jo(t)?t:za(t),r=r&&!i?ma(r):0;var n=t.length;return r<0&&(r=wr(n+r,0)),ua(t)?r<=n&&t.indexOf(e,r)>-1:!!n&&He(t,e,r)>-1},jr.indexOf=function(t,e,r){var i=null==t?0:t.length;if(!i)return-1;var n=null==r?0:ma(r);return n<0&&(n=wr(i+n,0)),He(t,e,n)},jr.inRange=function(t,e,i){return e=ga(e),i===r?(i=e,e=0):i=ga(i),function(t,e,r){return t>=br(e,r)&&t<wr(e,r)}(t=ya(t),e,i)},jr.invoke=Pa,jr.isArguments=Qo,jr.isArray=Go,jr.isArrayBuffer=Yo,jr.isArrayLike=Jo,jr.isArrayLikeObject=Wo,jr.isBoolean=function(t){return!0===t||!1===t||ia(t)&&Ii(t)==b},jr.isBuffer=Vo,jr.isDate=Xo,jr.isElement=function(t){return ia(t)&&1===t.nodeType&&!oa(t)},jr.isEmpty=function(t){if(null==t)return!0;if(Jo(t)&&(Go(t)||"string"==typeof t||"function"==typeof t.splice||Vo(t)||ca(t)||Qo(t)))return!t.length;var e=ms(t);if(e==S||e==O)return!t.size;if(Ss(t))return!Di(t).length;for(var r in t)if(Ft.call(t,r))return!1;return!0},jr.isEqual=function(t,e){return Ri(t,e)},jr.isEqualWith=function(t,e,i){var n=(i="function"==typeof i?i:r)?i(t,e):r;return n===r?Ri(t,e,r,i):!!n},jr.isError=Zo,jr.isFinite=function(t){return"number"==typeof t&&Je(t)},jr.isFunction=$o,jr.isInteger=ta,jr.isLength=ea,jr.isMap=na,jr.isMatch=function(t,e){return t===e||Ti(t,e,ls(e))},jr.isMatchWith=function(t,e,i){return i="function"==typeof i?i:r,Ti(t,e,ls(e),i)},jr.isNaN=function(t){return sa(t)&&t!=+t},jr.isNative=function(t){if(_s(t))throw new It("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ki(t)},jr.isNil=function(t){return null==t},jr.isNull=function(t){return null===t},jr.isNumber=sa,jr.isObject=ra,jr.isObjectLike=ia,jr.isPlainObject=oa,jr.isRegExp=aa,jr.isSafeInteger=function(t){return ta(t)&&t>=-l&&t<=l},jr.isSet=ha,jr.isString=ua,jr.isSymbol=fa,jr.isTypedArray=ca,jr.isUndefined=function(t){return t===r},jr.isWeakMap=function(t){return ia(t)&&ms(t)==R},jr.isWeakSet=function(t){return ia(t)&&"[object WeakSet]"==Ii(t)},jr.join=function(t,e){return null==t?"":vr.call(t,e)},jr.kebabCase=Ga,jr.last=Xs,jr.lastIndexOf=function(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var s=n;return i!==r&&(s=(s=ma(i))<0?wr(n+s,0):br(s,n-1)),e===e?function(t,e,r){for(var i=r+1;i--;)if(t[i]===e)return i;return i}(t,e,s):ze(t,Qe,s,!0)},jr.lowerCase=Ya,jr.lowerFirst=Ja,jr.lt=la,jr.lte=da,jr.max=function(t){return t&&t.length?mi(t,sh,Ni):r},jr.maxBy=function(t,e){return t&&t.length?mi(t,fs(e,2),Ni):r},jr.mean=function(t){return Ge(t,sh)},jr.meanBy=function(t,e){return Ge(t,fs(e,2))},jr.min=function(t){return t&&t.length?mi(t,sh,Li):r},jr.minBy=function(t,e){return t&&t.length?mi(t,fs(e,2),Li):r},jr.stubArray=vh,jr.stubFalse=yh,jr.stubObject=function(){return{}},jr.stubString=function(){return""},jr.stubTrue=function(){return!0},jr.multiply=Mh,jr.nth=function(t,e){return t&&t.length?Ki(t,ma(e)):r},jr.noConflict=function(){return ge._===this&&(ge._=Ht),this},jr.noop=fh,jr.now=xo,jr.pad=function(t,e,r){t=ba(t);var i=(e=ma(e))?lr(t):0;if(!e||i>=e)return t;var n=(e-i)/2;return Gn(we(n),r)+t+Gn(ve(n),r)},jr.padEnd=function(t,e,r){t=ba(t);var i=(e=ma(e))?lr(t):0;return e&&i<e?t+Gn(e-i,r):t},jr.padStart=function(t,e,r){t=ba(t);var i=(e=ma(e))?lr(t):0;return e&&i<e?Gn(e-i,r)+t:t},jr.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),Er(ba(t).replace(ot,""),e||0)},jr.random=function(t,e,i){if(i&&"boolean"!=typeof i&&As(t,e,i)&&(e=i=r),i===r&&("boolean"==typeof e?(i=e,e=r):"boolean"==typeof t&&(i=t,t=r)),t===r&&e===r?(t=0,e=1):(t=ga(t),e===r?(e=t,t=0):e=ga(e)),t>e){var n=t;t=e,e=n}if(i||t%1||e%1){var s=Mr();return br(t+s*(e-t+ce("1e-"+((s+"").length-1))),e)}return Wi(t,e)},jr.reduce=function(t,e,r){var i=Go(t)?De:We,n=arguments.length<3;return i(t,fs(e,4),r,n,di)},jr.reduceRight=function(t,e,r){var i=Go(t)?Fe:We,n=arguments.length<3;return i(t,fs(e,4),r,n,pi)},jr.repeat=function(t,e,i){return e=(i?As(t,e,i):e===r)?1:ma(e),Vi(ba(t),e)},jr.replace=function(){var t=arguments,e=ba(t[0]);return t.length<3?e:e.replace(t[1],t[2])},jr.result=function(t,e,i){var n=-1,s=(e=An(e,t)).length;for(s||(s=1,t=r);++n<s;){var o=null==t?r:t[Fs(e[n])];o===r&&(n=s,o=i),t=$o(o)?o.call(t):o}return t},jr.round=_h,jr.runInContext=t,jr.sample=function(t){return(Go(t)?Zr:Zi)(t)},jr.size=function(t){if(null==t)return 0;if(Jo(t))return ua(t)?lr(t):t.length;var e=ms(t);return e==S||e==O?t.size:Di(t).length},jr.snakeCase=Wa,jr.some=function(t,e,i){var n=Go(t)?Le:on;return i&&As(t,e,i)&&(e=r),n(t,fs(e,3))},jr.sortedIndex=function(t,e){return an(t,e)},jr.sortedIndexBy=function(t,e,r){return hn(t,e,fs(r,2))},jr.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var i=an(t,e);if(i<r&&zo(t[i],e))return i}return-1},jr.sortedLastIndex=function(t,e){return an(t,e,!0)},jr.sortedLastIndexBy=function(t,e,r){return hn(t,e,fs(r,2),!0)},jr.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var r=an(t,e,!0)-1;if(zo(t[r],e))return r}return-1},jr.startCase=Va,jr.startsWith=function(t,e,r){return t=ba(t),r=null==r?0:hi(ma(r),0,t.length),e=cn(e),t.slice(r,r+e.length)==e},jr.subtract=Sh,jr.sum=function(t){return t&&t.length?Ve(t,sh):0},jr.sumBy=function(t,e){return t&&t.length?Ve(t,fs(e,2)):0},jr.template=function(t,e,i){var n=jr.templateSettings;i&&As(t,e,i)&&(e=r),t=ba(t),e=Ma({},e,n,ts);var s,o,a=Ma({},e.imports,n.imports,ts),h=Ra(a),u=tr(a,h),f=0,c=e.interpolate||Et,l="__p += '",d=Ot((e.escape||Et).source+"|"+c.source+"|"+(c===tt?pt:Et).source+"|"+(e.evaluate||Et).source+"|$","g"),p="//# sourceURL="+(Ft.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ae+"]")+"\n";t.replace(d,(function(e,r,i,n,a,h){return i||(i=n),l+=t.slice(f,h).replace(Mt,or),r&&(s=!0,l+="' +\n__e("+r+") +\n'"),a&&(o=!0,l+="';\n"+a+";\n__p += '"),i&&(l+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),f=h+e.length,e})),l+="';\n";var g=Ft.call(e,"variable")&&e.variable;if(g){if(lt.test(g))throw new It("Invalid `variable` option passed into `_.template`")}else l="with (obj) {\n"+l+"\n}\n";l=(o?l.replace(Q,""):l).replace(G,"$1").replace(Y,"$1;"),l="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var m=th((function(){return Nt(h,p+"return "+l).apply(r,u)}));if(m.source=l,Zo(m))throw m;return m},jr.times=function(t,e){if((t=ma(t))<1||t>l)return[];var r=p,i=br(t,p);e=fs(e),t-=p;for(var n=Xe(i,e);++r<t;)e(r);return n},jr.toFinite=ga,jr.toInteger=ma,jr.toLength=va,jr.toLower=function(t){return ba(t).toLowerCase()},jr.toNumber=ya,jr.toSafeInteger=function(t){return t?hi(ma(t),-l,l):0===t?t:0},jr.toString=ba,jr.toUpper=function(t){return ba(t).toUpperCase()},jr.trim=function(t,e,i){if((t=ba(t))&&(i||e===r))return Ze(t);if(!t||!(e=cn(e)))return t;var n=dr(t),s=dr(e);return Mn(n,rr(n,s),ir(n,s)+1).join("")},jr.trimEnd=function(t,e,i){if((t=ba(t))&&(i||e===r))return t.slice(0,pr(t)+1);if(!t||!(e=cn(e)))return t;var n=dr(t);return Mn(n,0,ir(n,dr(e))+1).join("")},jr.trimStart=function(t,e,i){if((t=ba(t))&&(i||e===r))return t.replace(ot,"");if(!t||!(e=cn(e)))return t;var n=dr(t);return Mn(n,rr(n,dr(e))).join("")},jr.truncate=function(t,e){var i=30,n="...";if(ra(e)){var s="separator"in e?e.separator:s;i="length"in e?ma(e.length):i,n="omission"in e?cn(e.omission):n}var o=(t=ba(t)).length;if(ar(t)){var a=dr(t);o=a.length}if(i>=o)return t;var h=i-lr(n);if(h<1)return n;var u=a?Mn(a,0,h).join(""):t.slice(0,h);if(s===r)return u+n;if(a&&(h+=u.length-h),aa(s)){if(t.slice(h).search(s)){var f,c=u;for(s.global||(s=Ot(s.source,ba(gt.exec(s))+"g")),s.lastIndex=0;f=s.exec(c);)var l=f.index;u=u.slice(0,l===r?h:l)}}else if(t.indexOf(cn(s),h)!=h){var d=u.lastIndexOf(s);d>-1&&(u=u.slice(0,d))}return u+n},jr.unescape=function(t){return(t=ba(t))&&V.test(t)?t.replace(J,gr):t},jr.uniqueId=function(t){var e=++Lt;return ba(t)+e},jr.upperCase=Xa,jr.upperFirst=Za,jr.each=bo,jr.eachRight=Ao,jr.first=Ys,uh(jr,function(){var t={};return Ai(jr,(function(e,r){Ft.call(jr.prototype,r)||(t[r]=e)})),t}(),{chain:!1}),jr.VERSION="4.17.21",Ce(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){jr[t].placeholder=jr})),Ce(["drop","take"],(function(t,e){Qr.prototype[t]=function(i){i=i===r?1:wr(ma(i),0);var n=this.__filtered__&&!e?new Qr(this):this.clone();return n.__filtered__?n.__takeCount__=br(i,n.__takeCount__):n.__views__.push({size:br(i,p),type:t+(n.__dir__<0?"Right":"")}),n},Qr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Ce(["filter","map","takeWhile"],(function(t,e){var r=e+1,i=1==r||3==r;Qr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:fs(t,3),type:r}),e.__filtered__=e.__filtered__||i,e}})),Ce(["head","last"],(function(t,e){var r="take"+(e?"Right":"");Qr.prototype[t]=function(){return this[r](1).value()[0]}})),Ce(["initial","tail"],(function(t,e){var r="drop"+(e?"":"Right");Qr.prototype[t]=function(){return this.__filtered__?new Qr(this):this[r](1)}})),Qr.prototype.compact=function(){return this.filter(sh)},Qr.prototype.find=function(t){return this.filter(t).head()},Qr.prototype.findLast=function(t){return this.reverse().find(t)},Qr.prototype.invokeMap=Xi((function(t,e){return"function"==typeof t?new Qr(this):this.map((function(r){return Bi(r,t,e)}))})),Qr.prototype.reject=function(t){return this.filter(Do(fs(t)))},Qr.prototype.slice=function(t,e){t=ma(t);var i=this;return i.__filtered__&&(t>0||e<0)?new Qr(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),e!==r&&(i=(e=ma(e))<0?i.dropRight(-e):i.take(e-t)),i)},Qr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Qr.prototype.toArray=function(){return this.take(p)},Ai(Qr.prototype,(function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),s=jr[n?"take"+("last"==e?"Right":""):e],o=n||/^find/.test(e);s&&(jr.prototype[e]=function(){var e=this.__wrapped__,a=n?[1]:arguments,h=e instanceof Qr,u=a[0],f=h||Go(e),c=function(t){var e=s.apply(jr,Ue([t],a));return n&&l?e[0]:e};f&&i&&"function"==typeof u&&1!=u.length&&(h=f=!1);var l=this.__chain__,d=!!this.__actions__.length,p=o&&!l,g=h&&!d;if(!o&&f){e=g?e:new Qr(this);var m=t.apply(e,a);return m.__actions__.push({func:go,args:[c],thisArg:r}),new Kr(m,l)}return p&&g?t.apply(this,a):(m=this.thru(c),p?n?m.value()[0]:m.value():m)})})),Ce(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Rt[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);jr.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var n=this.value();return e.apply(Go(n)?n:[],t)}return this[r]((function(r){return e.apply(Go(r)?r:[],t)}))}})),Ai(Qr.prototype,(function(t,e){var r=jr[e];if(r){var i=r.name+"";Ft.call(Pr,i)||(Pr[i]=[]),Pr[i].push({name:e,func:r})}})),Pr[zn(r,2).name]=[{name:"wrapper",func:r}],Qr.prototype.clone=function(){var t=new Qr(this.__wrapped__);return t.__actions__=Bn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Bn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Bn(this.__views__),t},Qr.prototype.reverse=function(){if(this.__filtered__){var t=new Qr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Qr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=Go(t),i=e<0,n=r?t.length:0,s=function(t,e,r){for(var i=-1,n=r.length;++i<n;){var s=r[i],o=s.size;switch(s.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=br(e,t+o);break;case"takeRight":t=wr(t,e-o)}}return{start:t,end:e}}(0,n,this.__views__),o=s.start,a=s.end,h=a-o,u=i?a:o-1,f=this.__iteratees__,c=f.length,l=0,d=br(h,this.__takeCount__);if(!r||!i&&n==h&&d==h)return mn(t,this.__actions__);var p=[];t:for(;h--&&l<d;){for(var g=-1,m=t[u+=e];++g<c;){var v=f[g],y=v.iteratee,w=v.type,b=y(m);if(2==w)m=b;else if(!b){if(1==w)continue t;break t}}p[l++]=m}return p},jr.prototype.at=mo,jr.prototype.chain=function(){return po(this)},jr.prototype.commit=function(){return new Kr(this.value(),this.__chain__)},jr.prototype.next=function(){this.__values__===r&&(this.__values__=pa(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?r:this.__values__[this.__index__++]}},jr.prototype.plant=function(t){for(var e,i=this;i instanceof Hr;){var n=qs(i);n.__index__=0,n.__values__=r,e?s.__wrapped__=n:e=n;var s=n;i=i.__wrapped__}return s.__wrapped__=t,e},jr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Qr){var e=t;return this.__actions__.length&&(e=new Qr(this)),(e=e.reverse()).__actions__.push({func:go,args:[eo],thisArg:r}),new Kr(e,this.__chain__)}return this.thru(eo)},jr.prototype.toJSON=jr.prototype.valueOf=jr.prototype.value=function(){return mn(this.__wrapped__,this.__actions__)},jr.prototype.first=jr.prototype.head,re&&(jr.prototype[re]=function(){return this}),jr}();ve?((ve.exports=mr)._=mr,me._=mr):ge._=mr}).call(ZI)}($I,$I.exports);var tN=Object.defineProperty,eN=Object.defineProperties,rN=Object.getOwnPropertyDescriptors,iN=Object.getOwnPropertySymbols,nN=Object.prototype.hasOwnProperty,sN=Object.prototype.propertyIsEnumerable,oN=(t,e,r)=>e in t?tN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,aN=(t,e)=>{for(var r in e||(e={}))nN.call(e,r)&&oN(t,r,e[r]);if(iN)for(var r of iN(e))sN.call(e,r)&&oN(t,r,e[r]);return t},hN=(t,e)=>eN(t,rN(e));function uN(t,e,r){var i;const n=OE(t);return(null==(i=e.rpcMap)?void 0:i[n.reference])||`https://rpc.walletconnect.com/v1/?chainId=${n.namespace}:${n.reference}&projectId=${r}`}function fN(t){return t.includes(":")?t.split(":")[1]:t}function cN(t){return t.map((t=>`${t.split(":")[0]}:${t.split(":")[1]}`))}function lN(t={},e={}){const r=dN(t),i=dN(e);return $I.exports.merge(r,i)}function dN(t){var e,r,i,n;const s={};if(!TI(t))return s;for(const[o,a]of Object.entries(t)){const t=CI(o)?[o]:a.chains,h=a.methods||[],u=a.events||[],f=a.rpcMap||{},c=OI(o);s[c]=hN(aN(aN({},s[c]),a),{chains:BE(t,null==(e=s[c])?void 0:e.chains),methods:BE(h,null==(r=s[c])?void 0:r.methods),events:BE(u,null==(i=s[c])?void 0:i.events),rpcMap:aN(aN({},f),null==(n=s[c])?void 0:n.rpcMap)})}return s}function pN(t){return t.includes(":")?t.split(":")[2]:t}function gN(t){const e={};for(const[r,i]of Object.entries(t)){const t=i.methods||[],n=i.events||[],s=i.accounts||[],o=CI(r)?[r]:i.chains?i.chains:cN(i.accounts);e[r]={chains:o,methods:t,events:n,accounts:s}}return e}function mN(t){return"number"==typeof t?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const vN={},yN=t=>vN[t],wN=(t,e)=>{vN[t]=e};class bN{constructor(t){this.name="polkadot",this.namespace=t.namespace,this.events=yN("events"),this.client=yN("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(XI,`${this.name}:${t}`)}getAccounts(){const t=this.namespace.accounts;return t&&t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2]))||[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;const i=fN(e);t[i]=this.createHttpProvider(i,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||uN(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Xl(new YI(r,yN("disableProviderPing")))}}var AN=Object.defineProperty,EN=Object.defineProperties,MN=Object.getOwnPropertyDescriptors,_N=Object.getOwnPropertySymbols,SN=Object.prototype.hasOwnProperty,IN=Object.prototype.propertyIsEnumerable,NN=(t,e,r)=>e in t?AN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xN=(t,e)=>{for(var r in e||(e={}))SN.call(e,r)&&NN(t,r,e[r]);if(_N)for(var r of _N(e))IN.call(e,r)&&NN(t,r,e[r]);return t},CN=(t,e)=>EN(t,MN(e));class ON{constructor(t){this.name="eip155",this.namespace=t.namespace,this.events=yN("events"),this.client=yN("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){switch(t.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(t)}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(parseInt(t),e),this.chainId=parseInt(t),this.events.emit(XI,`${this.name}:${t}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,e){const r=e||uN(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Xl(new YI(r,yN("disableProviderPing")))}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;const i=parseInt(fN(e));t[i]=this.createHttpProvider(i,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}getHttpProvider(){const t=this.chainId,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}async handleSwitchChain(t){var e,r;let i=t.request.params?null==(e=t.request.params[0])?void 0:e.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const n=parseInt(i,16);if(this.isChainApproved(n))this.setDefaultChain(`${n}`);else{if(!this.namespace.methods.includes("wallet_switchEthereumChain"))throw new Error(`Failed to switch to chain 'eip155:${n}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:i}]},chainId:null==(r=this.namespace.chains)?void 0:r[0]}),this.setDefaultChain(`${n}`)}return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}async getCapabilities(t){var e,r,i;const n=null==(r=null==(e=t.request)?void 0:e.params)?void 0:r[0];if(!n)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const s=this.client.session.get(t.topic),o=(null==(i=s?.sessionProperties)?void 0:i.capabilities)||{};if(null!=o&&o[n])return o?.[n];const a=await this.client.request(t);try{await this.client.session.update(t.topic,{sessionProperties:CN(xN({},s.sessionProperties||{}),{capabilities:CN(xN({},o||{}),{[n]:a})})})}catch(Be){console.warn("Failed to update session with capabilities",Be)}return a}}class BN{constructor(t){this.name="solana",this.namespace=t.namespace,this.events=yN("events"),this.client=yN("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(XI,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;const i=fN(e);t[i]=this.createHttpProvider(i,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||uN(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Xl(new YI(r,yN("disableProviderPing")))}}class PN{constructor(t){this.name="cosmos",this.namespace=t.namespace,this.events=yN("events"),this.client=yN("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(XI,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;const i=fN(e);t[i]=this.createHttpProvider(i,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||uN(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Xl(new YI(r,yN("disableProviderPing")))}}class RN{constructor(t){this.name="algorand",this.namespace=t.namespace,this.events=yN("events"),this.client=yN("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){if(!this.httpProviders[t]){const r=e||uN(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,r)}this.chainId=t,this.events.emit(XI,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;t[e]=this.createHttpProvider(e,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||uN(t,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new Xl(new YI(r,yN("disableProviderPing")))}}class TN{constructor(t){this.name="cip34",this.namespace=t.namespace,this.events=yN("events"),this.client=yN("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(XI,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{const r=this.getCardanoRPCUrl(e),i=fN(e);t[i]=this.createHttpProvider(i,r)})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}getCardanoRPCUrl(t){const e=this.namespace.rpcMap;if(e)return e[t]}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||this.getCardanoRPCUrl(t);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Xl(new YI(r,yN("disableProviderPing")))}}class kN{constructor(t){this.name="elrond",this.namespace=t.namespace,this.events=yN("events"),this.client=yN("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(XI,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;const i=fN(e);t[i]=this.createHttpProvider(i,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||uN(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Xl(new YI(r,yN("disableProviderPing")))}}class UN{constructor(t){this.name="multiversx",this.namespace=t.namespace,this.events=yN("events"),this.client=yN("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(XI,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;const i=fN(e);t[i]=this.createHttpProvider(i,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||uN(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Xl(new YI(r,yN("disableProviderPing")))}}class DN{constructor(t){this.name="near",this.namespace=t.namespace,this.events=yN("events"),this.client=yN("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){if(this.chainId=t,!this.httpProviders[t]){const r=e||uN(`${this.name}:${t}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,r)}this.events.emit(XI,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t&&t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2]))||[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;t[e]=this.createHttpProvider(e,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||uN(t,this.namespace);return typeof r>"u"?void 0:new Xl(new YI(r,yN("disableProviderPing")))}}class FN{constructor(t){this.name=VI,this.namespace=t.namespace,this.events=yN("events"),this.client=yN("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(t.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(t.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(t.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(t.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider(t.chainId).request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(XI,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){var t,e;const r={};return null==(e=null==(t=this.namespace)?void 0:t.accounts)||e.forEach((t=>{const e=OE(t);r[`${e.namespace}:${e.reference}`]=this.createHttpProvider(t)})),r}getHttpProvider(t){const e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||uN(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Xl(new YI(r,yN("disableProviderPing")))}}var LN=Object.defineProperty,qN=Object.defineProperties,jN=Object.getOwnPropertyDescriptors,zN=Object.getOwnPropertySymbols,HN=Object.prototype.hasOwnProperty,KN=Object.prototype.propertyIsEnumerable,QN=(t,e,r)=>e in t?LN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,GN=(t,e)=>{for(var r in e||(e={}))HN.call(e,r)&&QN(t,r,e[r]);if(zN)for(var r of zN(e))KN.call(e,r)&&QN(t,r,e[r]);return t},YN=(t,e)=>qN(t,jN(e));class JN{constructor(t){this.events=new(y()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=t,this.logger=typeof t?.logger<"u"&&"string"!=typeof t?.logger?t.logger:zs()(so({level:t?.logger||JI})),this.disableProviderPing=t?.disableProviderPing||!1}static async init(t){const e=new JN(t);return await e.initialize(),e}async request(t,e,r){const[i,n]=this.validateChain(e);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:GN({},t),chainId:`${i}:${n}`,topic:this.session.topic,expiry:r})}sendAsync(t,e,r,i){const n=(new Date).getTime();this.request(t,r,i).then((t=>e(null,Dl(n,t)))).catch((t=>e(t,void 0)))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(t=this.session)?void 0:t.topic,reason:PI("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}async authenticate(t){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(t),await this.cleanupPendingPairings();const{uri:e,response:r}=await this.client.authenticate(t);e&&(this.uri=e,this.events.emit("display_uri",e));const i=await r();if(this.session=i.session,this.session){const t=gN(this.session.namespaces);this.namespaces=lN(this.namespaces,t),this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}removeListener(t,e){this.events.removeListener(t,e)}off(t,e){this.events.off(t,e)}get isWalletConnect(){return!0}async pair(t){this.shouldAbortPairingAttempt=!1;let e=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(e>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:r,approval:i}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});r&&(this.uri=r,this.events.emit("display_uri",r)),await i().then((t=>{this.session=t;const e=gN(t.namespaces);this.namespaces=lN(this.namespaces,e),this.persist("namespaces",this.namespaces)})).catch((t=>{if(t.message!==$A)throw t;e++}))}while(!this.session);return this.onConnect(),this.session}setDefaultChain(t,e){try{if(!this.session)return;const[r,i]=this.validateChain(t),n=this.getProvider(r);n.name===VI?n.setDefaultChain(`${r}:${i}`,e):n.setDefaultChain(i,e)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(t={}){this.logger.info("Cleaning up inactive pairings...");const e=this.client.pairing.getAll();if(RI(e)){for(const r of e)t.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${e.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const t=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[t]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await SE.init({logger:this.providerOpts.logger||JI,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.com",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map((t=>OI(t))))];wN("client",this.client),wN("events",this.events),wN("disableProviderPing",this.disableProviderPing),t.forEach((t=>{if(!this.session)return;const e=function(t,e){const r=Object.keys(e.namespaces).filter((e=>e.includes(t)));if(!r.length)return[];const i=[];return r.forEach((t=>{const r=e.namespaces[t].accounts;i.push(...r)})),i}(t,this.session),r=cN(e),i=lN(this.namespaces,this.optionalNamespaces),n=YN(GN({},i[t]),{accounts:e,chains:r});switch(t){case"eip155":this.rpcProviders[t]=new ON({namespace:n});break;case"algorand":this.rpcProviders[t]=new RN({namespace:n});break;case"solana":this.rpcProviders[t]=new BN({namespace:n});break;case"cosmos":this.rpcProviders[t]=new PN({namespace:n});break;case"polkadot":this.rpcProviders[t]=new bN({namespace:n});break;case"cip34":this.rpcProviders[t]=new TN({namespace:n});break;case"elrond":this.rpcProviders[t]=new kN({namespace:n});break;case"multiversx":this.rpcProviders[t]=new UN({namespace:n});break;case"near":this.rpcProviders[t]=new DN({namespace:n});break;default:this.rpcProviders[VI]?this.rpcProviders[VI].updateNamespace(n):this.rpcProviders[VI]=new FN({namespace:n})}}))}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",(t=>{this.events.emit("session_ping",t)})),this.client.on("session_event",(t=>{const{params:e}=t,{event:r}=e;if("accountsChanged"===r.name){const t=r.data;t&&RI(t)&&this.events.emit("accountsChanged",t.map(pN))}else if("chainChanged"===r.name){const t=e.chainId,r=e.event.data,i=OI(t),n=mN(t)!==mN(r)?`${i}:${mN(r)}`:t;this.onChainChanged(n)}else this.events.emit(r.name,r.data);this.events.emit("session_event",t)})),this.client.on("session_update",(({topic:t,params:e})=>{var r;const{namespaces:i}=e,n=null==(r=this.client)?void 0:r.session.get(t);this.session=YN(GN({},n),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:e})})),this.client.on("session_delete",(async t=>{await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",YN(GN({},PI("USER_DISCONNECTED")),{data:t.topic}))})),this.on(XI,(t=>{this.onChainChanged(t,!0)}))}getProvider(t){return this.rpcProviders[t]||this.rpcProviders[VI]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach((t=>{var e;this.getProvider(t).updateNamespace(null==(e=this.session)?void 0:e.namespaces[t])}))}setNamespaces(t){const{namespaces:e,optionalNamespaces:r,sessionProperties:i}=t;e&&Object.keys(e).length&&(this.namespaces=e),r&&Object.keys(r).length&&(this.optionalNamespaces=r),this.sessionProperties=i,this.persist("namespaces",e),this.persist("optionalNamespaces",r)}validateChain(t){const[e,r]=t?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[e,r];if(e&&!Object.keys(this.namespaces||{}).map((t=>OI(t))).includes(e))throw new Error(`Namespace '${e}' is not configured. Please call connect() first with namespace config.`);if(e&&r)return[e,r];const i=OI(Object.keys(this.namespaces)[0]);return[i,this.rpcProviders[i].getDefaultChain()]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}onChainChanged(t,e=!1){if(!this.namespaces)return;const[r,i]=this.validateChain(t);i&&(e||this.getProvider(r).setDefaultChain(i),this.namespaces[r]?this.namespaces[r].defaultChain=i:this.namespaces[`${r}:${i}`]?this.namespaces[`${r}:${i}`].defaultChain=i:this.namespaces[`${r}:${i}`]={defaultChain:i},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",i))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(t,e){this.client.core.storage.setItem(`${WI}/${t}`,e)}async getFromStore(t){return await this.client.core.storage.getItem(`${WI}/${t}`)}}const WN=JN,VN=["eth_sendTransaction","personal_sign"],XN=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],ZN=["chainChanged","accountsChanged"],$N=["chainChanged","accountsChanged","message","disconnect","connect"];var tx=Object.defineProperty,ex=Object.defineProperties,rx=Object.getOwnPropertyDescriptors,ix=Object.getOwnPropertySymbols,nx=Object.prototype.hasOwnProperty,sx=Object.prototype.propertyIsEnumerable,ox=(t,e,r)=>e in t?tx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ax=(t,e)=>{for(var r in e||(e={}))nx.call(e,r)&&ox(t,r,e[r]);if(ix)for(var r of ix(e))sx.call(e,r)&&ox(t,r,e[r]);return t},hx=(t,e)=>ex(t,rx(e));function ux(t){return Number(t[0].split(":")[1])}function fx(t){return`0x${t.toString(16)}`}class cx{constructor(){this.events=new v.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY="wc@2:ethereum_provider:",this.on=(t,e)=>(this.events.on(t,e),this),this.once=(t,e)=>(this.events.once(t,e),this),this.removeListener=(t,e)=>(this.events.removeListener(t,e),this),this.off=(t,e)=>(this.events.off(t,e),this),this.parseAccount=t=>this.isCompatibleChainId(t)?this.parseAccountId(t).address:t,this.signer={},this.rpc={}}static async init(t){const e=new cx;return await e.initialize(t),e}async request(t,e){return await this.signer.request(t,this.formatChainId(this.chainId),e)}sendAsync(t,e,r){this.signer.sendAsync(t,e,this.formatChainId(this.chainId),r)}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(t){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(t);const{required:e,optional:r}=function(t){const{chains:e,optionalChains:r,methods:i,optionalMethods:n,events:s,optionalEvents:o,rpcMap:a}=t;if(!es(e))throw new Error("Invalid chains");const h={chains:e,methods:i||VN,events:s||ZN,rpcMap:ax({},e.length?{[ux(e)]:a[ux(e)]}:{})},u=s?.filter((t=>!ZN.includes(t))),f=i?.filter((t=>!VN.includes(t)));if(!r&&!o&&!n&&(null==u||!u.length)&&(null==f||!f.length))return{required:e.length?h:void 0};const c={chains:[...new Set(u?.length&&f?.length||!r?h.chains.concat(r||[]):r)],methods:[...new Set(h.methods.concat(null!=n&&n.length?n:XN))],events:[...new Set(h.events.concat(null!=o&&o.length?o:$N))],rpcMap:a};return{required:e.length?h:void 0,optional:r.length?c:void 0}}(this.rpc);try{const i=await new Promise((async(i,n)=>{var s;this.rpc.showQrModal&&(null==(s=this.modal)||s.subscribeModal((t=>{!t.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),n(new Error("Connection request reset. Please try again.")))}))),await this.signer.connect(hx(ax({namespaces:ax({},e&&{[this.namespace]:e})},r&&{optionalNamespaces:{[this.namespace]:r}}),{pairingTopic:t?.pairingTopic})).then((t=>{i(t)})).catch((t=>{n(new Error(t.message))}))}));if(!i)return;const n=te(i.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:n),this.setAccounts(n),this.events.emit("connect",{chainId:fx(this.chainId)})}catch(i){throw this.signer.logger.error(i),i}finally{this.modal&&this.modal.closeModal()}}async authenticate(t){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:t?.chains});try{const e=await new Promise((async(e,r)=>{var i;this.rpc.showQrModal&&(null==(i=this.modal)||i.subscribeModal((t=>{!t.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),r(new Error("Connection request reset. Please try again.")))}))),await this.signer.authenticate(hx(ax({},t),{chains:this.rpc.chains})).then((t=>{e(t)})).catch((t=>{r(new Error(t.message))}))})),r=e.session;if(r){const t=te(r.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:t),this.setAccounts(t),this.events.emit("connect",{chainId:fx(this.chainId)})}return e}catch(Fs){throw this.signer.logger.error(Fs),Fs}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",(t=>{const{params:e}=t,{event:r}=e;"accountsChanged"===r.name?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===r.name?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",t)})),this.signer.on("chainChanged",(t=>{const e=parseInt(t);this.chainId=e,this.events.emit("chainChanged",fx(this.chainId)),this.persist()})),this.signer.on("session_update",(t=>{this.events.emit("session_update",t)})),this.signer.on("session_delete",(t=>{this.reset(),this.events.emit("session_delete",t),this.events.emit("disconnect",hx(ax({},ts("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))})),this.signer.on("display_uri",(t=>{var e,r;this.rpc.showQrModal&&(null==(e=this.modal)||e.closeModal(),null==(r=this.modal)||r.openModal({uri:t})),this.events.emit("display_uri",t)}))}switchEthereumChain(t){this.request({method:"wallet_switchEthereumChain",params:[{chainId:t.toString(16)}]})}isCompatibleChainId(t){return"string"==typeof t&&t.startsWith(`${this.namespace}:`)}formatChainId(t){return`${this.namespace}:${t}`}parseChainId(t){return Number(t.split(":")[1])}setChainIds(t){const e=t.filter((t=>this.isCompatibleChainId(t))).map((t=>this.parseChainId(t)));e.length&&(this.chainId=e[0],this.events.emit("chainChanged",fx(this.chainId)),this.persist())}setChainId(t){if(this.isCompatibleChainId(t)){const e=this.parseChainId(t);this.chainId=e,this.switchEthereumChain(e)}}parseAccountId(t){const[e,r,i]=t.split(":");return{chainId:`${e}:${r}`,address:i}}setAccounts(t){this.accounts=t.filter((t=>this.parseChainId(this.parseAccountId(t).chainId)===this.chainId)).map((t=>this.parseAccountId(t).address)),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(t){var e,r;const i=null!=(e=t?.chains)?e:[],n=null!=(r=t?.optionalChains)?r:[],s=i.concat(n);if(!s.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const o=i.length?t?.methods||VN:[],a=i.length?t?.events||ZN:[],h=t?.optionalMethods||[],u=t?.optionalEvents||[],f=t?.rpcMap||this.buildRpcMap(s,t.projectId),c=t?.qrModalOptions||void 0;return{chains:i?.map((t=>this.formatChainId(t))),optionalChains:n.map((t=>this.formatChainId(t))),methods:o,events:a,optionalMethods:h,optionalEvents:u,rpcMap:f,showQrModal:!(null==t||!t.showQrModal),qrModalOptions:c,projectId:t.projectId,metadata:t.metadata}}buildRpcMap(t,e){const r={};return t.forEach((t=>{r[t]=this.getRpcUrl(t,e)})),r}async initialize(t){if(this.rpc=this.getRpcConfig(t),this.chainId=this.rpc.chains.length?ux(this.rpc.chains):ux(this.rpc.optionalChains),this.signer=await WN.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storageOptions:t.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let t;try{const{WalletConnectModal:e}=await r.e(2083).then(r.bind(r,2083));t=e}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(t)try{this.modal=new t(ax({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(io){throw this.signer.logger.error(io),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(t){if(!t)return;const{chains:e,optionalChains:r,rpcMap:i}=t;e&&es(e)&&(this.rpc.chains=e.map((t=>this.formatChainId(t))),e.forEach((t=>{this.rpc.rpcMap[t]=i?.[t]||this.getRpcUrl(t)}))),r&&es(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r?.map((t=>this.formatChainId(t))),r.forEach((t=>{this.rpc.rpcMap[t]=i?.[t]||this.getRpcUrl(t)})))}getRpcUrl(t,e){var r;return(null==(r=this.rpc.rpcMap)?void 0:r[t])||`https://rpc.walletconnect.com/v1/?chainId=eip155:${t}&projectId=${e||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const t=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),e=this.session.namespaces[`${this.namespace}:${t}`]?this.session.namespaces[`${this.namespace}:${t}`]:this.session.namespaces[this.namespace];this.setChainIds(t?[this.formatChainId(t)]:e?.accounts),this.setAccounts(e?.accounts)}catch(t){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(t),await this.disconnect().catch((t=>this.signer.logger.warn(t)))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(t){return"string"==typeof t||t instanceof String?[this.parseAccount(t)]:t.map((t=>this.parseAccount(t)))}}const lx=cx},3671:function(t,e,r){"use strict";const i=r(6873),n=r(6081),s=r(4031),o=r(2200),a=Symbol("encodeFragmentIdentifier");function h(t){if("string"!==typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(t,e){return e.encode?e.strict?i(t):encodeURIComponent(t):t}function f(t,e){return e.decode?n(t):t}function c(t){return Array.isArray(t)?t.sort():"object"===typeof t?c(Object.keys(t)).sort(((t,e)=>Number(t)-Number(e))).map((e=>t[e])):t}function l(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function d(t){const e=(t=l(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function p(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"===typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function g(t,e){h((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const r=function(t){let e;switch(t.arrayFormat){case"index":return(t,r,i)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===i[t]&&(i[t]={}),i[t][e[1]]=r):i[t]=r};case"bracket":return(t,r,i)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==i[t]?i[t]=[].concat(i[t],r):i[t]=[r]:i[t]=r};case"colon-list-separator":return(t,r,i)=>{e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),e?void 0!==i[t]?i[t]=[].concat(i[t],r):i[t]=[r]:i[t]=r};case"comma":case"separator":return(e,r,i)=>{const n="string"===typeof r&&r.includes(t.arrayFormatSeparator),s="string"===typeof r&&!n&&f(r,t).includes(t.arrayFormatSeparator);r=s?f(r,t):r;const o=n||s?r.split(t.arrayFormatSeparator).map((e=>f(e,t))):null===r?r:f(r,t);i[e]=o};case"bracket-separator":return(e,r,i)=>{const n=/(\[\])$/.test(e);if(e=e.replace(/\[\]$/,""),!n)return void(i[e]=r?f(r,t):r);const s=null===r?[]:r.split(t.arrayFormatSeparator).map((e=>f(e,t)));void 0!==i[e]?i[e]=[].concat(i[e],s):i[e]=s};default:return(t,e,r)=>{void 0!==r[t]?r[t]=[].concat(r[t],e):r[t]=e}}}(e),i=Object.create(null);if("string"!==typeof t)return i;if(!(t=t.trim().replace(/^[?#&]/,"")))return i;for(const n of t.split("&")){if(""===n)continue;let[t,o]=s(e.decode?n.replace(/\+/g," "):n,"=");o=void 0===o?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?o:f(o,e),r(f(t,e),o,i)}for(const n of Object.keys(i)){const t=i[n];if("object"===typeof t&&null!==t)for(const r of Object.keys(t))t[r]=p(t[r],e);else i[n]=p(t,e)}return!1===e.sort?i:(!0===e.sort?Object.keys(i).sort():Object.keys(i).sort(e.sort)).reduce(((t,e)=>{const r=i[e];return Boolean(r)&&"object"===typeof r&&!Array.isArray(r)?t[e]=c(r):t[e]=r,t}),Object.create(null))}e.extract=d,e.parse=g,e.stringify=(t,e)=>{if(!t)return"";h((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const r=r=>{return e.skipNull&&(null===(i=t[r])||void 0===i)||e.skipEmptyString&&""===t[r];var i},i=function(t){switch(t.arrayFormat){case"index":return e=>(r,i)=>{const n=r.length;return void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?r:null===i?[...r,[u(e,t),"[",n,"]"].join("")]:[...r,[u(e,t),"[",u(n,t),"]=",u(i,t)].join("")]};case"bracket":return e=>(r,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?r:null===i?[...r,[u(e,t),"[]"].join("")]:[...r,[u(e,t),"[]=",u(i,t)].join("")];case"colon-list-separator":return e=>(r,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?r:null===i?[...r,[u(e,t),":list="].join("")]:[...r,[u(e,t),":list=",u(i,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e="bracket-separator"===t.arrayFormat?"[]=":"=";return r=>(i,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?i:(n=null===n?"":n,0===i.length?[[u(r,t),e,u(n,t)].join("")]:[[i,u(n,t)].join(t.arrayFormatSeparator)])}default:return e=>(r,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?r:null===i?[...r,u(e,t)]:[...r,[u(e,t),"=",u(i,t)].join("")]}}(e),n={};for(const o of Object.keys(t))r(o)||(n[o]=t[o]);const s=Object.keys(n);return!1!==e.sort&&s.sort(e.sort),s.map((r=>{const n=t[r];return void 0===n?"":null===n?u(r,e):Array.isArray(n)?0===n.length&&"bracket-separator"===e.arrayFormat?u(r,e)+"[]":n.reduce(i(r),[]).join("&"):u(r,e)+"="+u(n,e)})).filter((t=>t.length>0)).join("&")},e.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);const[r,i]=s(t,"#");return Object.assign({url:r.split("?")[0]||"",query:g(d(t),e)},e&&e.parseFragmentIdentifier&&i?{fragmentIdentifier:f(i,e)}:{})},e.stringifyUrl=(t,r)=>{r=Object.assign({encode:!0,strict:!0,[a]:!0},r);const i=l(t.url).split("?")[0]||"",n=e.extract(t.url),s=e.parse(n,{sort:!1}),o=Object.assign(s,t.query);let h=e.stringify(o,r);h&&(h=`?${h}`);let f=function(t){let e="";const r=t.indexOf("#");return-1!==r&&(e=t.slice(r)),e}(t.url);return t.fragmentIdentifier&&(f=`#${r[a]?u(t.fragmentIdentifier,r):t.fragmentIdentifier}`),`${i}${h}${f}`},e.pick=(t,r,i)=>{i=Object.assign({parseFragmentIdentifier:!0,[a]:!1},i);const{url:n,query:s,fragmentIdentifier:h}=e.parseUrl(t,i);return e.stringifyUrl({url:n,query:o(s,r),fragmentIdentifier:h},i)},e.exclude=(t,r,i)=>{const n=Array.isArray(r)?t=>!r.includes(t):(t,e)=>!r(t,e);return e.pick(t,n,i)}},2402:function(){},7757:function(t,e,r){"use strict";const i=r(6873),n=r(6081),s=r(4031),o=r(2200),a=Symbol("encodeFragmentIdentifier");function h(t){if("string"!==typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(t,e){return e.encode?e.strict?i(t):encodeURIComponent(t):t}function f(t,e){return e.decode?n(t):t}function c(t){return Array.isArray(t)?t.sort():"object"===typeof t?c(Object.keys(t)).sort(((t,e)=>Number(t)-Number(e))).map((e=>t[e])):t}function l(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function d(t){const e=(t=l(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function p(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"===typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function g(t,e){h((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const r=function(t){let e;switch(t.arrayFormat){case"index":return(t,r,i)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===i[t]&&(i[t]={}),i[t][e[1]]=r):i[t]=r};case"bracket":return(t,r,i)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==i[t]?i[t]=[].concat(i[t],r):i[t]=[r]:i[t]=r};case"colon-list-separator":return(t,r,i)=>{e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),e?void 0!==i[t]?i[t]=[].concat(i[t],r):i[t]=[r]:i[t]=r};case"comma":case"separator":return(e,r,i)=>{const n="string"===typeof r&&r.includes(t.arrayFormatSeparator),s="string"===typeof r&&!n&&f(r,t).includes(t.arrayFormatSeparator);r=s?f(r,t):r;const o=n||s?r.split(t.arrayFormatSeparator).map((e=>f(e,t))):null===r?r:f(r,t);i[e]=o};case"bracket-separator":return(e,r,i)=>{const n=/(\[\])$/.test(e);if(e=e.replace(/\[\]$/,""),!n)return void(i[e]=r?f(r,t):r);const s=null===r?[]:r.split(t.arrayFormatSeparator).map((e=>f(e,t)));void 0!==i[e]?i[e]=[].concat(i[e],s):i[e]=s};default:return(t,e,r)=>{void 0!==r[t]?r[t]=[].concat(r[t],e):r[t]=e}}}(e),i=Object.create(null);if("string"!==typeof t)return i;if(!(t=t.trim().replace(/^[?#&]/,"")))return i;for(const n of t.split("&")){if(""===n)continue;let[t,o]=s(e.decode?n.replace(/\+/g," "):n,"=");o=void 0===o?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?o:f(o,e),r(f(t,e),o,i)}for(const n of Object.keys(i)){const t=i[n];if("object"===typeof t&&null!==t)for(const r of Object.keys(t))t[r]=p(t[r],e);else i[n]=p(t,e)}return!1===e.sort?i:(!0===e.sort?Object.keys(i).sort():Object.keys(i).sort(e.sort)).reduce(((t,e)=>{const r=i[e];return Boolean(r)&&"object"===typeof r&&!Array.isArray(r)?t[e]=c(r):t[e]=r,t}),Object.create(null))}e.extract=d,e.parse=g,e.stringify=(t,e)=>{if(!t)return"";h((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const r=r=>{return e.skipNull&&(null===(i=t[r])||void 0===i)||e.skipEmptyString&&""===t[r];var i},i=function(t){switch(t.arrayFormat){case"index":return e=>(r,i)=>{const n=r.length;return void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?r:null===i?[...r,[u(e,t),"[",n,"]"].join("")]:[...r,[u(e,t),"[",u(n,t),"]=",u(i,t)].join("")]};case"bracket":return e=>(r,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?r:null===i?[...r,[u(e,t),"[]"].join("")]:[...r,[u(e,t),"[]=",u(i,t)].join("")];case"colon-list-separator":return e=>(r,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?r:null===i?[...r,[u(e,t),":list="].join("")]:[...r,[u(e,t),":list=",u(i,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e="bracket-separator"===t.arrayFormat?"[]=":"=";return r=>(i,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?i:(n=null===n?"":n,0===i.length?[[u(r,t),e,u(n,t)].join("")]:[[i,u(n,t)].join(t.arrayFormatSeparator)])}default:return e=>(r,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?r:null===i?[...r,u(e,t)]:[...r,[u(e,t),"=",u(i,t)].join("")]}}(e),n={};for(const o of Object.keys(t))r(o)||(n[o]=t[o]);const s=Object.keys(n);return!1!==e.sort&&s.sort(e.sort),s.map((r=>{const n=t[r];return void 0===n?"":null===n?u(r,e):Array.isArray(n)?0===n.length&&"bracket-separator"===e.arrayFormat?u(r,e)+"[]":n.reduce(i(r),[]).join("&"):u(r,e)+"="+u(n,e)})).filter((t=>t.length>0)).join("&")},e.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);const[r,i]=s(t,"#");return Object.assign({url:r.split("?")[0]||"",query:g(d(t),e)},e&&e.parseFragmentIdentifier&&i?{fragmentIdentifier:f(i,e)}:{})},e.stringifyUrl=(t,r)=>{r=Object.assign({encode:!0,strict:!0,[a]:!0},r);const i=l(t.url).split("?")[0]||"",n=e.extract(t.url),s=e.parse(n,{sort:!1}),o=Object.assign(s,t.query);let h=e.stringify(o,r);h&&(h=`?${h}`);let f=function(t){let e="";const r=t.indexOf("#");return-1!==r&&(e=t.slice(r)),e}(t.url);return t.fragmentIdentifier&&(f=`#${r[a]?u(t.fragmentIdentifier,r):t.fragmentIdentifier}`),`${i}${h}${f}`},e.pick=(t,r,i)=>{i=Object.assign({parseFragmentIdentifier:!0,[a]:!1},i);const{url:n,query:s,fragmentIdentifier:h}=e.parseUrl(t,i);return e.stringifyUrl({url:n,query:o(s,r),fragmentIdentifier:h},i)},e.exclude=(t,r,i)=>{const n=Array.isArray(r)?t=>!r.includes(t):(t,e)=>!r(t,e);return e.pick(t,n,i)}},9601:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(3687);i.__exportStar(r(3253),e),i.__exportStar(r(7760),e)},3253:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_THOUSAND=e.ONE_HUNDRED=void 0,e.ONE_HUNDRED=100,e.ONE_THOUSAND=1e3},7760:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=5*e.ONE_MINUTE,e.TEN_MINUTES=10*e.ONE_MINUTE,e.THIRTY_MINUTES=30*e.ONE_MINUTE,e.SIXTY_MINUTES=60*e.ONE_MINUTE,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=3*e.ONE_HOUR,e.SIX_HOURS=6*e.ONE_HOUR,e.TWELVE_HOURS=12*e.ONE_HOUR,e.TWENTY_FOUR_HOURS=24*e.ONE_HOUR,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=3*e.ONE_DAY,e.FIVE_DAYS=5*e.ONE_DAY,e.SEVEN_DAYS=7*e.ONE_DAY,e.THIRTY_DAYS=30*e.ONE_DAY,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=2*e.ONE_WEEK,e.THREE_WEEKS=3*e.ONE_WEEK,e.FOUR_WEEKS=4*e.ONE_WEEK,e.ONE_YEAR=365*e.ONE_DAY},6671:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(3687);i.__exportStar(r(7049),e),i.__exportStar(r(1532),e),i.__exportStar(r(325),e),i.__exportStar(r(9601),e)},325:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});r(3687).__exportStar(r(790),e)},790:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWatch=void 0;e.IWatch=class{}},4578:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromMiliseconds=e.toMiliseconds=void 0;const i=r(9601);e.toMiliseconds=function(t){return t*i.ONE_THOUSAND},e.fromMiliseconds=function(t){return Math.floor(t/i.ONE_THOUSAND)}},3262:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.delay=void 0,e.delay=function(t){return new Promise((e=>{setTimeout((()=>{e(!0)}),t)}))}},7049:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(3687);i.__exportStar(r(3262),e),i.__exportStar(r(4578),e)},1532:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(t){if(this.timestamps.has(t))throw new Error(`Watch already started for label: ${t}`);this.timestamps.set(t,{started:Date.now()})}stop(t){const e=this.get(t);if("undefined"!==typeof e.elapsed)throw new Error(`Watch already stopped for label: ${t}`);const r=Date.now()-e.started;this.timestamps.set(t,{started:e.started,elapsed:r})}get(t){const e=this.timestamps.get(t);if("undefined"===typeof e)throw new Error(`No timestamp found for label: ${t}`);return e}elapsed(t){const e=this.get(t);return e.elapsed||Date.now()-e.started}}e.Watch=r,e.default=r},3687:function(t,e,r){"use strict";r.r(e),r.d(e,{__assign:function(){return s},__asyncDelegator:function(){return b},__asyncGenerator:function(){return w},__asyncValues:function(){return A},__await:function(){return y},__awaiter:function(){return f},__classPrivateFieldGet:function(){return S},__classPrivateFieldSet:function(){return I},__createBinding:function(){return l},__decorate:function(){return a},__exportStar:function(){return d},__extends:function(){return n},__generator:function(){return c},__importDefault:function(){return _},__importStar:function(){return M},__makeTemplateObject:function(){return E},__metadata:function(){return u},__param:function(){return h},__read:function(){return g},__rest:function(){return o},__spread:function(){return m},__spreadArrays:function(){return v},__values:function(){return p}});var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},i(t,e)};function n(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var s=function(){return s=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},s.apply(this,arguments)};function o(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]])}return r}function a(t,e,r,i){var n,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,r,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(o=(s<3?n(o):s>3?n(e,r,o):n(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function h(t,e){return function(r,i){e(r,i,t)}}function u(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function f(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{h(i.next(t))}catch(e){s(e)}}function a(t){try{h(i.throw(t))}catch(e){s(e)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}h((i=i.apply(t,e||[])).next())}))}function c(t,e){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function l(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}function d(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||(e[r]=t[r])}function p(t){var e="function"===typeof Symbol&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var r="function"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,n,s=r.call(t),o=[];try{for(;(void 0===e||e-->0)&&!(i=s.next()).done;)o.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function v(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)i[n]=s[o];return i}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function w(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(t){n[t]&&(i[t]=function(e){return new Promise((function(r,i){s.push([t,e,r,i])>1||a(t,e)}))})}function a(t,e){try{(r=n[t](e)).value instanceof y?Promise.resolve(r.value.v).then(h,u):f(s[0][2],r)}catch(i){f(s[0][3],i)}var r}function h(t){a("next",t)}function u(t){a("throw",t)}function f(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function b(t){var e,r;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,n){e[i]=t[i]?function(e){return(r=!r)?{value:y(t[i](e)),done:"return"===i}:n?n(e):e}:n}}function A(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=p(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(r){e[r]=t[r]&&function(e){return new Promise((function(i,n){(function(t,e,r,i){Promise.resolve(i).then((function(e){t({value:e,done:r})}),e)})(i,n,(e=t[r](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function M(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function _(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function I(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}},3135:function(t,e,r){"use strict";const i=r(6873),n=r(6081),s=r(4031),o=r(2200),a=Symbol("encodeFragmentIdentifier");function h(t){if("string"!==typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(t,e){return e.encode?e.strict?i(t):encodeURIComponent(t):t}function f(t,e){return e.decode?n(t):t}function c(t){return Array.isArray(t)?t.sort():"object"===typeof t?c(Object.keys(t)).sort(((t,e)=>Number(t)-Number(e))).map((e=>t[e])):t}function l(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function d(t){const e=(t=l(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function p(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"===typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function g(t,e){h((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const r=function(t){let e;switch(t.arrayFormat){case"index":return(t,r,i)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===i[t]&&(i[t]={}),i[t][e[1]]=r):i[t]=r};case"bracket":return(t,r,i)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==i[t]?i[t]=[].concat(i[t],r):i[t]=[r]:i[t]=r};case"colon-list-separator":return(t,r,i)=>{e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),e?void 0!==i[t]?i[t]=[].concat(i[t],r):i[t]=[r]:i[t]=r};case"comma":case"separator":return(e,r,i)=>{const n="string"===typeof r&&r.includes(t.arrayFormatSeparator),s="string"===typeof r&&!n&&f(r,t).includes(t.arrayFormatSeparator);r=s?f(r,t):r;const o=n||s?r.split(t.arrayFormatSeparator).map((e=>f(e,t))):null===r?r:f(r,t);i[e]=o};case"bracket-separator":return(e,r,i)=>{const n=/(\[\])$/.test(e);if(e=e.replace(/\[\]$/,""),!n)return void(i[e]=r?f(r,t):r);const s=null===r?[]:r.split(t.arrayFormatSeparator).map((e=>f(e,t)));void 0!==i[e]?i[e]=[].concat(i[e],s):i[e]=s};default:return(t,e,r)=>{void 0!==r[t]?r[t]=[].concat(r[t],e):r[t]=e}}}(e),i=Object.create(null);if("string"!==typeof t)return i;if(!(t=t.trim().replace(/^[?#&]/,"")))return i;for(const n of t.split("&")){if(""===n)continue;let[t,o]=s(e.decode?n.replace(/\+/g," "):n,"=");o=void 0===o?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?o:f(o,e),r(f(t,e),o,i)}for(const n of Object.keys(i)){const t=i[n];if("object"===typeof t&&null!==t)for(const r of Object.keys(t))t[r]=p(t[r],e);else i[n]=p(t,e)}return!1===e.sort?i:(!0===e.sort?Object.keys(i).sort():Object.keys(i).sort(e.sort)).reduce(((t,e)=>{const r=i[e];return Boolean(r)&&"object"===typeof r&&!Array.isArray(r)?t[e]=c(r):t[e]=r,t}),Object.create(null))}e.extract=d,e.parse=g,e.stringify=(t,e)=>{if(!t)return"";h((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const r=r=>{return e.skipNull&&(null===(i=t[r])||void 0===i)||e.skipEmptyString&&""===t[r];var i},i=function(t){switch(t.arrayFormat){case"index":return e=>(r,i)=>{const n=r.length;return void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?r:null===i?[...r,[u(e,t),"[",n,"]"].join("")]:[...r,[u(e,t),"[",u(n,t),"]=",u(i,t)].join("")]};case"bracket":return e=>(r,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?r:null===i?[...r,[u(e,t),"[]"].join("")]:[...r,[u(e,t),"[]=",u(i,t)].join("")];case"colon-list-separator":return e=>(r,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?r:null===i?[...r,[u(e,t),":list="].join("")]:[...r,[u(e,t),":list=",u(i,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e="bracket-separator"===t.arrayFormat?"[]=":"=";return r=>(i,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?i:(n=null===n?"":n,0===i.length?[[u(r,t),e,u(n,t)].join("")]:[[i,u(n,t)].join(t.arrayFormatSeparator)])}default:return e=>(r,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?r:null===i?[...r,u(e,t)]:[...r,[u(e,t),"=",u(i,t)].join("")]}}(e),n={};for(const o of Object.keys(t))r(o)||(n[o]=t[o]);const s=Object.keys(n);return!1!==e.sort&&s.sort(e.sort),s.map((r=>{const n=t[r];return void 0===n?"":null===n?u(r,e):Array.isArray(n)?0===n.length&&"bracket-separator"===e.arrayFormat?u(r,e)+"[]":n.reduce(i(r),[]).join("&"):u(r,e)+"="+u(n,e)})).filter((t=>t.length>0)).join("&")},e.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);const[r,i]=s(t,"#");return Object.assign({url:r.split("?")[0]||"",query:g(d(t),e)},e&&e.parseFragmentIdentifier&&i?{fragmentIdentifier:f(i,e)}:{})},e.stringifyUrl=(t,r)=>{r=Object.assign({encode:!0,strict:!0,[a]:!0},r);const i=l(t.url).split("?")[0]||"",n=e.extract(t.url),s=e.parse(n,{sort:!1}),o=Object.assign(s,t.query);let h=e.stringify(o,r);h&&(h=`?${h}`);let f=function(t){let e="";const r=t.indexOf("#");return-1!==r&&(e=t.slice(r)),e}(t.url);return t.fragmentIdentifier&&(f=`#${r[a]?u(t.fragmentIdentifier,r):t.fragmentIdentifier}`),`${i}${h}${f}`},e.pick=(t,r,i)=>{i=Object.assign({parseFragmentIdentifier:!0,[a]:!1},i);const{url:n,query:s,fragmentIdentifier:h}=e.parseUrl(t,i);return e.stringifyUrl({url:n,query:o(s,r),fragmentIdentifier:h},i)},e.exclude=(t,r,i)=>{const n=Array.isArray(r)?t=>!r.includes(t):(t,e)=>!r(t,e);return e.pick(t,n,i)}},6183:function(t,e){"use strict";function r(t){let e;return"undefined"!==typeof window&&"undefined"!==typeof window[t]&&(e=window[t]),e}function i(t){const e=r(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Object.defineProperty(e,"__esModule",{value:!0}),e.getLocalStorage=e.getLocalStorageOrThrow=e.getCrypto=e.getCryptoOrThrow=e.getLocation=e.getLocationOrThrow=e.getNavigator=e.getNavigatorOrThrow=e.getDocument=e.getDocumentOrThrow=e.getFromWindowOrThrow=e.getFromWindow=void 0,e.getFromWindow=r,e.getFromWindowOrThrow=i,e.getDocumentOrThrow=function(){return i("document")},e.getDocument=function(){return r("document")},e.getNavigatorOrThrow=function(){return i("navigator")},e.getNavigator=function(){return r("navigator")},e.getLocationOrThrow=function(){return i("location")},e.getLocation=function(){return r("location")},e.getCryptoOrThrow=function(){return i("crypto")},e.getCrypto=function(){return r("crypto")},e.getLocalStorageOrThrow=function(){return i("localStorage")},e.getLocalStorage=function(){return r("localStorage")}},2818:function(t,e,r){"use strict";e.g=void 0;const i=r(6183);e.g=function(){let t,e;try{t=i.getDocumentOrThrow(),e=i.getLocationOrThrow()}catch(s){return null}function r(...e){const r=t.getElementsByTagName("meta");for(let t=0;t<r.length;t++){const i=r[t],n=["itemprop","property","name"].map((t=>i.getAttribute(t))).filter((t=>!!t&&e.includes(t)));if(n.length&&n){const t=i.getAttribute("content");if(t)return t}}return""}const n=function(){let e=r("name","og:site_name","og:title","twitter:title");return e||(e=t.title),e}();return{description:r("description","og:description","twitter:description","keywords"),url:e.origin,icons:function(){const r=t.getElementsByTagName("link"),i=[];for(let t=0;t<r.length;t++){const n=r[t],s=n.getAttribute("rel");if(s&&s.toLowerCase().indexOf("icon")>-1){const t=n.getAttribute("href");if(t)if(-1===t.toLowerCase().indexOf("https:")&&-1===t.toLowerCase().indexOf("http:")&&0!==t.indexOf("//")){let r=e.protocol+"//"+e.host;if(0===t.indexOf("/"))r+=t;else{const i=e.pathname.split("/");i.pop();r+=i.join("/")+"/"+t}i.push(r)}else if(0===t.indexOf("//")){const r=e.protocol+t;i.push(r)}else i.push(t)}}return i}(),name:n}}},2980:function(t,e){var r="undefined"!==typeof self?self:this,i=function(){function t(){this.fetch=!1,this.DOMException=r.DOMException}return t.prototype=r,new t}();!function(t){!function(e){var r="URLSearchParams"in t,i="Symbol"in t&&"iterator"in Symbol,n="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),s="FormData"in t,o="ArrayBuffer"in t;if(o)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function u(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function f(t){return"string"!==typeof t&&(t=String(t)),t}function c(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return i&&(e[Symbol.iterator]=function(){return e}),e}function l(t){this.map={},t instanceof l?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function d(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function g(t){var e=new FileReader,r=p(e);return e.readAsArrayBuffer(t),r}function m(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"===typeof t?this._bodyText=t:n&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:s&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():o&&n&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=m(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(t)||h(t))?this._bodyArrayBuffer=m(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n&&(this.blob=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var t,e,r,i=d(this);if(i)return i;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=p(e),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),i=0;i<e.length;i++)r[i]=String.fromCharCode(e[i]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(t,e){t=u(t),e=f(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},l.prototype.delete=function(t){delete this.map[u(t)]},l.prototype.get=function(t){return t=u(t),this.has(t)?this.map[t]:null},l.prototype.has=function(t){return this.map.hasOwnProperty(u(t))},l.prototype.set=function(t,e){this.map[u(t)]=f(e)},l.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},l.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),c(t)},l.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),c(t)},l.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),c(t)},i&&(l.prototype[Symbol.iterator]=l.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,e){var r,i,n=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new l(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new l(e.headers)),this.method=(r=e.method||this.method||"GET",i=r.toUpperCase(),y.indexOf(i)>-1?i:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function b(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),i=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(n))}})),e}function A(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new l(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},v.call(w.prototype),v.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},A.error=function(){var t=new A(null,{status:0,statusText:""});return t.type="error",t};var E=[301,302,303,307,308];A.redirect=function(t,e){if(-1===E.indexOf(e))throw new RangeError("Invalid status code");return new A(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(_){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function M(t,r){return new Promise((function(i,s){var o=new w(t,r);if(o.signal&&o.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function h(){a.abort()}a.onload=function(){var t,e,r={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new l,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),i=r.shift().trim();if(i){var n=r.join(":").trim();e.append(i,n)}})),e)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var n="response"in a?a.response:a.responseText;i(new A(n,r))},a.onerror=function(){s(new TypeError("Network request failed"))},a.ontimeout=function(){s(new TypeError("Network request failed"))},a.onabort=function(){s(new e.DOMException("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&n&&(a.responseType="blob"),o.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),o.signal&&(o.signal.addEventListener("abort",h),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",h)}),a.send("undefined"===typeof o._bodyInit?null:o._bodyInit)}))}M.polyfill=!0,t.fetch||(t.fetch=M,t.Headers=l,t.Request=w,t.Response=A),e.Headers=l,e.Request=w,e.Response=A,e.fetch=M,Object.defineProperty(e,"__esModule",{value:!0})}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var n=i;(e=n.fetch).default=n.fetch,e.fetch=n.fetch,e.Headers=n.Headers,e.Request=n.Request,e.Response=n.Response,t.exports=e},6081:function(t){"use strict";var e="%[a-f0-9]{2}",r=new RegExp("("+e+")|([^%]+?)","gi"),i=new RegExp("("+e+")+","gi");function n(t,e){try{return[decodeURIComponent(t.join(""))]}catch(s){}if(1===t.length)return t;e=e||1;var r=t.slice(0,e),i=t.slice(e);return Array.prototype.concat.call([],n(r),n(i))}function s(t){try{return decodeURIComponent(t)}catch(s){for(var e=t.match(r)||[],i=1;i<e.length;i++)e=(t=n(e,i).join("")).match(r)||[];return t}}t.exports=function(t){if("string"!==typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var r={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},n=i.exec(t);n;){try{r[n[0]]=decodeURIComponent(n[0])}catch(e){var o=s(n[0]);o!==n[0]&&(r[n[0]]=o)}n=i.exec(t)}r["%C2"]="\ufffd";for(var a=Object.keys(r),h=0;h<a.length;h++){var u=a[h];t=t.replace(new RegExp(u,"g"),r[u])}return t}(t)}}},1437:function(t){"use strict";var e=Object.prototype.hasOwnProperty,r="~";function i(){}function n(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function s(t,e,i,s,o){if("function"!==typeof i)throw new TypeError("The listener must be a function");var a=new n(i,s||t,o),h=r?r+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],a]:t._events[h].push(a):(t._events[h]=a,t._eventsCount++),t}function o(t,e){0===--t._eventsCount?t._events=new i:delete t._events[e]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,i,n=[];if(0===this._eventsCount)return n;for(i in t=this._events)e.call(t,i)&&n.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(t){var e=r?r+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,s=i.length,o=new Array(s);n<s;n++)o[n]=i[n].fn;return o},a.prototype.listenerCount=function(t){var e=r?r+t:t,i=this._events[e];return i?i.fn?1:i.length:0},a.prototype.emit=function(t,e,i,n,s,o){var a=r?r+t:t;if(!this._events[a])return!1;var h,u,f=this._events[a],c=arguments.length;if(f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),c){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,e),!0;case 3:return f.fn.call(f.context,e,i),!0;case 4:return f.fn.call(f.context,e,i,n),!0;case 5:return f.fn.call(f.context,e,i,n,s),!0;case 6:return f.fn.call(f.context,e,i,n,s,o),!0}for(u=1,h=new Array(c-1);u<c;u++)h[u-1]=arguments[u];f.fn.apply(f.context,h)}else{var l,d=f.length;for(u=0;u<d;u++)switch(f[u].once&&this.removeListener(t,f[u].fn,void 0,!0),c){case 1:f[u].fn.call(f[u].context);break;case 2:f[u].fn.call(f[u].context,e);break;case 3:f[u].fn.call(f[u].context,e,i);break;case 4:f[u].fn.call(f[u].context,e,i,n);break;default:if(!h)for(l=1,h=new Array(c-1);l<c;l++)h[l-1]=arguments[l];f[u].fn.apply(f[u].context,h)}}return!0},a.prototype.on=function(t,e,r){return s(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return s(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,i,n){var s=r?r+t:t;if(!this._events[s])return this;if(!e)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||n&&!a.once||i&&a.context!==i||o(this,s);else{for(var h=0,u=[],f=a.length;h<f;h++)(a[h].fn!==e||n&&!a[h].once||i&&a[h].context!==i)&&u.push(a[h]);u.length?this._events[s]=1===u.length?u[0]:u:o(this,s)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&o(this,e)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a},1450:function(t){"use strict";var e,r="object"===typeof Reflect?Reflect:null,i=r&&"function"===typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var n=Number.isNaN||function(t){return t!==t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(r,i){function n(r){t.removeListener(e,s),i(r)}function s(){"function"===typeof t.removeListener&&t.removeListener("error",n),r([].slice.call(arguments))}g(t,e,s,{once:!0}),"error"!==e&&function(t,e,r){"function"===typeof t.on&&g(t,"error",e,r)}(t,n,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function h(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function u(t,e,r,i){var n,s,o,u;if(a(r),void 0===(s=t._events)?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),void 0===o)o=s[e]=r,++t._eventsCount;else if("function"===typeof o?o=s[e]=i?[r,o]:[o,r]:i?o.unshift(r):o.push(r),(n=h(t))>0&&o.length>n&&!o.warned){o.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=t,f.type=e,f.count=o.length,u=f,console&&console.warn&&console.warn(u)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},n=f.bind(i);return n.listener=r,i.wrapFn=n,n}function l(t,e,r){var i=t._events;if(void 0===i)return[];var n=i[e];return void 0===n?[]:"function"===typeof n?r?[n.listener||n]:[n]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(n):p(n,n.length)}function d(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}function g(t,e,r,i){if("function"===typeof t.on)i.once?t.once(e,r):t.on(e,r);else{if("function"!==typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function n(s){i.once&&t.removeEventListener(e,n),r(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(t){if("number"!==typeof t||t<0||n(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");o=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!==typeof t||t<0||n(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return h(this)},s.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,s=this._events;if(void 0!==s)n=n&&void 0===s.error;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var h=s[t];if(void 0===h)return!1;if("function"===typeof h)i(h,this,e);else{var u=h.length,f=p(h,u);for(r=0;r<u;++r)i(f[r],this,e)}return!0},s.prototype.addListener=function(t,e){return u(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return u(this,t,e,!0)},s.prototype.once=function(t,e){return a(e),this.on(t,c(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,c(this,t,e)),this},s.prototype.removeListener=function(t,e){var r,i,n,s,o;if(a(e),void 0===(i=this._events))return this;if(void 0===(r=i[t]))return this;if(r===e||r.listener===e)0===--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!==typeof r){for(n=-1,s=r.length-1;s>=0;s--)if(r[s]===e||r[s].listener===e){o=r[s].listener,n=s;break}if(n<0)return this;0===n?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,n),1===r.length&&(i[t]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",t,o||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var n,s=Object.keys(r);for(i=0;i<s.length;++i)"removeListener"!==(n=s[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},s.prototype.listeners=function(t){return l(this,t,!0)},s.prototype.rawListeners=function(t){return l(this,t,!1)},s.listenerCount=function(t,e){return"function"===typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},2200:function(t){"use strict";t.exports=function(t,e){for(var r={},i=Object.keys(t),n=Array.isArray(e),s=0;s<i.length;s++){var o=i[s],a=t[o];(n?-1!==e.indexOf(o):e(o,a,t))&&(r[o]=a)}return r}},6809:function(t,e,r){t=r.nmd(t);var i="__lodash_hash_undefined__",n=1,s=2,o=9007199254740991,a="[object Arguments]",h="[object Array]",u="[object AsyncFunction]",f="[object Boolean]",c="[object Date]",l="[object Error]",d="[object Function]",p="[object GeneratorFunction]",g="[object Map]",m="[object Number]",v="[object Null]",y="[object Object]",w="[object Promise]",b="[object Proxy]",A="[object RegExp]",E="[object Set]",M="[object String]",_="[object Symbol]",S="[object Undefined]",I="[object WeakMap]",N="[object ArrayBuffer]",x="[object DataView]",C=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,B={};B["[object Float32Array]"]=B["[object Float64Array]"]=B["[object Int8Array]"]=B["[object Int16Array]"]=B["[object Int32Array]"]=B["[object Uint8Array]"]=B["[object Uint8ClampedArray]"]=B["[object Uint16Array]"]=B["[object Uint32Array]"]=!0,B[a]=B[h]=B[N]=B[f]=B[x]=B[c]=B[l]=B[d]=B[g]=B[m]=B[y]=B[A]=B[E]=B[M]=B[I]=!1;var P="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,R="object"==typeof self&&self&&self.Object===Object&&self,T=P||R||Function("return this")(),k=e&&!e.nodeType&&e,U=k&&t&&!t.nodeType&&t,D=U&&U.exports===k,F=D&&P.process,L=function(){try{return F&&F.binding&&F.binding("util")}catch(t){}}(),q=L&&L.isTypedArray;function j(t,e){for(var r=-1,i=null==t?0:t.length;++r<i;)if(e(t[r],r,t))return!0;return!1}function z(t){var e=-1,r=Array(t.size);return t.forEach((function(t,i){r[++e]=[i,t]})),r}function H(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var K,Q,G,Y=Array.prototype,J=Function.prototype,W=Object.prototype,V=T["__core-js_shared__"],X=J.toString,Z=W.hasOwnProperty,$=(K=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||""))?"Symbol(src)_1."+K:"",tt=W.toString,et=RegExp("^"+X.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=D?T.Buffer:void 0,it=T.Symbol,nt=T.Uint8Array,st=W.propertyIsEnumerable,ot=Y.splice,at=it?it.toStringTag:void 0,ht=Object.getOwnPropertySymbols,ut=rt?rt.isBuffer:void 0,ft=(Q=Object.keys,G=Object,function(t){return Q(G(t))}),ct=Lt(T,"DataView"),lt=Lt(T,"Map"),dt=Lt(T,"Promise"),pt=Lt(T,"Set"),gt=Lt(T,"WeakMap"),mt=Lt(Object,"create"),vt=Ht(ct),yt=Ht(lt),wt=Ht(dt),bt=Ht(pt),At=Ht(gt),Et=it?it.prototype:void 0,Mt=Et?Et.valueOf:void 0;function _t(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function St(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function It(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function Nt(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new It;++e<r;)this.add(t[e])}function xt(t){var e=this.__data__=new St(t);this.size=e.size}function Ct(t,e){var r=Gt(t),i=!r&&Qt(t),n=!r&&!i&&Yt(t),s=!r&&!i&&!n&&Zt(t),o=r||i||n||s,a=o?function(t,e){for(var r=-1,i=Array(t);++r<t;)i[r]=e(r);return i}(t.length,String):[],h=a.length;for(var u in t)!e&&!Z.call(t,u)||o&&("length"==u||n&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||zt(u,h))||a.push(u);return a}function Ot(t,e){for(var r=t.length;r--;)if(Kt(t[r][0],e))return r;return-1}function Bt(t){return null==t?void 0===t?S:v:at&&at in Object(t)?function(t){var e=Z.call(t,at),r=t[at];try{t[at]=void 0;var i=!0}catch(s){}var n=tt.call(t);i&&(e?t[at]=r:delete t[at]);return n}(t):function(t){return tt.call(t)}(t)}function Pt(t){return Xt(t)&&Bt(t)==a}function Rt(t,e,r,i,o){return t===e||(null==t||null==e||!Xt(t)&&!Xt(e)?t!==t&&e!==e:function(t,e,r,i,o,u){var d=Gt(t),p=Gt(e),v=d?h:jt(t),w=p?h:jt(e),b=(v=v==a?y:v)==y,S=(w=w==a?y:w)==y,I=v==w;if(I&&Yt(t)){if(!Yt(e))return!1;d=!0,b=!1}if(I&&!b)return u||(u=new xt),d||Zt(t)?Ut(t,e,r,i,o,u):function(t,e,r,i,o,a,h){switch(r){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case N:return!(t.byteLength!=e.byteLength||!a(new nt(t),new nt(e)));case f:case c:case m:return Kt(+t,+e);case l:return t.name==e.name&&t.message==e.message;case A:case M:return t==e+"";case g:var u=z;case E:var d=i&n;if(u||(u=H),t.size!=e.size&&!d)return!1;var p=h.get(t);if(p)return p==e;i|=s,h.set(t,e);var v=Ut(u(t),u(e),i,o,a,h);return h.delete(t),v;case _:if(Mt)return Mt.call(t)==Mt.call(e)}return!1}(t,e,v,r,i,o,u);if(!(r&n)){var C=b&&Z.call(t,"__wrapped__"),O=S&&Z.call(e,"__wrapped__");if(C||O){var B=C?t.value():t,P=O?e.value():e;return u||(u=new xt),o(B,P,r,i,u)}}if(!I)return!1;return u||(u=new xt),function(t,e,r,i,s,o){var a=r&n,h=Dt(t),u=h.length,f=Dt(e),c=f.length;if(u!=c&&!a)return!1;var l=u;for(;l--;){var d=h[l];if(!(a?d in e:Z.call(e,d)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var g=!0;o.set(t,e),o.set(e,t);var m=a;for(;++l<u;){var v=t[d=h[l]],y=e[d];if(i)var w=a?i(y,v,d,e,t,o):i(v,y,d,t,e,o);if(!(void 0===w?v===y||s(v,y,r,i,o):w)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var b=t.constructor,A=e.constructor;b==A||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof A&&A instanceof A||(g=!1)}return o.delete(t),o.delete(e),g}(t,e,r,i,o,u)}(t,e,r,i,Rt,o))}function Tt(t){return!(!Vt(t)||function(t){return!!$&&$ in t}(t))&&(Jt(t)?et:C).test(Ht(t))}function kt(t){if(r=(e=t)&&e.constructor,i="function"==typeof r&&r.prototype||W,e!==i)return ft(t);var e,r,i,n=[];for(var s in Object(t))Z.call(t,s)&&"constructor"!=s&&n.push(s);return n}function Ut(t,e,r,i,o,a){var h=r&n,u=t.length,f=e.length;if(u!=f&&!(h&&f>u))return!1;var c=a.get(t);if(c&&a.get(e))return c==e;var l=-1,d=!0,p=r&s?new Nt:void 0;for(a.set(t,e),a.set(e,t);++l<u;){var g=t[l],m=e[l];if(i)var v=h?i(m,g,l,e,t,a):i(g,m,l,t,e,a);if(void 0!==v){if(v)continue;d=!1;break}if(p){if(!j(e,(function(t,e){if(n=e,!p.has(n)&&(g===t||o(g,t,r,i,a)))return p.push(e);var n}))){d=!1;break}}else if(g!==m&&!o(g,m,r,i,a)){d=!1;break}}return a.delete(t),a.delete(e),d}function Dt(t){return function(t,e,r){var i=e(t);return Gt(t)?i:function(t,e){for(var r=-1,i=e.length,n=t.length;++r<i;)t[n+r]=e[r];return t}(i,r(t))}(t,$t,qt)}function Ft(t,e){var r,i,n=t.__data__;return("string"==(i=typeof(r=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==r:null===r)?n["string"==typeof e?"string":"hash"]:n.map}function Lt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Tt(r)?r:void 0}_t.prototype.clear=function(){this.__data__=mt?mt(null):{},this.size=0},_t.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},_t.prototype.get=function(t){var e=this.__data__;if(mt){var r=e[t];return r===i?void 0:r}return Z.call(e,t)?e[t]:void 0},_t.prototype.has=function(t){var e=this.__data__;return mt?void 0!==e[t]:Z.call(e,t)},_t.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=mt&&void 0===e?i:e,this},St.prototype.clear=function(){this.__data__=[],this.size=0},St.prototype.delete=function(t){var e=this.__data__,r=Ot(e,t);return!(r<0)&&(r==e.length-1?e.pop():ot.call(e,r,1),--this.size,!0)},St.prototype.get=function(t){var e=this.__data__,r=Ot(e,t);return r<0?void 0:e[r][1]},St.prototype.has=function(t){return Ot(this.__data__,t)>-1},St.prototype.set=function(t,e){var r=this.__data__,i=Ot(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this},It.prototype.clear=function(){this.size=0,this.__data__={hash:new _t,map:new(lt||St),string:new _t}},It.prototype.delete=function(t){var e=Ft(this,t).delete(t);return this.size-=e?1:0,e},It.prototype.get=function(t){return Ft(this,t).get(t)},It.prototype.has=function(t){return Ft(this,t).has(t)},It.prototype.set=function(t,e){var r=Ft(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this},Nt.prototype.add=Nt.prototype.push=function(t){return this.__data__.set(t,i),this},Nt.prototype.has=function(t){return this.__data__.has(t)},xt.prototype.clear=function(){this.__data__=new St,this.size=0},xt.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},xt.prototype.get=function(t){return this.__data__.get(t)},xt.prototype.has=function(t){return this.__data__.has(t)},xt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof St){var i=r.__data__;if(!lt||i.length<199)return i.push([t,e]),this.size=++r.size,this;r=this.__data__=new It(i)}return r.set(t,e),this.size=r.size,this};var qt=ht?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,i=null==t?0:t.length,n=0,s=[];++r<i;){var o=t[r];e(o,r,t)&&(s[n++]=o)}return s}(ht(t),(function(e){return st.call(t,e)})))}:function(){return[]},jt=Bt;function zt(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||O.test(t))&&t>-1&&t%1==0&&t<e}function Ht(t){if(null!=t){try{return X.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Kt(t,e){return t===e||t!==t&&e!==e}(ct&&jt(new ct(new ArrayBuffer(1)))!=x||lt&&jt(new lt)!=g||dt&&jt(dt.resolve())!=w||pt&&jt(new pt)!=E||gt&&jt(new gt)!=I)&&(jt=function(t){var e=Bt(t),r=e==y?t.constructor:void 0,i=r?Ht(r):"";if(i)switch(i){case vt:return x;case yt:return g;case wt:return w;case bt:return E;case At:return I}return e});var Qt=Pt(function(){return arguments}())?Pt:function(t){return Xt(t)&&Z.call(t,"callee")&&!st.call(t,"callee")},Gt=Array.isArray;var Yt=ut||function(){return!1};function Jt(t){if(!Vt(t))return!1;var e=Bt(t);return e==d||e==p||e==u||e==b}function Wt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}function Vt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Xt(t){return null!=t&&"object"==typeof t}var Zt=q?function(t){return function(e){return t(e)}}(q):function(t){return Xt(t)&&Wt(t.length)&&!!B[Bt(t)]};function $t(t){return null!=(e=t)&&Wt(e.length)&&!Jt(e)?Ct(t):kt(t);var e}t.exports=function(t,e){return Rt(t,e)}},8694:function(t){"use strict";function e(t){try{return JSON.stringify(t)}catch(e){return'"[Circular]"'}}t.exports=function(t,r,i){var n=i&&i.stringify||e;if("object"===typeof t&&null!==t){var s=r.length+1;if(1===s)return t;var o=new Array(s);o[0]=n(t);for(var a=1;a<s;a++)o[a]=n(r[a]);return o.join(" ")}if("string"!==typeof t)return t;var h=r.length;if(0===h)return t;for(var u="",f=0,c=-1,l=t&&t.length||0,d=0;d<l;){if(37===t.charCodeAt(d)&&d+1<l){switch(c=c>-1?c:0,t.charCodeAt(d+1)){case 100:case 102:if(f>=h)break;if(null==r[f])break;c<d&&(u+=t.slice(c,d)),u+=Number(r[f]),c=d+2,d++;break;case 105:if(f>=h)break;if(null==r[f])break;c<d&&(u+=t.slice(c,d)),u+=Math.floor(Number(r[f])),c=d+2,d++;break;case 79:case 111:case 106:if(f>=h)break;if(void 0===r[f])break;c<d&&(u+=t.slice(c,d));var p=typeof r[f];if("string"===p){u+="'"+r[f]+"'",c=d+2,d++;break}if("function"===p){u+=r[f].name||"<anonymous>",c=d+2,d++;break}u+=n(r[f]),c=d+2,d++;break;case 115:if(f>=h)break;c<d&&(u+=t.slice(c,d)),u+=String(r[f]),c=d+2,d++;break;case 37:c<d&&(u+=t.slice(c,d)),u+="%",c=d+2,d++,f--}++f}++d}if(-1===c)return t;c<l&&(u+=t.slice(c));return u}},4031:function(t){"use strict";t.exports=(t,e)=>{if("string"!==typeof t||"string"!==typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];const r=t.indexOf(e);return-1===r?[t]:[t.slice(0,r),t.slice(r+e.length)]}},6873:function(t){"use strict";t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,(t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`))},704:function(t){"use strict";t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},1651:function(t,e,r){"use strict";const i=r(8694);t.exports=o;const n=function(){function t(t){return"undefined"!==typeof t&&t}try{return"undefined"!==typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(e){return t(self)||t(window)||t(this)||{}}}().console||{},s={mapHttpRequest:l,mapHttpResponse:l,wrapRequestSerializer:d,wrapResponseSerializer:d,wrapErrorSerializer:d,req:l,res:l,err:function(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)void 0===e[r]&&(e[r]=t[r]);return e}};function o(t){(t=t||{}).browser=t.browser||{};const e=t.browser.transmit;if(e&&"function"!==typeof e.send)throw Error("pino: transmit option must have a send function");const r=t.browser.write||n;t.browser.write&&(t.browser.asObject=!0);const i=t.serializers||{},s=function(t,e){if(Array.isArray(t))return t.filter((function(t){return"!stdSerializers.err"!==t}));return!0===t&&Object.keys(e)}(t.browser.serialize,i);let l=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(l=!1);"function"===typeof r&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),!1===t.enabled&&(t.level="silent");const d=t.level||"info",g=Object.create(r);g.log||(g.log=p),Object.defineProperty(g,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(g,"level",{get:function(){return this._level},set:function(t){if("silent"!==t&&!this.levels.values[t])throw Error("unknown level "+t);this._level=t,a(m,g,"error","log"),a(m,g,"fatal","error"),a(m,g,"warn","error"),a(m,g,"info","log"),a(m,g,"debug","log"),a(m,g,"trace","log")}});const m={transmit:e,serialize:s,asObject:t.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:c(t)};return g.levels=o.levels,g.level=d,g.setMaxListeners=g.getMaxListeners=g.emit=g.addListener=g.on=g.prependListener=g.once=g.prependOnceListener=g.removeListener=g.removeAllListeners=g.listeners=g.listenerCount=g.eventNames=g.write=g.flush=p,g.serializers=i,g._serialize=s,g._stdErrSerialize=l,g.child=function(r,n){if(!r)throw new Error("missing bindings for child Pino");n=n||{},s&&r.serializers&&(n.serializers=r.serializers);const o=n.serializers;if(s&&o){var a=Object.assign({},i,o),c=!0===t.browser.serialize?Object.keys(a):s;delete r.serializers,h([r],c,a,this._stdErrSerialize)}function l(t){this._childLevel=1+(0|t._childLevel),this.error=u(t,r,"error"),this.fatal=u(t,r,"fatal"),this.warn=u(t,r,"warn"),this.info=u(t,r,"info"),this.debug=u(t,r,"debug"),this.trace=u(t,r,"trace"),a&&(this.serializers=a,this._serialize=c),e&&(this._logEvent=f([].concat(t._logEvent.bindings,r)))}return l.prototype=this,new l(this)},e&&(g._logEvent=f()),g}function a(t,e,r,s){const a=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?p:a[r]?a[r]:n[r]||n[s]||p,function(t,e,r){if(!t.transmit&&e[r]===p)return;e[r]=(s=e[r],function(){const a=t.timestamp(),u=new Array(arguments.length),c=Object.getPrototypeOf&&Object.getPrototypeOf(this)===n?n:this;for(var l=0;l<u.length;l++)u[l]=arguments[l];if(t.serialize&&!t.asObject&&h(u,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?s.call(c,function(t,e,r,n){t._serialize&&h(r,t._serialize,t.serializers,t._stdErrSerialize);const s=r.slice();let a=s[0];const u={};n&&(u.time=n),u.level=o.levels.values[e];let f=1+(0|t._childLevel);if(f<1&&(f=1),null!==a&&"object"===typeof a){for(;f--&&"object"===typeof s[0];)Object.assign(u,s.shift());a=s.length?i(s.shift(),s):void 0}else"string"===typeof a&&(a=i(s.shift(),s));return void 0!==a&&(u.msg=a),u}(this,r,u,a)):s.apply(c,u),t.transmit){const i=t.transmit.level||e.level,n=o.levels.values[i],s=o.levels.values[r];if(s<n)return;!function(t,e,r){const i=e.send,n=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,u=t._logEvent.bindings;h(r,t._serialize||Object.keys(t.serializers),t.serializers,void 0===t._stdErrSerialize||t._stdErrSerialize),t._logEvent.ts=n,t._logEvent.messages=r.filter((function(t){return-1===u.indexOf(t)})),t._logEvent.level.label=s,t._logEvent.level.value=o,i(s,t._logEvent,a),t._logEvent=f(u)}(this,{ts:a,methodLevel:r,methodValue:s,transmitLevel:i,transmitValue:o.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},u)}});var s}(t,e,r)}function h(t,e,r,i){for(const n in t)if(i&&t[n]instanceof Error)t[n]=o.stdSerializers.err(t[n]);else if("object"===typeof t[n]&&!Array.isArray(t[n]))for(const i in t[n])e&&e.indexOf(i)>-1&&i in r&&(t[n][i]=r[i](t[n][i]))}function u(t,e,r){return function(){const i=new Array(1+arguments.length);i[0]=e;for(var n=1;n<i.length;n++)i[n]=arguments[n-1];return t[r].apply(this,i)}}function f(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function c(t){return"function"===typeof t.timestamp?t.timestamp:!1===t.timestamp?g:m}function l(){return{}}function d(t){return t}function p(){}function g(){return!1}function m(){return Date.now()}o.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},o.stdSerializers=s,o.stdTimeFunctions=Object.assign({},{nullTime:g,epochTime:m,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})},9446:function(t,e,r){"use strict";var i,n;r.d(e,{Fq:function(){return S}}),function(t){t.Mainnet="Mainnet",t.Shasta="Shasta",t.Nile="Nile",t.Unknown="Unknown"}(i||(i={})),function(t){t.Mainnet="Mainnet",t.Shasta="Shasta",t.Nile="Nile"}(n||(n={}));var s,o,a=r(1437);!function(t){t.Loading="Loading",t.NotFound="NotFound",t.Found="Found"}(s||(s={})),function(t){t.Loading="Loading",t.NotFound="NotFound",t.Disconnect="Disconnected",t.Connected="Connected"}(o||(o={}));class h extends a{get connected(){return this.state===o.Connected}disconnect(){return console.info("The current adapter doesn't support disconnect by DApp."),Promise.resolve()}multiSign(...t){return Promise.reject("The current wallet doesn't support multiSign.")}switchChain(t){return Promise.reject("The current wallet doesn't support switch chain.")}}function u(){return"undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator}function f(){return"undefined"!==typeof navigator&&navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i)}class c extends Error{constructor(t,e){super(t),this.error=e}}class l extends c{constructor(){super(...arguments),this.name="WalletNotFoundError",this.message="The wallet is not found."}}class d extends c{constructor(){super(...arguments),this.name="WalletDisconnectedError",this.message="The wallet is disconnected. Please connect first."}}class p extends c{constructor(){super(...arguments),this.name="WalletConnectionError"}}class g extends c{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class m extends c{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class v extends c{constructor(){super(...arguments),this.name="WalletSwitchChainError"}}class y extends c{constructor(){super(...arguments),this.name="WalletGetNetworkError"}}var w=function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{h(i.next(t))}catch(e){s(e)}}function a(t){try{h(i.throw(t))}catch(e){s(e)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}h((i=i.apply(t,e||[])).next())}))};function b(){return!(!window.tron||!window.tron.isTronLink)}function A(){return!!(b()||window.tronLink||window.tronWeb)}function E({dappIcon:t,dappName:e}={dappIcon:"",dappName:""}){if(!A()&&f()&&(!u()||"undefined"===typeof window.iTron)){let i="",n="";try{i=document.title;const t=document.querySelector('link[rel*="icon"]');t&&(n=new URL(t.getAttribute("href")||"",location.href).toString())}catch(r){}const{origin:s,pathname:o,search:a,hash:h}=window.location,u=s+o+a+(h.includes("?")?h:`${h}?_=1`),f={action:"open",actionId:Date.now()+"",callbackUrl:"http://someurl.com",dappIcon:t||n,dappName:e||i,url:u,protocol:"TronLink",version:"1.0",chainId:"0x2b6653dc"};return window.location.href=`tronlinkoutside://pull.activity?param=${encodeURIComponent(JSON.stringify(f))}`,!0}return!1}var M=function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{h(i.next(t))}catch(e){s(e)}}function a(t){try{h(i.throw(t))}catch(e){s(e)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}h((i=i.apply(t,e||[])).next())}))};const _={"0x2b6653dc":i.Mainnet,"0x94a9059e":i.Shasta,"0xcd8690dc":i.Nile};class S extends h{constructor(t={}){super(),this.name="TronLink",this.url="https://www.tronlink.org/",this.icon="data:image/png;base64,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",this._readyState=u()?s.Loading:s.NotFound,this._state=o.Loading,this._supportNewTronProtocol=!1,this._tronLinkMessageHandler=t=>{var e,r,i,n,s;const a=null===(e=t.data)||void 0===e?void 0:e.message;if(a)if("accountsChanged"===a.action)setTimeout((()=>{var t;const e=this.address||"";if(null===(t=this._wallet)||void 0===t?void 0:t.ready){const t=a.data.address;this.setAddress(t),this.setState(o.Connected)}else this.setAddress(null),this.setState(o.Disconnect);this.emit("accountsChanged",this.address||"",e),!e&&this.address?this.emit("connect",this.address):e&&!this.address&&this.emit("disconnect")}),200);else if("setNode"===a.action)this.emit("chainChanged",{chainId:(null===(i=null===(r=a.data)||void 0===r?void 0:r.node)||void 0===i?void 0:i.chainId)||""});else if("connect"===a.action){const t=(null===(s=null===(n=this._wallet.tronWeb)||void 0===n?void 0:n.defaultAddress)||void 0===s?void 0:s.base58)||"";this.setAddress(t),this.setState(o.Connected),this.emit("connect",t)}else"disconnect"===a.action&&(this.setAddress(null),this.setState(o.Disconnect),this.emit("disconnect"))},this._onChainChanged=t=>{this.emit("chainChanged",t)},this._onAccountsChanged=()=>{var t,e,r;const i=this.address||"",n=(null===(t=this._wallet)||void 0===t?void 0:t.tronWeb)&&(null===(r=null===(e=this._wallet)||void 0===e?void 0:e.tronWeb.defaultAddress)||void 0===r?void 0:r.base58)||"";if(n){const t=n;this.setAddress(t),this.setState(o.Connected)}else this.setAddress(null),this.setState(o.Disconnect);this.emit("accountsChanged",this.address||"",i),!i&&this.address?this.emit("connect",this.address):i&&!this.address&&this.emit("disconnect")},this._checkPromise=null,this._updateWallet=()=>{var t,e,r,i,n,s,a,h;let u=this.state,c=this.address;f()?(window.tronLink?this._wallet=window.tronLink:this._wallet={ready:!!(null===(t=window.tronWeb)||void 0===t?void 0:t.defaultAddress),tronWeb:window.tronWeb,request:()=>Promise.resolve(!0)},c=(null===(r=null===(e=this._wallet.tronWeb)||void 0===e?void 0:e.defaultAddress)||void 0===r?void 0:r.base58)||null,u=c?o.Connected:o.Disconnect):window.tron&&window.tron.isTronLink?(this._supportNewTronProtocol=!0,this._wallet=window.tron,this._listenTronEvent(),c=this._wallet.tronWeb&&(null===(n=null===(i=this._wallet.tronWeb)||void 0===i?void 0:i.defaultAddress)||void 0===n?void 0:n.base58)||null,u=c?o.Connected:o.Disconnect):window.tronLink?(this._wallet=window.tronLink,this._listenTronLinkEvent(),c=(null===(a=null===(s=this._wallet.tronWeb)||void 0===s?void 0:s.defaultAddress)||void 0===a?void 0:a.base58)||null,u=this._wallet.ready?o.Connected:o.Disconnect):window.tronWeb?(this._wallet={ready:window.tronWeb.ready,tronWeb:window.tronWeb,request:()=>Promise.resolve(!0)},c=(null===(h=this._wallet.tronWeb.defaultAddress)||void 0===h?void 0:h.base58)||null,u=this._wallet.ready?o.Connected:o.Disconnect):(this._wallet=null,c=null,u=o.NotFound),f()&&u===o.Disconnect&&this.checkForWalletReadyForApp(),this.setAddress(c),this.setState(u)},this.checkReadyInterval=null;const{checkTimeout:e=3e4,dappIcon:r="",dappName:i="",openUrlWhenWalletNotFound:n=!0,openTronLinkAppOnMobile:a=!0}=t;if("number"!==typeof e)throw new Error("[TronLinkAdapter] config.checkTimeout should be a number");if(this.config={checkTimeout:e,openTronLinkAppOnMobile:a,openUrlWhenWalletNotFound:n,dappIcon:r,dappName:i},this._connecting=!1,this._wallet=null,this._address=null,!u())return this._readyState=s.NotFound,void this.setState(o.NotFound);b()||f()&&(window.tronLink||window.tronWeb)?(this._readyState=s.Found,this._updateWallet()):this._checkWallet().then((()=>{this.connected&&this.emit("connect",this.address||"")}))}get address(){return this._address}get state(){return this._state}get readyState(){return this._readyState}get connecting(){return this._connecting}network(){var t;return M(this,void 0,void 0,(function*(){try{if(yield this._checkWallet(),this.state!==o.Connected)throw new d;const r=(null===(t=this._wallet)||void 0===t?void 0:t.tronWeb)||window.tronWeb;if(!r)throw new d;try{return yield function(t){var e,r,n;return M(this,void 0,void 0,(function*(){const{blockID:s=""}=yield t.trx.getBlockByNumber(0),o=`0x${s.slice(-8)}`;return{networkType:_[o]||i.Unknown,chainId:o,fullNode:(null===(e=t.fullNode)||void 0===e?void 0:e.host)||"",solidityNode:(null===(r=t.solidityNode)||void 0===r?void 0:r.host)||"",eventServer:(null===(n=t.eventServer)||void 0===n?void 0:n.host)||""}}))}(r)}catch(e){throw new y(null===e||void 0===e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}}))}connect(){var t,e;return M(this,void 0,void 0,(function*(){try{if(this.checkIfOpenTronLink(),this.connected||this.connecting)return;if(yield this._checkWallet(),this.state===o.NotFound)throw!1!==this.config.openUrlWhenWalletNotFound&&u()&&window.open(this.url,"_blank"),new l;if(!this._wallet)return;if(this._connecting=!0,this._supportNewTronProtocol){const t=this._wallet;try{const e=(yield t.request({method:"eth_requestAccounts"}))[0];this.setAddress(e),this.setState(o.Connected),this._listenTronEvent(),this._wallet.tronWeb||(yield function(t){return w(this,void 0,void 0,(function*(){return new Promise(((e,r)=>{const i=setInterval((()=>{t.tronWeb&&(clearInterval(i),clearTimeout(n),e())}),50),n=setTimeout((()=>{clearInterval(i),r("`window.tron.tronweb` is not ready.")}),2e3)}))}))}(this._wallet))}catch(r){let t=(null===r||void 0===r?void 0:r.message)||r||"Connect TronLink wallet failed.";throw-32002===r.code&&(t="The same DApp has already initiated a request to connect to TronLink wallet, and the pop-up window has not been closed."),4001===r.code&&(t="The user rejected connection."),new p(t,r)}}else if(window.tronLink){const e=this._wallet;try{const t=yield e.request({method:"tron_requestAccounts"});if(!t)throw new p("TronLink wallet is locked or no wallet account is avaliable.");if(4e3===t.code)throw new p("The same DApp has already initiated a request to connect to TronLink wallet, and the pop-up window has not been closed.");if(4001===t.code)throw new p("The user rejected connection.")}catch(r){throw new p(null===r||void 0===r?void 0:r.message,r)}const i=(null===(t=e.tronWeb.defaultAddress)||void 0===t?void 0:t.base58)||"";this.setAddress(i),this.setState(o.Connected),this._listenTronLinkEvent()}else{if(!window.tronWeb)throw new p("Cannot connect wallet.");{const t=this._wallet,r=(null===(e=t.tronWeb.defaultAddress)||void 0===e?void 0:e.base58)||"";this.setAddress(r),this.setState(o.Connected)}}this.connected&&this.emit("connect",this.address||"")}catch(r){throw this.emit("error",r),r}finally{this._connecting=!1}}))}disconnect(){return M(this,void 0,void 0,(function*(){this._supportNewTronProtocol?this._stopListenTronEvent():this._stopListenTronLinkEvent(),this.state===o.Connected&&(this.setAddress(null),this.setState(o.Disconnect),this.emit("disconnect"))}))}signTransaction(t,e){return M(this,void 0,void 0,(function*(){try{const i=yield this.checkAndGetWallet();try{return yield i.tronWeb.trx.sign(t,e)}catch(r){throw r instanceof Error?new m(r.message,r):new m(r,new Error(r))}}catch(r){throw this.emit("error",r),r}}))}multiSign(...t){return M(this,void 0,void 0,(function*(){try{const r=yield this.checkAndGetWallet();try{return yield r.tronWeb.trx.multiSign(...t)}catch(e){throw e instanceof Error?new m(e.message,e):new m(e,new Error(e))}}catch(e){throw this.emit("error",e),e}}))}signMessage(t,e){return M(this,void 0,void 0,(function*(){try{const i=yield this.checkAndGetWallet();try{return yield i.tronWeb.trx.signMessageV2(t,e)}catch(r){throw r instanceof Error?new g(r.message,r):new g(r,new Error(r))}}catch(r){throw this.emit("error",r),r}}))}switchChain(t){return M(this,void 0,void 0,(function*(){try{if(yield this._checkWallet(),this.state===o.NotFound)throw!1!==this.config.openUrlWhenWalletNotFound&&u()&&window.open(this.url,"_blank"),new l;if(!this._supportNewTronProtocol)throw new v("Current version of TronLink doesn't support switch chain operation.");const r=this._wallet;try{yield r.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]})}catch(e){throw new v((null===e||void 0===e?void 0:e.message)||e,e instanceof Error?e:new Error(e))}}catch(r){throw this.emit("error",r),r}}))}checkAndGetWallet(){return M(this,void 0,void 0,(function*(){if(this.checkIfOpenTronLink(),yield this._checkWallet(),this.state!==o.Connected)throw new d;const t=this._wallet;if(!t||!t.tronWeb)throw new d;return t}))}_listenTronLinkEvent(){this._stopListenTronLinkEvent(),window.addEventListener("message",this._tronLinkMessageHandler)}_stopListenTronLinkEvent(){window.removeEventListener("message",this._tronLinkMessageHandler)}checkIfOpenTronLink(){const{dappName:t="",dappIcon:e=""}=this.config;if(!1!==this.config.openTronLinkAppOnMobile&&E({dappIcon:e,dappName:t}))throw new l}_listenTronEvent(){this._stopListenTronEvent(),this._stopListenTronLinkEvent();const t=this._wallet;t.on("chainChanged",this._onChainChanged),t.on("accountsChanged",this._onAccountsChanged)}_stopListenTronEvent(){const t=this._wallet;t.removeListener("chainChanged",this._onChainChanged),t.removeListener("accountsChanged",this._onAccountsChanged)}_checkWallet(){if(this.readyState===s.Found)return Promise.resolve(!0);if(this._checkPromise)return this._checkPromise;const t=Math.floor(20),e=Math.floor(this.config.checkTimeout/100);let r,i=0;return this._checkPromise=new Promise((n=>{const o=()=>{i++;const o=i<t&&!f()?b():A();(o||i>e)&&(r&&clearInterval(r),this._readyState=o?s.Found:s.NotFound,this._updateWallet(),this.emit("readyStateChanged",this.readyState),n(o))};r=setInterval(o,100),o()})),this._checkPromise}checkForWalletReadyForApp(){if(this.checkReadyInterval)return;let t=0;const e=Math.floor(this.config.checkTimeout/200);this.checkReadyInterval=setInterval((()=>{var r,i;(window.tronLink?null===(r=window.tronLink.tronWeb)||void 0===r?void 0:r.defaultAddress:null===(i=window.tronWeb)||void 0===i?void 0:i.defaultAddress)?(this.checkReadyInterval&&clearInterval(this.checkReadyInterval),this.checkReadyInterval=null,this._updateWallet(),this.emit("connect",this.address||"")):t>e?(this.checkReadyInterval&&clearInterval(this.checkReadyInterval),this.checkReadyInterval=null):t++}),200)}setAddress(t){this._address=t}setState(t){t!==this.state&&(this._state=t,this.emit("stateChanged",t))}}}}]);